!function(t,l){if("object"==typeof exports&&"object"==typeof module)module.exports=l();else if("function"==typeof define&&define.amd)define([],l);else{var I=l();for(var e in I)("object"==typeof exports?exports:t)[e]=I[e]}}(window,(function(){return function(t){var l={};function I(e){if(l[e])return l[e].exports;var n=l[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,I),n.l=!0,n.exports}return I.m=t,I.c=l,I.d=function(t,l,e){I.o(t,l)||Object.defineProperty(t,l,{enumerable:!0,get:e})},I.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},I.t=function(t,l){if(1&l&&(t=I(t)),8&l)return t;if(4&l&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(I.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&l&&"string"!=typeof t)for(var n in t)I.d(e,n,function(l){return t[l]}.bind(null,n));return e},I.n=function(t){var l=t&&t.__esModule?function(){return t.default}:function(){return t};return I.d(l,"a",l),l},I.o=function(t,l){return Object.prototype.hasOwnProperty.call(t,l)},I.p="",I(I.s=16)}([function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vector_1 = __webpack_require__(4);\r\n/**\r\n * 工具函数\r\n */\r\nexports.Util = {\r\n    /**\r\n     * 生成唯一id\r\n     */\r\n    generateId() {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            let r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n            return v.toString(16);\r\n        });\r\n    },\r\n    /**\r\n     * 扩展对象\r\n     * @param origin 原对象\r\n     * @param ext 扩展的对象\r\n     */\r\n    extends(origin, ext) {\r\n        if (ext === null || ext === undefined)\r\n            return;\r\n        if (typeof origin !== 'object' || Array.isArray(origin))\r\n            return;\r\n        Object.keys(ext).map(prop => {\r\n            if (ext[prop] !== null && typeof ext[prop] === 'object' && !Array.isArray(ext[prop])) {\r\n                if (origin[prop] === undefined) {\r\n                    origin[prop] = {};\r\n                }\r\n                exports.Util.extends(origin[prop], ext[prop]);\r\n            }\r\n            else {\r\n                origin[prop] = ext[prop];\r\n            }\r\n        });\r\n    },\r\n    /**\r\n     * 合并对象\r\n     * @param origin\r\n     * @param dest\r\n     */\r\n    merge(origin, dest) {\r\n        if (dest === undefined || dest === null)\r\n            return;\r\n        Object.keys(dest).map(key => {\r\n            if (origin[key] === undefined || dest[key] === undefined) {\r\n                return;\r\n            }\r\n            if (typeof dest[key] === 'object' && !Array.isArray(dest[key])) {\r\n                if (origin[key] !== null && typeof origin[key] === 'object' && !Array.isArray(origin[key])) {\r\n                    exports.Util.merge(origin[key], dest[key]);\r\n                }\r\n                else {\r\n                    origin[key] = dest[key];\r\n                }\r\n            }\r\n            else {\r\n                origin[key] = dest[key];\r\n            }\r\n        });\r\n    },\r\n    /**\r\n     * 从列表中移除元素\r\n     * @param list 移除列表\r\n     * @param fn 移除判断规则\r\n     */\r\n    removeFromList(list, fn) {\r\n        for (let i = 0; i < list.length; i++) {\r\n            fn(list[i]) && list.splice(i, 1) && i--;\r\n        }\r\n    },\r\n    /**\r\n     * 从列表中寻找元素\r\n     * @param list\r\n     * @param fn\r\n     */\r\n    findInList(list, fn) {\r\n        return list[list.findIndex(fn)];\r\n    },\r\n    /**\r\n     * 获取一个数的符号\r\n     * @param number\r\n     */\r\n    sign(number) {\r\n        return number < 0 ? -1 : 1;\r\n    },\r\n    /**\r\n     * 从一个由数组组成的路径中获取几何中心\r\n     * @param path\r\n     */\r\n    getPathCenter(path) {\r\n        let maxX = -Infinity, minX = Infinity, maxY = -Infinity, minY = Infinity;\r\n        path.map(item => {\r\n            if (item[0] > maxX)\r\n                maxX = item[0];\r\n            if (item[0] < minX)\r\n                minX = item[0];\r\n            if (item[1] > maxY)\r\n                maxY = item[1];\r\n            if (item[1] < minY)\r\n                minY = item[1];\r\n        });\r\n        return [(maxX + minX) / 2, (maxY + minY) / 2];\r\n    },\r\n    /**\r\n     * 断言函数\r\n     * @param assertFn\r\n     * @param errorText\r\n     */\r\n    assert(condition, errorText) {\r\n        if (condition) {\r\n            throw errorText;\r\n        }\r\n    },\r\n    /**\r\n     * 锚点转化为世界坐标\r\n     * @param shape\r\n     * @param anchor\r\n     * @param offset\r\n     */\r\n    anchor2position(x, y, width, height, rotation, anchor, offset) {\r\n        let pos = typeof anchor === 'function' ?\r\n            anchor(width, height, offset) :\r\n            anchor;\r\n        return rotation ? vector_1.Vector.rotation(rotation, [x + pos[0], y + pos[1]], [x, y]) : [x + pos[0], y + pos[1]];\r\n    },\r\n    /**\r\n     * 获取类的名称\r\n     * @param classConstructor\r\n     */\r\n    getClassName(classConstructor) {\r\n        return classConstructor.prototype.constructor.toString().split(' ')[1];\r\n    },\r\n    /**\r\n     * 文本解析\r\n     * @param text\r\n     */\r\n    textParser(text) {\r\n        let fieldReg = /\\[[^\\]]*\\]/g;\r\n        if (fieldReg.test(text)) {\r\n            let contents = text.match(fieldReg), values = contents.map(item => item.replace(/\\[|\\]/g, ''));\r\n            return values;\r\n        }\r\n        else {\r\n            return text;\r\n        }\r\n    },\r\n    /**\r\n     * 牵制某个值\r\n     * @param value\r\n     */\r\n    clamp(value, max, min) {\r\n        if (value <= max && value >= min)\r\n            return value;\r\n        if (value > max)\r\n            return max;\r\n        if (value < min)\r\n            return min;\r\n    }\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9Db21tb24vdXRpbC5qcz81ZWZjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQThDLGNBQWM7QUFDNUQsaUJBQWlCLG1CQUFPLENBQUMsQ0FBVTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsaUJBQWlCO0FBQ3hDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IHZlY3Rvcl8xID0gcmVxdWlyZShcIi4vdmVjdG9yXCIpO1xyXG4vKipcclxuICog5bel5YW35Ye95pWwXHJcbiAqL1xyXG5leHBvcnRzLlV0aWwgPSB7XHJcbiAgICAvKipcclxuICAgICAqIOeUn+aIkOWUr+S4gGlkXHJcbiAgICAgKi9cclxuICAgIGdlbmVyYXRlSWQoKSB7XHJcbiAgICAgICAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24gKGMpIHtcclxuICAgICAgICAgICAgbGV0IHIgPSBNYXRoLnJhbmRvbSgpICogMTYgfCAwLCB2ID0gYyA9PSAneCcgPyByIDogKHIgJiAweDMgfCAweDgpO1xyXG4gICAgICAgICAgICByZXR1cm4gdi50b1N0cmluZygxNik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiDmianlsZXlr7nosaFcclxuICAgICAqIEBwYXJhbSBvcmlnaW4g5Y6f5a+56LGhXHJcbiAgICAgKiBAcGFyYW0gZXh0IOaJqeWxleeahOWvueixoVxyXG4gICAgICovXHJcbiAgICBleHRlbmRzKG9yaWdpbiwgZXh0KSB7XHJcbiAgICAgICAgaWYgKGV4dCA9PT0gbnVsbCB8fCBleHQgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGlmICh0eXBlb2Ygb3JpZ2luICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KG9yaWdpbikpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBPYmplY3Qua2V5cyhleHQpLm1hcChwcm9wID0+IHtcclxuICAgICAgICAgICAgaWYgKGV4dFtwcm9wXSAhPT0gbnVsbCAmJiB0eXBlb2YgZXh0W3Byb3BdID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShleHRbcHJvcF0pKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3JpZ2luW3Byb3BdID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5bcHJvcF0gPSB7fTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGV4cG9ydHMuVXRpbC5leHRlbmRzKG9yaWdpbltwcm9wXSwgZXh0W3Byb3BdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG9yaWdpbltwcm9wXSA9IGV4dFtwcm9wXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICog5ZCI5bm25a+56LGhXHJcbiAgICAgKiBAcGFyYW0gb3JpZ2luXHJcbiAgICAgKiBAcGFyYW0gZGVzdFxyXG4gICAgICovXHJcbiAgICBtZXJnZShvcmlnaW4sIGRlc3QpIHtcclxuICAgICAgICBpZiAoZGVzdCA9PT0gdW5kZWZpbmVkIHx8IGRlc3QgPT09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBPYmplY3Qua2V5cyhkZXN0KS5tYXAoa2V5ID0+IHtcclxuICAgICAgICAgICAgaWYgKG9yaWdpbltrZXldID09PSB1bmRlZmluZWQgfHwgZGVzdFtrZXldID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGRlc3Rba2V5XSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkoZGVzdFtrZXldKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpbltrZXldICE9PSBudWxsICYmIHR5cGVvZiBvcmlnaW5ba2V5XSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkob3JpZ2luW2tleV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0cy5VdGlsLm1lcmdlKG9yaWdpbltrZXldLCBkZXN0W2tleV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luW2tleV0gPSBkZXN0W2tleV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBvcmlnaW5ba2V5XSA9IGRlc3Rba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICog5LuO5YiX6KGo5Lit56e76Zmk5YWD57SgXHJcbiAgICAgKiBAcGFyYW0gbGlzdCDnp7vpmaTliJfooahcclxuICAgICAqIEBwYXJhbSBmbiDnp7vpmaTliKTmlq3op4TliJlcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlRnJvbUxpc3QobGlzdCwgZm4pIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgZm4obGlzdFtpXSkgJiYgbGlzdC5zcGxpY2UoaSwgMSkgJiYgaS0tO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIOS7juWIl+ihqOS4reWvu+aJvuWFg+e0oFxyXG4gICAgICogQHBhcmFtIGxpc3RcclxuICAgICAqIEBwYXJhbSBmblxyXG4gICAgICovXHJcbiAgICBmaW5kSW5MaXN0KGxpc3QsIGZuKSB7XHJcbiAgICAgICAgcmV0dXJuIGxpc3RbbGlzdC5maW5kSW5kZXgoZm4pXTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPluS4gOS4quaVsOeahOespuWPt1xyXG4gICAgICogQHBhcmFtIG51bWJlclxyXG4gICAgICovXHJcbiAgICBzaWduKG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiBudW1iZXIgPCAwID8gLTEgOiAxO1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICog5LuO5LiA5Liq55Sx5pWw57uE57uE5oiQ55qE6Lev5b6E5Lit6I635Y+W5Yeg5L2V5Lit5b+DXHJcbiAgICAgKiBAcGFyYW0gcGF0aFxyXG4gICAgICovXHJcbiAgICBnZXRQYXRoQ2VudGVyKHBhdGgpIHtcclxuICAgICAgICBsZXQgbWF4WCA9IC1JbmZpbml0eSwgbWluWCA9IEluZmluaXR5LCBtYXhZID0gLUluZmluaXR5LCBtaW5ZID0gSW5maW5pdHk7XHJcbiAgICAgICAgcGF0aC5tYXAoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtWzBdID4gbWF4WClcclxuICAgICAgICAgICAgICAgIG1heFggPSBpdGVtWzBdO1xyXG4gICAgICAgICAgICBpZiAoaXRlbVswXSA8IG1pblgpXHJcbiAgICAgICAgICAgICAgICBtaW5YID0gaXRlbVswXTtcclxuICAgICAgICAgICAgaWYgKGl0ZW1bMV0gPiBtYXhZKVxyXG4gICAgICAgICAgICAgICAgbWF4WSA9IGl0ZW1bMV07XHJcbiAgICAgICAgICAgIGlmIChpdGVtWzFdIDwgbWluWSlcclxuICAgICAgICAgICAgICAgIG1pblkgPSBpdGVtWzFdO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBbKG1heFggKyBtaW5YKSAvIDIsIChtYXhZICsgbWluWSkgLyAyXTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIOaWreiogOWHveaVsFxyXG4gICAgICogQHBhcmFtIGFzc2VydEZuXHJcbiAgICAgKiBAcGFyYW0gZXJyb3JUZXh0XHJcbiAgICAgKi9cclxuICAgIGFzc2VydChjb25kaXRpb24sIGVycm9yVGV4dCkge1xyXG4gICAgICAgIGlmIChjb25kaXRpb24pIHtcclxuICAgICAgICAgICAgdGhyb3cgZXJyb3JUZXh0O1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIOmUmueCuei9rOWMluS4uuS4lueVjOWdkOagh1xyXG4gICAgICogQHBhcmFtIHNoYXBlXHJcbiAgICAgKiBAcGFyYW0gYW5jaG9yXHJcbiAgICAgKiBAcGFyYW0gb2Zmc2V0XHJcbiAgICAgKi9cclxuICAgIGFuY2hvcjJwb3NpdGlvbih4LCB5LCB3aWR0aCwgaGVpZ2h0LCByb3RhdGlvbiwgYW5jaG9yLCBvZmZzZXQpIHtcclxuICAgICAgICBsZXQgcG9zID0gdHlwZW9mIGFuY2hvciA9PT0gJ2Z1bmN0aW9uJyA/XHJcbiAgICAgICAgICAgIGFuY2hvcih3aWR0aCwgaGVpZ2h0LCBvZmZzZXQpIDpcclxuICAgICAgICAgICAgYW5jaG9yO1xyXG4gICAgICAgIHJldHVybiByb3RhdGlvbiA/IHZlY3Rvcl8xLlZlY3Rvci5yb3RhdGlvbihyb3RhdGlvbiwgW3ggKyBwb3NbMF0sIHkgKyBwb3NbMV1dLCBbeCwgeV0pIDogW3ggKyBwb3NbMF0sIHkgKyBwb3NbMV1dO1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICog6I635Y+W57G755qE5ZCN56ewXHJcbiAgICAgKiBAcGFyYW0gY2xhc3NDb25zdHJ1Y3RvclxyXG4gICAgICovXHJcbiAgICBnZXRDbGFzc05hbWUoY2xhc3NDb25zdHJ1Y3Rvcikge1xyXG4gICAgICAgIHJldHVybiBjbGFzc0NvbnN0cnVjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3Rvci50b1N0cmluZygpLnNwbGl0KCcgJylbMV07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiDmlofmnKzop6PmnpBcclxuICAgICAqIEBwYXJhbSB0ZXh0XHJcbiAgICAgKi9cclxuICAgIHRleHRQYXJzZXIodGV4dCkge1xyXG4gICAgICAgIGxldCBmaWVsZFJlZyA9IC9cXFtbXlxcXV0qXFxdL2c7XHJcbiAgICAgICAgaWYgKGZpZWxkUmVnLnRlc3QodGV4dCkpIHtcclxuICAgICAgICAgICAgbGV0IGNvbnRlbnRzID0gdGV4dC5tYXRjaChmaWVsZFJlZyksIHZhbHVlcyA9IGNvbnRlbnRzLm1hcChpdGVtID0+IGl0ZW0ucmVwbGFjZSgvXFxbfFxcXS9nLCAnJykpO1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRleHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICog54m15Yi25p+Q5Liq5YC8XHJcbiAgICAgKiBAcGFyYW0gdmFsdWVcclxuICAgICAqL1xyXG4gICAgY2xhbXAodmFsdWUsIG1heCwgbWluKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlIDw9IG1heCAmJiB2YWx1ZSA+PSBtaW4pXHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICBpZiAodmFsdWUgPiBtYXgpXHJcbiAgICAgICAgICAgIHJldHVybiBtYXg7XHJcbiAgICAgICAgaWYgKHZhbHVlIDwgbWluKVxyXG4gICAgICAgICAgICByZXR1cm4gbWluO1xyXG4gICAgfVxyXG59O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst shape_1 = __webpack_require__(2);\r\nconst util_1 = __webpack_require__(0);\r\nconst text_1 = __webpack_require__(9);\r\nconst globalShape_1 = __webpack_require__(19);\r\nconst zrender = __webpack_require__(20);\r\nconst boundingRect_1 = __webpack_require__(3);\r\nconst animations_1 = __webpack_require__(21);\r\n/**\r\n * 渲染器\r\n */\r\nclass Renderer {\r\n    constructor(container, viewModel, opt) {\r\n        // zrender实例\r\n        this.zr = null;\r\n        // 需使用动画更新的zrender属性的队列\r\n        this.animatePropsQueue = [];\r\n        // 上一批需使用动画更新的zrender属性的队列\r\n        this.lastAnimatePropsQueue = [];\r\n        // 需更新的zrender属性的队列\r\n        this.propsQueue = [];\r\n        // 上一次更新是否被该次打断\r\n        this.isLastUpdateInterrupt = false;\r\n        this.viewModel = viewModel;\r\n        this.zr = Renderer.zrender.init(container);\r\n        this.animations = new animations_1.Animations(opt);\r\n        this.globalShape = new globalShape_1.GlobalShape(this);\r\n        this.globalShape.setOrigin(container.offsetWidth / 2, container.offsetHeight / 2);\r\n        this.animationOption = opt;\r\n        this.container = container;\r\n        this.containerWidth = container.offsetWidth;\r\n        this.containerHeight = container.offsetHeight;\r\n        this.zr.add(this.globalShape.getZrenderShape());\r\n    }\r\n    /**\r\n     * 设置zrender图形属性\r\n     * @param zrenderShape\r\n     * @param props\r\n     * @param animation\r\n     */\r\n    setAttribute(zrenderShape, props, animation) {\r\n        if (animation === undefined) {\r\n            animation = this.animationOption.enableAnimation;\r\n        }\r\n        let queue = animation ? this.animatePropsQueue : this.propsQueue;\r\n        let item = queue.find(item => zrenderShape.id === item.zrenderShape.id);\r\n        if (!item) {\r\n            queue.push({\r\n                zrenderShape,\r\n                props\r\n            });\r\n        }\r\n        else {\r\n            util_1.Util.extends(item.props, props);\r\n        }\r\n    }\r\n    /**\r\n     * 根据图形的mountState渲染zrender图形\r\n     * @param shapeList\r\n     * @param removeList\r\n     */\r\n    renderZrenderShapes(shapeList, removeList) {\r\n        let shape, i;\r\n        // 遍历shapeList中的图形\r\n        for (i = 0; i < shapeList.length; i++) {\r\n            shape = shapeList[i];\r\n            // 若图形状态为NEEDMOUNT，即需挂载\r\n            if (shape.mountState === shape_1.mountState.NEEDMOUNT) {\r\n                // 若zrender图形未创建，则创建zrender图形\r\n                if (shape.zrenderShape === null) {\r\n                    shape.zrenderShape = shape.createZrenderShape();\r\n                }\r\n                else {\r\n                    // 文本图形特殊处理\r\n                    if (shape instanceof text_1.Text) {\r\n                        shape.updateText(shape.zrenderShape);\r\n                    }\r\n                }\r\n                // 将图形加入到全局图形容器\r\n                this.globalShape.add(shape);\r\n                // 在图形加入容器后，设置为隐藏，为淡入淡出动画做铺垫\r\n                shape.updateZrenderShape('hide', false);\r\n                // 修改挂载状态为已挂载\r\n                shape.mountState = shape_1.mountState.MOUNTED;\r\n                // 设置图形可见性\r\n                shape.visible = true;\r\n                shape.updateZrenderShape('show');\r\n            }\r\n            // 将该图形实例添加到 zrender 图形上\r\n            shape.zrenderShape.svShape = shape;\r\n            // 设置叠层优先级\r\n            shape.zrenderShape.attr('z', shape.option.zIndex);\r\n        }\r\n        // 处理需要移除的图形\r\n        removeList.length && removeList.map(shape => {\r\n            // 若图形状态为NEEDUNMOUNT)，即需卸载\r\n            if (shape.mountState === shape_1.mountState.NEEDUNMOUNT) {\r\n                // 修改挂载状态为已卸载\r\n                shape.mountState = shape_1.mountState.UNMOUNTED;\r\n                // 设置图形可见性\r\n                shape.visible = false;\r\n                shape.updateZrenderShape('hide', true, (shape => {\r\n                    return () => {\r\n                        this.globalShape.remove(shape);\r\n                        shape.zrenderShape = null;\r\n                    };\r\n                })(shape));\r\n            }\r\n        });\r\n        // 更新视图缩放 / 旋转中心\r\n        let globalBound = this.getGlobalBound(), cx = globalBound.x + globalBound.width / 2, cy = globalBound.y + globalBound.height / 2;\r\n        this.globalShape.setOrigin(cx, cy);\r\n    }\r\n    /**\r\n     * 根据属性更新队列更新zrender图形\r\n     */\r\n    updateZrenderShapes(callback) {\r\n        // 遍历属性列表，直接修改属性\r\n        if (this.propsQueue.length) {\r\n            this.propsQueue.map(item => {\r\n                Object.keys(item.props).map(prop => {\r\n                    if (prop !== 'callback') {\r\n                        item.zrenderShape.attr(prop, item.props[prop]);\r\n                    }\r\n                });\r\n                // 执行回调\r\n                item.props['callback'] && item.props['callback']();\r\n            });\r\n            this.propsQueue.length = 0;\r\n            if (this.animationOption.enableAnimation === false) {\r\n                this.viewModel.isViewUpdating = false;\r\n                callback && callback();\r\n            }\r\n        }\r\n        setTimeout(() => {\r\n            if (this.animatePropsQueue.length) {\r\n                this.lastAnimatePropsQueue = this.animatePropsQueue;\r\n                this.animatePropsQueue = [];\r\n                let queue = this.lastAnimatePropsQueue, queueLength = queue.length, counter = 0;\r\n                // 遍历动画属性列表，执行动画\r\n                queue.map(item => {\r\n                    item.zrenderShape.animateTo(item.props, this.animationOption.duration, this.animationOption.timingFunction, () => {\r\n                        counter++;\r\n                        // 所有动画结束，触发afterUpadte回调事件\r\n                        if (counter === queueLength && this.isLastUpdateInterrupt === false) {\r\n                            this.viewModel.isViewUpdating = false;\r\n                            queue.length = 0;\r\n                            callback && callback();\r\n                        }\r\n                        item.props.callback && item.props.callback();\r\n                    });\r\n                });\r\n            }\r\n        }, 0);\r\n    }\r\n    /**\r\n     * 跳过上一次更新的动画过程\r\n     * @param callback\r\n     */\r\n    skipUpdateZrenderShapes(callback) {\r\n        if (this.lastAnimatePropsQueue.length) {\r\n            this.isLastUpdateInterrupt = true;\r\n            // 遍历动画属性列表，执行动画\r\n            this.lastAnimatePropsQueue.map(item => {\r\n                item.zrenderShape.stopAnimation(true);\r\n                item.props['callback'] && item.props['callback']();\r\n            });\r\n            // 所有动画结束，触发afterUpadte回调事件\r\n            callback && callback();\r\n            this.viewModel.isViewUpdating = false;\r\n            this.lastAnimatePropsQueue.length = 0;\r\n            this.isLastUpdateInterrupt = false;\r\n        }\r\n    }\r\n    /**\r\n     * 根据 translate 和 scale 调整视图\r\n     * @param position\r\n     * @param scale\r\n     * @param bound\r\n     */\r\n    adjustGlobalShape(position, scale, bound) {\r\n        let globalBound = bound || this.getGlobalBound(), isFirstRender = this.viewModel.isFirstRender;\r\n        if (position !== undefined) {\r\n            if (Array.isArray(position)) {\r\n                let [px, py] = this.globalShape.getPosition();\r\n                this.globalShape.translate(position[0] - px, position[1] - py, !isFirstRender);\r\n            }\r\n            if (position === 'auto') {\r\n                this.autoPosition(globalBound, !isFirstRender);\r\n            }\r\n        }\r\n        if (scale !== undefined) {\r\n            if (Array.isArray(scale)) {\r\n                // 限制缩放大小在 [0.25, 4]\r\n                if (scale[0] > 4)\r\n                    scale[0] = 4;\r\n                if (scale[0] < 0.25)\r\n                    scale[0] = 0.25;\r\n                if (scale[1] > 4)\r\n                    scale[1] = 4;\r\n                if (scale[1] < 0.25)\r\n                    scale[1] = 0.25;\r\n                this.globalShape.scale(scale[0], scale[1], !isFirstRender);\r\n            }\r\n            if (scale === 'auto') {\r\n                this.autoScale(globalBound, !isFirstRender);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * 重新整视图尺寸\r\n     * @param option\r\n     * @param position\r\n     * @param scale\r\n     */\r\n    resizeGlobalShape(option, position, scale) {\r\n        // 视图正在更新，不进行操作\r\n        if (this.viewModel.isViewUpdating)\r\n            return;\r\n        let targetWidth = option.width === 'auto' ? this.container.offsetWidth : option.width, targetHeight = option.height === 'auto' ? this.container.offsetHeight : option.height, bound = this.globalShape.getBound();\r\n        // 容器尺寸没有发生变化，不执行操作\r\n        if (targetWidth === this.containerWidth && targetHeight === this.containerHeight) {\r\n            return;\r\n        }\r\n        this.viewModel.isViewUpdating = true;\r\n        this.containerWidth = targetWidth;\r\n        this.containerHeight = targetHeight;\r\n        this.zr.resize(option);\r\n        let newTranslate = [this.containerWidth / 2, this.containerHeight / 2];\r\n        // 调整视图\r\n        this.adjustGlobalShape(newTranslate, scale, bound);\r\n        // 更新视图\r\n        this.updateZrenderShapes();\r\n    }\r\n    /**\r\n     * 调整视图至容器中央\r\n     * @param bound\r\n     * @param enableAnimation\r\n     */\r\n    autoPosition(bound, enableAnimation = false) {\r\n        let isFirstRender = this.viewModel.isFirstRender, cx = bound.x + bound.width / 2, cy = bound.y + bound.height / 2, dx, dy;\r\n        // 首次调整\r\n        if (isFirstRender) {\r\n            dx = this.containerWidth / 2 - cx;\r\n            dy = this.containerHeight / 2 - cy;\r\n        }\r\n        else {\r\n            dx = this.lastCenter[0] - cx;\r\n            dy = this.lastCenter[1] - cy;\r\n        }\r\n        this.globalShape.translate(dx, dy, enableAnimation);\r\n        this.lastCenter = [cx, cy];\r\n    }\r\n    /**\r\n     * 调整视图使视图适应容器尺寸\r\n     * @param bound\r\n     * @param enableAnimation\r\n     */\r\n    autoScale(bound, enableAnimation = false) {\r\n        let globalScale = this.globalShape.getScale(), globalWidth = bound.width, globalHeight = bound.height, maxEdge = globalWidth > globalHeight ? this.containerWidth : this.containerHeight, maxBoundEdge = globalWidth > globalHeight ? globalWidth : globalHeight, dWidth = globalWidth - this.containerWidth, dHeight = globalHeight - this.containerHeight, edge, boundEdge;\r\n        if (dWidth < 0 && dHeight < 0) {\r\n            edge = maxEdge;\r\n            boundEdge = maxBoundEdge;\r\n        }\r\n        else {\r\n            if (dWidth > dHeight) {\r\n                boundEdge = globalWidth;\r\n                edge = this.containerWidth;\r\n            }\r\n            else {\r\n                boundEdge = globalHeight;\r\n                edge = this.containerHeight;\r\n            }\r\n        }\r\n        let scaleCoefficient = edge * 0.75 / boundEdge, scaleX = globalScale[0] * scaleCoefficient, scaleY = globalScale[1] * scaleCoefficient;\r\n        if (scaleX > 1)\r\n            scaleX = 1;\r\n        if (scaleY > 1)\r\n            scaleY = 1;\r\n        if (scaleX < 0.25)\r\n            scaleX = 0.25;\r\n        if (scaleY < 0.25)\r\n            scaleY = 0.25;\r\n        this.globalShape.scale(scaleX, scaleY, enableAnimation);\r\n    }\r\n    /**\r\n     * 根据动画名称，获取animations对象的对应动画属性\r\n     * @param shape\r\n     * @param animationName\r\n     */\r\n    getAnimationProps(shape, animationName) {\r\n        return this.animations[animationName](shape);\r\n    }\r\n    /**\r\n     * 获取由所有图形组成的包围盒\r\n     * @param shapes\r\n     */\r\n    getGlobalBound(shapesBound = true) {\r\n        return shapesBound ?\r\n            boundingRect_1.Bound.union(...this.viewModel.getShapeList().map(item => item.getBound())) :\r\n            this.globalShape.getBound();\r\n    }\r\n    /**\r\n     * 获取全局容器图形\r\n     */\r\n    getGlobalShape() {\r\n        return this.globalShape;\r\n    }\r\n    /**\r\n     * 获取 html 容器\r\n     */\r\n    getContainer() {\r\n        return this.container;\r\n    }\r\n    /**\r\n     * 获取容器宽度\r\n     */\r\n    getContainerWidth() {\r\n        return this.containerWidth;\r\n    }\r\n    /**\r\n     * 获取容器高度\r\n     */\r\n    getContainerHeight() {\r\n        return this.containerHeight;\r\n    }\r\n    /**\r\n     * 获取 zrender 实例\r\n     */\r\n    getZrender() {\r\n        return this.zr;\r\n    }\r\n    /**\r\n     * 清空数据\r\n     */\r\n    clear() {\r\n        this.animatePropsQueue.length = 0;\r\n        this.propsQueue.length = 0;\r\n        this.globalShape.clear();\r\n    }\r\n}\r\nRenderer.zrender = zrender;\r\nexports.Renderer = Renderer;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9WaWV3L3JlbmRlcmVyLmpzPzk3MDgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RCxnQkFBZ0IsbUJBQU8sQ0FBQyxDQUFtQjtBQUMzQyxlQUFlLG1CQUFPLENBQUMsQ0FBZ0I7QUFDdkMsZUFBZSxtQkFBTyxDQUFDLENBQWdCO0FBQ3ZDLHNCQUFzQixtQkFBTyxDQUFDLEVBQWU7QUFDN0MsZ0JBQWdCLG1CQUFPLENBQUMsRUFBc0I7QUFDOUMsdUJBQXVCLG1CQUFPLENBQUMsQ0FBZ0I7QUFDL0MscUJBQXFCLG1CQUFPLENBQUMsRUFBYztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsc0JBQXNCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBzaGFwZV8xID0gcmVxdWlyZShcIi4vLi4vU2hhcGVzL3NoYXBlXCIpO1xyXG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi4vQ29tbW9uL3V0aWxcIik7XHJcbmNvbnN0IHRleHRfMSA9IHJlcXVpcmUoXCIuLi9TaGFwZXMvdGV4dFwiKTtcclxuY29uc3QgZ2xvYmFsU2hhcGVfMSA9IHJlcXVpcmUoXCIuL2dsb2JhbFNoYXBlXCIpO1xyXG5jb25zdCB6cmVuZGVyID0gcmVxdWlyZShcIi4vLi4vbGliL3pyZW5kZXIubWluXCIpO1xyXG5jb25zdCBib3VuZGluZ1JlY3RfMSA9IHJlcXVpcmUoXCIuL2JvdW5kaW5nUmVjdFwiKTtcclxuY29uc3QgYW5pbWF0aW9uc18xID0gcmVxdWlyZShcIi4vYW5pbWF0aW9uc1wiKTtcclxuLyoqXHJcbiAqIOa4suafk+WZqFxyXG4gKi9cclxuY2xhc3MgUmVuZGVyZXIge1xyXG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyLCB2aWV3TW9kZWwsIG9wdCkge1xyXG4gICAgICAgIC8vIHpyZW5kZXLlrp7kvotcclxuICAgICAgICB0aGlzLnpyID0gbnVsbDtcclxuICAgICAgICAvLyDpnIDkvb/nlKjliqjnlLvmm7TmlrDnmoR6cmVuZGVy5bGe5oCn55qE6Zif5YiXXHJcbiAgICAgICAgdGhpcy5hbmltYXRlUHJvcHNRdWV1ZSA9IFtdO1xyXG4gICAgICAgIC8vIOS4iuS4gOaJuemcgOS9v+eUqOWKqOeUu+abtOaWsOeahHpyZW5kZXLlsZ7mgKfnmoTpmJ/liJdcclxuICAgICAgICB0aGlzLmxhc3RBbmltYXRlUHJvcHNRdWV1ZSA9IFtdO1xyXG4gICAgICAgIC8vIOmcgOabtOaWsOeahHpyZW5kZXLlsZ7mgKfnmoTpmJ/liJdcclxuICAgICAgICB0aGlzLnByb3BzUXVldWUgPSBbXTtcclxuICAgICAgICAvLyDkuIrkuIDmrKHmm7TmlrDmmK/lkKbooqvor6XmrKHmiZPmlq1cclxuICAgICAgICB0aGlzLmlzTGFzdFVwZGF0ZUludGVycnVwdCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudmlld01vZGVsID0gdmlld01vZGVsO1xyXG4gICAgICAgIHRoaXMuenIgPSBSZW5kZXJlci56cmVuZGVyLmluaXQoY29udGFpbmVyKTtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMgPSBuZXcgYW5pbWF0aW9uc18xLkFuaW1hdGlvbnMob3B0KTtcclxuICAgICAgICB0aGlzLmdsb2JhbFNoYXBlID0gbmV3IGdsb2JhbFNoYXBlXzEuR2xvYmFsU2hhcGUodGhpcyk7XHJcbiAgICAgICAgdGhpcy5nbG9iYWxTaGFwZS5zZXRPcmlnaW4oY29udGFpbmVyLm9mZnNldFdpZHRoIC8gMiwgY29udGFpbmVyLm9mZnNldEhlaWdodCAvIDIpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uT3B0aW9uID0gb3B0O1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyV2lkdGggPSBjb250YWluZXIub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXJIZWlnaHQgPSBjb250YWluZXIub2Zmc2V0SGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuenIuYWRkKHRoaXMuZ2xvYmFsU2hhcGUuZ2V0WnJlbmRlclNoYXBlKCkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDorr7nva56cmVuZGVy5Zu+5b2i5bGe5oCnXHJcbiAgICAgKiBAcGFyYW0genJlbmRlclNoYXBlXHJcbiAgICAgKiBAcGFyYW0gcHJvcHNcclxuICAgICAqIEBwYXJhbSBhbmltYXRpb25cclxuICAgICAqL1xyXG4gICAgc2V0QXR0cmlidXRlKHpyZW5kZXJTaGFwZSwgcHJvcHMsIGFuaW1hdGlvbikge1xyXG4gICAgICAgIGlmIChhbmltYXRpb24gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBhbmltYXRpb24gPSB0aGlzLmFuaW1hdGlvbk9wdGlvbi5lbmFibGVBbmltYXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBxdWV1ZSA9IGFuaW1hdGlvbiA/IHRoaXMuYW5pbWF0ZVByb3BzUXVldWUgOiB0aGlzLnByb3BzUXVldWU7XHJcbiAgICAgICAgbGV0IGl0ZW0gPSBxdWV1ZS5maW5kKGl0ZW0gPT4genJlbmRlclNoYXBlLmlkID09PSBpdGVtLnpyZW5kZXJTaGFwZS5pZCk7XHJcbiAgICAgICAgaWYgKCFpdGVtKSB7XHJcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgenJlbmRlclNoYXBlLFxyXG4gICAgICAgICAgICAgICAgcHJvcHNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB1dGlsXzEuVXRpbC5leHRlbmRzKGl0ZW0ucHJvcHMsIHByb3BzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOagueaNruWbvuW9oueahG1vdW50U3RhdGXmuLLmn5N6cmVuZGVy5Zu+5b2iXHJcbiAgICAgKiBAcGFyYW0gc2hhcGVMaXN0XHJcbiAgICAgKiBAcGFyYW0gcmVtb3ZlTGlzdFxyXG4gICAgICovXHJcbiAgICByZW5kZXJacmVuZGVyU2hhcGVzKHNoYXBlTGlzdCwgcmVtb3ZlTGlzdCkge1xyXG4gICAgICAgIGxldCBzaGFwZSwgaTtcclxuICAgICAgICAvLyDpgY3ljoZzaGFwZUxpc3TkuK3nmoTlm77lvaJcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc2hhcGVMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHNoYXBlID0gc2hhcGVMaXN0W2ldO1xyXG4gICAgICAgICAgICAvLyDoi6Xlm77lvaLnirbmgIHkuLpORUVETU9VTlTvvIzljbPpnIDmjILovb1cclxuICAgICAgICAgICAgaWYgKHNoYXBlLm1vdW50U3RhdGUgPT09IHNoYXBlXzEubW91bnRTdGF0ZS5ORUVETU9VTlQpIHtcclxuICAgICAgICAgICAgICAgIC8vIOiLpXpyZW5kZXLlm77lvaLmnKrliJvlu7rvvIzliJnliJvlu7p6cmVuZGVy5Zu+5b2iXHJcbiAgICAgICAgICAgICAgICBpZiAoc2hhcGUuenJlbmRlclNoYXBlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hhcGUuenJlbmRlclNoYXBlID0gc2hhcGUuY3JlYXRlWnJlbmRlclNoYXBlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyDmlofmnKzlm77lvaLnibnmrorlpITnkIZcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2hhcGUgaW5zdGFuY2VvZiB0ZXh0XzEuVGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFwZS51cGRhdGVUZXh0KHNoYXBlLnpyZW5kZXJTaGFwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8g5bCG5Zu+5b2i5Yqg5YWl5Yiw5YWo5bGA5Zu+5b2i5a655ZmoXHJcbiAgICAgICAgICAgICAgICB0aGlzLmdsb2JhbFNoYXBlLmFkZChzaGFwZSk7XHJcbiAgICAgICAgICAgICAgICAvLyDlnKjlm77lvaLliqDlhaXlrrnlmajlkI7vvIzorr7nva7kuLrpmpDol4/vvIzkuLrmt6HlhaXmt6Hlh7rliqjnlLvlgZrpk7rlnqtcclxuICAgICAgICAgICAgICAgIHNoYXBlLnVwZGF0ZVpyZW5kZXJTaGFwZSgnaGlkZScsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIC8vIOS/ruaUueaMgui9veeKtuaAgeS4uuW3suaMgui9vVxyXG4gICAgICAgICAgICAgICAgc2hhcGUubW91bnRTdGF0ZSA9IHNoYXBlXzEubW91bnRTdGF0ZS5NT1VOVEVEO1xyXG4gICAgICAgICAgICAgICAgLy8g6K6+572u5Zu+5b2i5Y+v6KeB5oCnXHJcbiAgICAgICAgICAgICAgICBzaGFwZS52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHNoYXBlLnVwZGF0ZVpyZW5kZXJTaGFwZSgnc2hvdycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIOWwhuivpeWbvuW9ouWunuS+i+a3u+WKoOWIsCB6cmVuZGVyIOWbvuW9ouS4ilxyXG4gICAgICAgICAgICBzaGFwZS56cmVuZGVyU2hhcGUuc3ZTaGFwZSA9IHNoYXBlO1xyXG4gICAgICAgICAgICAvLyDorr7nva7lj6DlsYLkvJjlhYjnuqdcclxuICAgICAgICAgICAgc2hhcGUuenJlbmRlclNoYXBlLmF0dHIoJ3onLCBzaGFwZS5vcHRpb24uekluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5aSE55CG6ZyA6KaB56e76Zmk55qE5Zu+5b2iXHJcbiAgICAgICAgcmVtb3ZlTGlzdC5sZW5ndGggJiYgcmVtb3ZlTGlzdC5tYXAoc2hhcGUgPT4ge1xyXG4gICAgICAgICAgICAvLyDoi6Xlm77lvaLnirbmgIHkuLpORUVEVU5NT1VOVCnvvIzljbPpnIDljbjovb1cclxuICAgICAgICAgICAgaWYgKHNoYXBlLm1vdW50U3RhdGUgPT09IHNoYXBlXzEubW91bnRTdGF0ZS5ORUVEVU5NT1VOVCkge1xyXG4gICAgICAgICAgICAgICAgLy8g5L+u5pS55oyC6L2954q25oCB5Li65bey5Y246L29XHJcbiAgICAgICAgICAgICAgICBzaGFwZS5tb3VudFN0YXRlID0gc2hhcGVfMS5tb3VudFN0YXRlLlVOTU9VTlRFRDtcclxuICAgICAgICAgICAgICAgIC8vIOiuvue9ruWbvuW9ouWPr+ingeaAp1xyXG4gICAgICAgICAgICAgICAgc2hhcGUudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgc2hhcGUudXBkYXRlWnJlbmRlclNoYXBlKCdoaWRlJywgdHJ1ZSwgKHNoYXBlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdsb2JhbFNoYXBlLnJlbW92ZShzaGFwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYXBlLnpyZW5kZXJTaGFwZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH0pKHNoYXBlKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyDmm7TmlrDop4blm77nvKnmlL4gLyDml4vovazkuK3lv4NcclxuICAgICAgICBsZXQgZ2xvYmFsQm91bmQgPSB0aGlzLmdldEdsb2JhbEJvdW5kKCksIGN4ID0gZ2xvYmFsQm91bmQueCArIGdsb2JhbEJvdW5kLndpZHRoIC8gMiwgY3kgPSBnbG9iYWxCb3VuZC55ICsgZ2xvYmFsQm91bmQuaGVpZ2h0IC8gMjtcclxuICAgICAgICB0aGlzLmdsb2JhbFNoYXBlLnNldE9yaWdpbihjeCwgY3kpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDmoLnmja7lsZ7mgKfmm7TmlrDpmJ/liJfmm7TmlrB6cmVuZGVy5Zu+5b2iXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZVpyZW5kZXJTaGFwZXMoY2FsbGJhY2spIHtcclxuICAgICAgICAvLyDpgY3ljoblsZ7mgKfliJfooajvvIznm7TmjqXkv67mlLnlsZ7mgKdcclxuICAgICAgICBpZiAodGhpcy5wcm9wc1F1ZXVlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzUXVldWUubWFwKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoaXRlbS5wcm9wcykubWFwKHByb3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wICE9PSAnY2FsbGJhY2snKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uenJlbmRlclNoYXBlLmF0dHIocHJvcCwgaXRlbS5wcm9wc1twcm9wXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvLyDmiafooYzlm57osINcclxuICAgICAgICAgICAgICAgIGl0ZW0ucHJvcHNbJ2NhbGxiYWNrJ10gJiYgaXRlbS5wcm9wc1snY2FsbGJhY2snXSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5wcm9wc1F1ZXVlLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvbk9wdGlvbi5lbmFibGVBbmltYXRpb24gPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdNb2RlbC5pc1ZpZXdVcGRhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0ZVByb3BzUXVldWUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RBbmltYXRlUHJvcHNRdWV1ZSA9IHRoaXMuYW5pbWF0ZVByb3BzUXVldWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGVQcm9wc1F1ZXVlID0gW107XHJcbiAgICAgICAgICAgICAgICBsZXQgcXVldWUgPSB0aGlzLmxhc3RBbmltYXRlUHJvcHNRdWV1ZSwgcXVldWVMZW5ndGggPSBxdWV1ZS5sZW5ndGgsIGNvdW50ZXIgPSAwO1xyXG4gICAgICAgICAgICAgICAgLy8g6YGN5Y6G5Yqo55S75bGe5oCn5YiX6KGo77yM5omn6KGM5Yqo55S7XHJcbiAgICAgICAgICAgICAgICBxdWV1ZS5tYXAoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS56cmVuZGVyU2hhcGUuYW5pbWF0ZVRvKGl0ZW0ucHJvcHMsIHRoaXMuYW5pbWF0aW9uT3B0aW9uLmR1cmF0aW9uLCB0aGlzLmFuaW1hdGlvbk9wdGlvbi50aW1pbmdGdW5jdGlvbiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudGVyKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOaJgOacieWKqOeUu+e7k+adn++8jOinpuWPkWFmdGVyVXBhZHRl5Zue6LCD5LqL5Lu2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3VudGVyID09PSBxdWV1ZUxlbmd0aCAmJiB0aGlzLmlzTGFzdFVwZGF0ZUludGVycnVwdCA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlld01vZGVsLmlzVmlld1VwZGF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWV1ZS5sZW5ndGggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnByb3BzLmNhbGxiYWNrICYmIGl0ZW0ucHJvcHMuY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgMCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOi3s+i/h+S4iuS4gOasoeabtOaWsOeahOWKqOeUu+i/h+eoi1xyXG4gICAgICogQHBhcmFtIGNhbGxiYWNrXHJcbiAgICAgKi9cclxuICAgIHNraXBVcGRhdGVacmVuZGVyU2hhcGVzKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubGFzdEFuaW1hdGVQcm9wc1F1ZXVlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLmlzTGFzdFVwZGF0ZUludGVycnVwdCA9IHRydWU7XHJcbiAgICAgICAgICAgIC8vIOmBjeWOhuWKqOeUu+WxnuaAp+WIl+ihqO+8jOaJp+ihjOWKqOeUu1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RBbmltYXRlUHJvcHNRdWV1ZS5tYXAoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLnpyZW5kZXJTaGFwZS5zdG9wQW5pbWF0aW9uKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5wcm9wc1snY2FsbGJhY2snXSAmJiBpdGVtLnByb3BzWydjYWxsYmFjayddKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyDmiYDmnInliqjnlLvnu5PmnZ/vvIzop6blj5FhZnRlclVwYWR0ZeWbnuiwg+S6i+S7tlxyXG4gICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB0aGlzLnZpZXdNb2RlbC5pc1ZpZXdVcGRhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RBbmltYXRlUHJvcHNRdWV1ZS5sZW5ndGggPSAwO1xyXG4gICAgICAgICAgICB0aGlzLmlzTGFzdFVwZGF0ZUludGVycnVwdCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5qC55o2uIHRyYW5zbGF0ZSDlkowgc2NhbGUg6LCD5pW06KeG5Zu+XHJcbiAgICAgKiBAcGFyYW0gcG9zaXRpb25cclxuICAgICAqIEBwYXJhbSBzY2FsZVxyXG4gICAgICogQHBhcmFtIGJvdW5kXHJcbiAgICAgKi9cclxuICAgIGFkanVzdEdsb2JhbFNoYXBlKHBvc2l0aW9uLCBzY2FsZSwgYm91bmQpIHtcclxuICAgICAgICBsZXQgZ2xvYmFsQm91bmQgPSBib3VuZCB8fCB0aGlzLmdldEdsb2JhbEJvdW5kKCksIGlzRmlyc3RSZW5kZXIgPSB0aGlzLnZpZXdNb2RlbC5pc0ZpcnN0UmVuZGVyO1xyXG4gICAgICAgIGlmIChwb3NpdGlvbiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBvc2l0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IFtweCwgcHldID0gdGhpcy5nbG9iYWxTaGFwZS5nZXRQb3NpdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxTaGFwZS50cmFuc2xhdGUocG9zaXRpb25bMF0gLSBweCwgcG9zaXRpb25bMV0gLSBweSwgIWlzRmlyc3RSZW5kZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChwb3NpdGlvbiA9PT0gJ2F1dG8nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF1dG9Qb3NpdGlvbihnbG9iYWxCb3VuZCwgIWlzRmlyc3RSZW5kZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzY2FsZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNjYWxlKSkge1xyXG4gICAgICAgICAgICAgICAgLy8g6ZmQ5Yi257yp5pS+5aSn5bCP5ZyoIFswLjI1LCA0XVxyXG4gICAgICAgICAgICAgICAgaWYgKHNjYWxlWzBdID4gNClcclxuICAgICAgICAgICAgICAgICAgICBzY2FsZVswXSA9IDQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2NhbGVbMF0gPCAwLjI1KVxyXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlWzBdID0gMC4yNTtcclxuICAgICAgICAgICAgICAgIGlmIChzY2FsZVsxXSA+IDQpXHJcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVbMV0gPSA0O1xyXG4gICAgICAgICAgICAgICAgaWYgKHNjYWxlWzFdIDwgMC4yNSlcclxuICAgICAgICAgICAgICAgICAgICBzY2FsZVsxXSA9IDAuMjU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdsb2JhbFNoYXBlLnNjYWxlKHNjYWxlWzBdLCBzY2FsZVsxXSwgIWlzRmlyc3RSZW5kZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzY2FsZSA9PT0gJ2F1dG8nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF1dG9TY2FsZShnbG9iYWxCb3VuZCwgIWlzRmlyc3RSZW5kZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDph43mlrDmlbTop4blm77lsLrlr7hcclxuICAgICAqIEBwYXJhbSBvcHRpb25cclxuICAgICAqIEBwYXJhbSBwb3NpdGlvblxyXG4gICAgICogQHBhcmFtIHNjYWxlXHJcbiAgICAgKi9cclxuICAgIHJlc2l6ZUdsb2JhbFNoYXBlKG9wdGlvbiwgcG9zaXRpb24sIHNjYWxlKSB7XHJcbiAgICAgICAgLy8g6KeG5Zu+5q2j5Zyo5pu05paw77yM5LiN6L+b6KGM5pON5L2cXHJcbiAgICAgICAgaWYgKHRoaXMudmlld01vZGVsLmlzVmlld1VwZGF0aW5nKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgbGV0IHRhcmdldFdpZHRoID0gb3B0aW9uLndpZHRoID09PSAnYXV0bycgPyB0aGlzLmNvbnRhaW5lci5vZmZzZXRXaWR0aCA6IG9wdGlvbi53aWR0aCwgdGFyZ2V0SGVpZ2h0ID0gb3B0aW9uLmhlaWdodCA9PT0gJ2F1dG8nID8gdGhpcy5jb250YWluZXIub2Zmc2V0SGVpZ2h0IDogb3B0aW9uLmhlaWdodCwgYm91bmQgPSB0aGlzLmdsb2JhbFNoYXBlLmdldEJvdW5kKCk7XHJcbiAgICAgICAgLy8g5a655Zmo5bC65a+45rKh5pyJ5Y+R55Sf5Y+Y5YyW77yM5LiN5omn6KGM5pON5L2cXHJcbiAgICAgICAgaWYgKHRhcmdldFdpZHRoID09PSB0aGlzLmNvbnRhaW5lcldpZHRoICYmIHRhcmdldEhlaWdodCA9PT0gdGhpcy5jb250YWluZXJIZWlnaHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnZpZXdNb2RlbC5pc1ZpZXdVcGRhdGluZyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXJXaWR0aCA9IHRhcmdldFdpZHRoO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVySGVpZ2h0ID0gdGFyZ2V0SGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuenIucmVzaXplKG9wdGlvbik7XHJcbiAgICAgICAgbGV0IG5ld1RyYW5zbGF0ZSA9IFt0aGlzLmNvbnRhaW5lcldpZHRoIC8gMiwgdGhpcy5jb250YWluZXJIZWlnaHQgLyAyXTtcclxuICAgICAgICAvLyDosIPmlbTop4blm75cclxuICAgICAgICB0aGlzLmFkanVzdEdsb2JhbFNoYXBlKG5ld1RyYW5zbGF0ZSwgc2NhbGUsIGJvdW5kKTtcclxuICAgICAgICAvLyDmm7TmlrDop4blm75cclxuICAgICAgICB0aGlzLnVwZGF0ZVpyZW5kZXJTaGFwZXMoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog6LCD5pW06KeG5Zu+6Iez5a655Zmo5Lit5aSuXHJcbiAgICAgKiBAcGFyYW0gYm91bmRcclxuICAgICAqIEBwYXJhbSBlbmFibGVBbmltYXRpb25cclxuICAgICAqL1xyXG4gICAgYXV0b1Bvc2l0aW9uKGJvdW5kLCBlbmFibGVBbmltYXRpb24gPSBmYWxzZSkge1xyXG4gICAgICAgIGxldCBpc0ZpcnN0UmVuZGVyID0gdGhpcy52aWV3TW9kZWwuaXNGaXJzdFJlbmRlciwgY3ggPSBib3VuZC54ICsgYm91bmQud2lkdGggLyAyLCBjeSA9IGJvdW5kLnkgKyBib3VuZC5oZWlnaHQgLyAyLCBkeCwgZHk7XHJcbiAgICAgICAgLy8g6aaW5qyh6LCD5pW0XHJcbiAgICAgICAgaWYgKGlzRmlyc3RSZW5kZXIpIHtcclxuICAgICAgICAgICAgZHggPSB0aGlzLmNvbnRhaW5lcldpZHRoIC8gMiAtIGN4O1xyXG4gICAgICAgICAgICBkeSA9IHRoaXMuY29udGFpbmVySGVpZ2h0IC8gMiAtIGN5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZHggPSB0aGlzLmxhc3RDZW50ZXJbMF0gLSBjeDtcclxuICAgICAgICAgICAgZHkgPSB0aGlzLmxhc3RDZW50ZXJbMV0gLSBjeTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5nbG9iYWxTaGFwZS50cmFuc2xhdGUoZHgsIGR5LCBlbmFibGVBbmltYXRpb24pO1xyXG4gICAgICAgIHRoaXMubGFzdENlbnRlciA9IFtjeCwgY3ldO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDosIPmlbTop4blm77kvb/op4blm77pgILlupTlrrnlmajlsLrlr7hcclxuICAgICAqIEBwYXJhbSBib3VuZFxyXG4gICAgICogQHBhcmFtIGVuYWJsZUFuaW1hdGlvblxyXG4gICAgICovXHJcbiAgICBhdXRvU2NhbGUoYm91bmQsIGVuYWJsZUFuaW1hdGlvbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgbGV0IGdsb2JhbFNjYWxlID0gdGhpcy5nbG9iYWxTaGFwZS5nZXRTY2FsZSgpLCBnbG9iYWxXaWR0aCA9IGJvdW5kLndpZHRoLCBnbG9iYWxIZWlnaHQgPSBib3VuZC5oZWlnaHQsIG1heEVkZ2UgPSBnbG9iYWxXaWR0aCA+IGdsb2JhbEhlaWdodCA/IHRoaXMuY29udGFpbmVyV2lkdGggOiB0aGlzLmNvbnRhaW5lckhlaWdodCwgbWF4Qm91bmRFZGdlID0gZ2xvYmFsV2lkdGggPiBnbG9iYWxIZWlnaHQgPyBnbG9iYWxXaWR0aCA6IGdsb2JhbEhlaWdodCwgZFdpZHRoID0gZ2xvYmFsV2lkdGggLSB0aGlzLmNvbnRhaW5lcldpZHRoLCBkSGVpZ2h0ID0gZ2xvYmFsSGVpZ2h0IC0gdGhpcy5jb250YWluZXJIZWlnaHQsIGVkZ2UsIGJvdW5kRWRnZTtcclxuICAgICAgICBpZiAoZFdpZHRoIDwgMCAmJiBkSGVpZ2h0IDwgMCkge1xyXG4gICAgICAgICAgICBlZGdlID0gbWF4RWRnZTtcclxuICAgICAgICAgICAgYm91bmRFZGdlID0gbWF4Qm91bmRFZGdlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGRXaWR0aCA+IGRIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgIGJvdW5kRWRnZSA9IGdsb2JhbFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgZWRnZSA9IHRoaXMuY29udGFpbmVyV2lkdGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBib3VuZEVkZ2UgPSBnbG9iYWxIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICBlZGdlID0gdGhpcy5jb250YWluZXJIZWlnaHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHNjYWxlQ29lZmZpY2llbnQgPSBlZGdlICogMC43NSAvIGJvdW5kRWRnZSwgc2NhbGVYID0gZ2xvYmFsU2NhbGVbMF0gKiBzY2FsZUNvZWZmaWNpZW50LCBzY2FsZVkgPSBnbG9iYWxTY2FsZVsxXSAqIHNjYWxlQ29lZmZpY2llbnQ7XHJcbiAgICAgICAgaWYgKHNjYWxlWCA+IDEpXHJcbiAgICAgICAgICAgIHNjYWxlWCA9IDE7XHJcbiAgICAgICAgaWYgKHNjYWxlWSA+IDEpXHJcbiAgICAgICAgICAgIHNjYWxlWSA9IDE7XHJcbiAgICAgICAgaWYgKHNjYWxlWCA8IDAuMjUpXHJcbiAgICAgICAgICAgIHNjYWxlWCA9IDAuMjU7XHJcbiAgICAgICAgaWYgKHNjYWxlWSA8IDAuMjUpXHJcbiAgICAgICAgICAgIHNjYWxlWSA9IDAuMjU7XHJcbiAgICAgICAgdGhpcy5nbG9iYWxTaGFwZS5zY2FsZShzY2FsZVgsIHNjYWxlWSwgZW5hYmxlQW5pbWF0aW9uKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5qC55o2u5Yqo55S75ZCN56ew77yM6I635Y+WYW5pbWF0aW9uc+WvueixoeeahOWvueW6lOWKqOeUu+WxnuaAp1xyXG4gICAgICogQHBhcmFtIHNoYXBlXHJcbiAgICAgKiBAcGFyYW0gYW5pbWF0aW9uTmFtZVxyXG4gICAgICovXHJcbiAgICBnZXRBbmltYXRpb25Qcm9wcyhzaGFwZSwgYW5pbWF0aW9uTmFtZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFuaW1hdGlvbnNbYW5pbWF0aW9uTmFtZV0oc2hhcGUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5bnlLHmiYDmnInlm77lvaLnu4TmiJDnmoTljIXlm7Tnm5JcclxuICAgICAqIEBwYXJhbSBzaGFwZXNcclxuICAgICAqL1xyXG4gICAgZ2V0R2xvYmFsQm91bmQoc2hhcGVzQm91bmQgPSB0cnVlKSB7XHJcbiAgICAgICAgcmV0dXJuIHNoYXBlc0JvdW5kID9cclxuICAgICAgICAgICAgYm91bmRpbmdSZWN0XzEuQm91bmQudW5pb24oLi4udGhpcy52aWV3TW9kZWwuZ2V0U2hhcGVMaXN0KCkubWFwKGl0ZW0gPT4gaXRlbS5nZXRCb3VuZCgpKSkgOlxyXG4gICAgICAgICAgICB0aGlzLmdsb2JhbFNoYXBlLmdldEJvdW5kKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPluWFqOWxgOWuueWZqOWbvuW9olxyXG4gICAgICovXHJcbiAgICBnZXRHbG9iYWxTaGFwZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nbG9iYWxTaGFwZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog6I635Y+WIGh0bWwg5a655ZmoXHJcbiAgICAgKi9cclxuICAgIGdldENvbnRhaW5lcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXI7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPluWuueWZqOWuveW6plxyXG4gICAgICovXHJcbiAgICBnZXRDb250YWluZXJXaWR0aCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXJXaWR0aDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog6I635Y+W5a655Zmo6auY5bqmXHJcbiAgICAgKi9cclxuICAgIGdldENvbnRhaW5lckhlaWdodCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXJIZWlnaHQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPliB6cmVuZGVyIOWunuS+i1xyXG4gICAgICovXHJcbiAgICBnZXRacmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnpyO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDmuIXnqbrmlbDmja5cclxuICAgICAqL1xyXG4gICAgY2xlYXIoKSB7XHJcbiAgICAgICAgdGhpcy5hbmltYXRlUHJvcHNRdWV1ZS5sZW5ndGggPSAwO1xyXG4gICAgICAgIHRoaXMucHJvcHNRdWV1ZS5sZW5ndGggPSAwO1xyXG4gICAgICAgIHRoaXMuZ2xvYmFsU2hhcGUuY2xlYXIoKTtcclxuICAgIH1cclxufVxyXG5SZW5kZXJlci56cmVuZGVyID0genJlbmRlcjtcclxuZXhwb3J0cy5SZW5kZXJlciA9IFJlbmRlcmVyO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst util_1 = __webpack_require__(0);\r\nconst boundingRect_1 = __webpack_require__(3);\r\n/**\r\n * 图形挂载状态\r\n */\r\nvar mountState;\r\n(function (mountState) {\r\n    // 需挂载\r\n    mountState[mountState[\"NEEDMOUNT\"] = 0] = \"NEEDMOUNT\";\r\n    // 已挂载\r\n    mountState[mountState[\"MOUNTED\"] = 1] = \"MOUNTED\";\r\n    // 需卸载\r\n    mountState[mountState[\"NEEDUNMOUNT\"] = 2] = \"NEEDUNMOUNT\";\r\n    // 已卸载\r\n    mountState[mountState[\"UNMOUNTED\"] = 3] = \"UNMOUNTED\";\r\n})(mountState = exports.mountState || (exports.mountState = {}));\r\n;\r\nclass Shape {\r\n    constructor(id, name, opt) {\r\n        // id\r\n        this.id = '';\r\n        // 类型为普通图形\r\n        this.type = 'shape';\r\n        // 名称\r\n        this.name = null;\r\n        // zrender图形\r\n        this.zrenderShape = null;\r\n        // ---------------- 可变属性 -----------\r\n        // 横坐标\r\n        this.x = 0;\r\n        // 纵坐标\r\n        this.y = 0;\r\n        // 可见性\r\n        this.visible = false;\r\n        // 旋转\r\n        this.rotation = 0;\r\n        // 宽高\r\n        this.width = 0;\r\n        this.height = 0;\r\n        // 样式\r\n        this.style = null;\r\n        // 是否可拖拽\r\n        this.draggable = false;\r\n        this.prevX = 0;\r\n        this.prevY = 0;\r\n        this.prevVisible = false;\r\n        this.prevRotation = 0;\r\n        this.prevWidth = 0;\r\n        this.prevHeight = 0;\r\n        this.prevStyle = null;\r\n        // ------------------------------------\r\n        // 基础样式\r\n        this.baseStyle = {\r\n            fill: '#000',\r\n            text: '',\r\n            textFill: '#000',\r\n            fontSize: 15,\r\n            fontWeight: null,\r\n            stroke: null,\r\n            opacity: 1,\r\n            lineWidth: 1,\r\n            transformText: true\r\n        };\r\n        // 图形配置项\r\n        this.option = {\r\n            content: null,\r\n            size: [0, 0],\r\n            zIndex: 1,\r\n            show: 'scale'\r\n        };\r\n        // 渲染器实例\r\n        this.renderer = null;\r\n        // 父图形（通常指代复合图形Composite）\r\n        this.parentShape = null;\r\n        // 是否访问过（用于differ）\r\n        this.visited = false;\r\n        // 是否为脏（即被修改过，需要更新）\r\n        this.isDirty = false;\r\n        // 挂载状态（默认为需挂载NEEDMOINT）\r\n        this.mountState = mountState.NEEDMOUNT;\r\n        // 关联的 element\r\n        this.element = null;\r\n        // 动画表\r\n        this.animationsTable = {\r\n            position: 'position',\r\n            translate: 'translate',\r\n            rotation: 'rotation',\r\n            show: 'scale',\r\n            hide: 'scale',\r\n            size: 'size',\r\n            style: 'style'\r\n        };\r\n        this.id = id;\r\n        this.name = name;\r\n        this.option = this.defaultOption(this.option);\r\n        this.style = this.defaultStyle(this.baseStyle);\r\n        this.prevStyle = this.defaultStyle(this.baseStyle);\r\n        this.applyShapeOption(opt);\r\n    }\r\n    ;\r\n    /**\r\n     * 定义默认配置项\r\n     */\r\n    defaultOption(baseOption) {\r\n        return baseOption;\r\n    }\r\n    /**\r\n     * 定义默认样式\r\n     */\r\n    defaultStyle(baseStyle) {\r\n        return Object.assign({}, baseStyle);\r\n    }\r\n    /**\r\n     * 设置图形的基础锚点\r\n     * - 对于没有默认锚点基础图形，比如圆形，多边形和矩形，模式锚点设置为：上，下，左，右，中5个，按顺时针方向对5个锚点进行编号，分别为0，1，2，3. 4：\r\n     *          0\r\n     *      \\---*---\\\r\n     *    3 *   4   * 1\r\n     *      \\---*---\\\r\n     *          2\r\n     * - 自定义的锚点，格式为 [number]：anchor，若number为0或1或2或3或4，则覆盖之前的锚点\r\n     */\r\n    getBaseAnchors() {\r\n        let hw = this.width / 2, hh = this.height / 2;\r\n        return {\r\n            0: [0, -hh],\r\n            1: [hw, 0],\r\n            2: [0, hh],\r\n            3: [-hw, 0],\r\n            4: [0, 0]\r\n        };\r\n    }\r\n    /**\r\n     * 获取图形的默认锚点\r\n     * @param baseAnchors\r\n     * @param width\r\n     * @param height\r\n     */\r\n    defaultAnchors(baseAnchors, width, height) {\r\n        return baseAnchors;\r\n    }\r\n    /**\r\n     * 重置所有可变属性\r\n     */\r\n    restoreData() {\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.rotation = 0;\r\n        this.width = 0;\r\n        this.height = 0;\r\n        this.visible = false;\r\n        this.style = this.defaultStyle(this.baseStyle);\r\n    }\r\n    /**\r\n     * 应用元素配置项（尺寸，样式等）\r\n     * @param style\r\n     */\r\n    applyShapeOption(opt) {\r\n        util_1.Util.merge(this.option, opt);\r\n        util_1.Util.merge(this.style, opt.style);\r\n        if (opt.size) {\r\n            if (Array.isArray(opt.size)) {\r\n                this.width = opt.size[0];\r\n                this.height = opt.size[1];\r\n            }\r\n            else {\r\n                this.width = this.height = opt.size;\r\n            }\r\n        }\r\n        if (this.name === 'circle' || this.name === 'isogon') {\r\n            this.height = this.width;\r\n        }\r\n        if (opt.show) {\r\n            // 若show字段是个数组，则将第一个值设为show动画，第二个值设为hide动画\r\n            if (Array.isArray(opt.show)) {\r\n                this.animationsTable['show'] = opt.show[0];\r\n                this.animationsTable['hide'] = opt.show[1];\r\n            }\r\n            // 若只是一个字符串，则show，hide用同样的动画\r\n            else {\r\n                this.animationsTable['show'] = opt.show;\r\n                this.animationsTable['hide'] = opt.show;\r\n            }\r\n        }\r\n        this.style.text = this.option.content;\r\n    }\r\n    /**\r\n     * 获取图形包围盒\r\n     */\r\n    getBound() {\r\n        // 若已经有zrender图形，直接返回zrender图形的包围盒\r\n        if (this.zrenderShape) {\r\n            let { width, height } = this.zrenderShape.getBoundingRect();\r\n            return {\r\n                x: this.x - width / 2,\r\n                y: this.y - height / 2,\r\n                width,\r\n                height\r\n            };\r\n        }\r\n        let originBound = {\r\n            x: this.x - this.width / 2,\r\n            y: this.y - this.height / 2,\r\n            width: this.width,\r\n            height: this.height\r\n        };\r\n        if (this.rotation) {\r\n            return boundingRect_1.Bound.rotation(originBound, this.rotation);\r\n        }\r\n        else {\r\n            return originBound;\r\n        }\r\n    }\r\n    /**\r\n     * 当修改图形尺寸后需要对图形坐标进行修正\r\n     * @param animation\r\n     */\r\n    updateSize(animation) { }\r\n    /**\r\n     * 更新zrender图形\r\n     * @param name\r\n     * @param animation\r\n     * @param fn\r\n     */\r\n    updateZrenderShape(name, animation, fn) {\r\n        if (this.zrenderShape === null)\r\n            return;\r\n        let props = this.renderer.getAnimationProps(this, this.animationsTable[name]);\r\n        // 保存回调函数\r\n        if (fn)\r\n            props['callback'] = fn;\r\n        // 复合图形修改属性/进行动画前要先修正origin\r\n        if (this.type === 'composite' || this.name === 'polyLine') {\r\n            let bound = this.getBound();\r\n            this.zrenderShape.attr('origin', [bound.x + bound.width / 2, bound.y + bound.height / 2]);\r\n        }\r\n        this.renderer.setAttribute(this.zrenderShape, props, animation);\r\n    }\r\n    /**\r\n     * 创建zrender图形\r\n     */\r\n    createZrenderShape() { }\r\n    ;\r\n}\r\nexports.Shape = Shape;\r\n;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9TaGFwZXMvc2hhcGUuanM/MmMwYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE4QyxjQUFjO0FBQzVELGVBQWUsbUJBQU8sQ0FBQyxDQUFnQjtBQUN2Qyx1QkFBdUIsbUJBQU8sQ0FBQyxDQUFzQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsNkRBQTZEO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixnQkFBZ0I7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuLi9Db21tb24vdXRpbFwiKTtcclxuY29uc3QgYm91bmRpbmdSZWN0XzEgPSByZXF1aXJlKFwiLi4vVmlldy9ib3VuZGluZ1JlY3RcIik7XHJcbi8qKlxyXG4gKiDlm77lvaLmjILovb3nirbmgIFcclxuICovXHJcbnZhciBtb3VudFN0YXRlO1xyXG4oZnVuY3Rpb24gKG1vdW50U3RhdGUpIHtcclxuICAgIC8vIOmcgOaMgui9vVxyXG4gICAgbW91bnRTdGF0ZVttb3VudFN0YXRlW1wiTkVFRE1PVU5UXCJdID0gMF0gPSBcIk5FRURNT1VOVFwiO1xyXG4gICAgLy8g5bey5oyC6L29XHJcbiAgICBtb3VudFN0YXRlW21vdW50U3RhdGVbXCJNT1VOVEVEXCJdID0gMV0gPSBcIk1PVU5URURcIjtcclxuICAgIC8vIOmcgOWNuOi9vVxyXG4gICAgbW91bnRTdGF0ZVttb3VudFN0YXRlW1wiTkVFRFVOTU9VTlRcIl0gPSAyXSA9IFwiTkVFRFVOTU9VTlRcIjtcclxuICAgIC8vIOW3suWNuOi9vVxyXG4gICAgbW91bnRTdGF0ZVttb3VudFN0YXRlW1wiVU5NT1VOVEVEXCJdID0gM10gPSBcIlVOTU9VTlRFRFwiO1xyXG59KShtb3VudFN0YXRlID0gZXhwb3J0cy5tb3VudFN0YXRlIHx8IChleHBvcnRzLm1vdW50U3RhdGUgPSB7fSkpO1xyXG47XHJcbmNsYXNzIFNoYXBlIHtcclxuICAgIGNvbnN0cnVjdG9yKGlkLCBuYW1lLCBvcHQpIHtcclxuICAgICAgICAvLyBpZFxyXG4gICAgICAgIHRoaXMuaWQgPSAnJztcclxuICAgICAgICAvLyDnsbvlnovkuLrmma7pgJrlm77lvaJcclxuICAgICAgICB0aGlzLnR5cGUgPSAnc2hhcGUnO1xyXG4gICAgICAgIC8vIOWQjeensFxyXG4gICAgICAgIHRoaXMubmFtZSA9IG51bGw7XHJcbiAgICAgICAgLy8genJlbmRlcuWbvuW9olxyXG4gICAgICAgIHRoaXMuenJlbmRlclNoYXBlID0gbnVsbDtcclxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tIOWPr+WPmOWxnuaApyAtLS0tLS0tLS0tLVxyXG4gICAgICAgIC8vIOaoquWdkOagh1xyXG4gICAgICAgIHRoaXMueCA9IDA7XHJcbiAgICAgICAgLy8g57q15Z2Q5qCHXHJcbiAgICAgICAgdGhpcy55ID0gMDtcclxuICAgICAgICAvLyDlj6/op4HmgKdcclxuICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAvLyDml4vovaxcclxuICAgICAgICB0aGlzLnJvdGF0aW9uID0gMDtcclxuICAgICAgICAvLyDlrr3pq5hcclxuICAgICAgICB0aGlzLndpZHRoID0gMDtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IDA7XHJcbiAgICAgICAgLy8g5qC35byPXHJcbiAgICAgICAgdGhpcy5zdHlsZSA9IG51bGw7XHJcbiAgICAgICAgLy8g5piv5ZCm5Y+v5ouW5ou9XHJcbiAgICAgICAgdGhpcy5kcmFnZ2FibGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnByZXZYID0gMDtcclxuICAgICAgICB0aGlzLnByZXZZID0gMDtcclxuICAgICAgICB0aGlzLnByZXZWaXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wcmV2Um90YXRpb24gPSAwO1xyXG4gICAgICAgIHRoaXMucHJldldpZHRoID0gMDtcclxuICAgICAgICB0aGlzLnByZXZIZWlnaHQgPSAwO1xyXG4gICAgICAgIHRoaXMucHJldlN0eWxlID0gbnVsbDtcclxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAvLyDln7rnoYDmoLflvI9cclxuICAgICAgICB0aGlzLmJhc2VTdHlsZSA9IHtcclxuICAgICAgICAgICAgZmlsbDogJyMwMDAnLFxyXG4gICAgICAgICAgICB0ZXh0OiAnJyxcclxuICAgICAgICAgICAgdGV4dEZpbGw6ICcjMDAwJyxcclxuICAgICAgICAgICAgZm9udFNpemU6IDE1LFxyXG4gICAgICAgICAgICBmb250V2VpZ2h0OiBudWxsLFxyXG4gICAgICAgICAgICBzdHJva2U6IG51bGwsXHJcbiAgICAgICAgICAgIG9wYWNpdHk6IDEsXHJcbiAgICAgICAgICAgIGxpbmVXaWR0aDogMSxcclxuICAgICAgICAgICAgdHJhbnNmb3JtVGV4dDogdHJ1ZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8g5Zu+5b2i6YWN572u6aG5XHJcbiAgICAgICAgdGhpcy5vcHRpb24gPSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IG51bGwsXHJcbiAgICAgICAgICAgIHNpemU6IFswLCAwXSxcclxuICAgICAgICAgICAgekluZGV4OiAxLFxyXG4gICAgICAgICAgICBzaG93OiAnc2NhbGUnXHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyDmuLLmn5Plmajlrp7kvotcclxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcclxuICAgICAgICAvLyDniLblm77lvaLvvIjpgJrluLjmjIfku6PlpI3lkIjlm77lvaJDb21wb3NpdGXvvIlcclxuICAgICAgICB0aGlzLnBhcmVudFNoYXBlID0gbnVsbDtcclxuICAgICAgICAvLyDmmK/lkKborr/pl67ov4fvvIjnlKjkuo5kaWZmZXLvvIlcclxuICAgICAgICB0aGlzLnZpc2l0ZWQgPSBmYWxzZTtcclxuICAgICAgICAvLyDmmK/lkKbkuLrohI/vvIjljbPooqvkv67mlLnov4fvvIzpnIDopoHmm7TmlrDvvIlcclxuICAgICAgICB0aGlzLmlzRGlydHkgPSBmYWxzZTtcclxuICAgICAgICAvLyDmjILovb3nirbmgIHvvIjpu5jorqTkuLrpnIDmjILovb1ORUVETU9JTlTvvIlcclxuICAgICAgICB0aGlzLm1vdW50U3RhdGUgPSBtb3VudFN0YXRlLk5FRURNT1VOVDtcclxuICAgICAgICAvLyDlhbPogZTnmoQgZWxlbWVudFxyXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IG51bGw7XHJcbiAgICAgICAgLy8g5Yqo55S76KGoXHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zVGFibGUgPSB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiAncG9zaXRpb24nLFxyXG4gICAgICAgICAgICB0cmFuc2xhdGU6ICd0cmFuc2xhdGUnLFxyXG4gICAgICAgICAgICByb3RhdGlvbjogJ3JvdGF0aW9uJyxcclxuICAgICAgICAgICAgc2hvdzogJ3NjYWxlJyxcclxuICAgICAgICAgICAgaGlkZTogJ3NjYWxlJyxcclxuICAgICAgICAgICAgc2l6ZTogJ3NpemUnLFxyXG4gICAgICAgICAgICBzdHlsZTogJ3N0eWxlJ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5vcHRpb24gPSB0aGlzLmRlZmF1bHRPcHRpb24odGhpcy5vcHRpb24pO1xyXG4gICAgICAgIHRoaXMuc3R5bGUgPSB0aGlzLmRlZmF1bHRTdHlsZSh0aGlzLmJhc2VTdHlsZSk7XHJcbiAgICAgICAgdGhpcy5wcmV2U3R5bGUgPSB0aGlzLmRlZmF1bHRTdHlsZSh0aGlzLmJhc2VTdHlsZSk7XHJcbiAgICAgICAgdGhpcy5hcHBseVNoYXBlT3B0aW9uKG9wdCk7XHJcbiAgICB9XHJcbiAgICA7XHJcbiAgICAvKipcclxuICAgICAqIOWumuS5iem7mOiupOmFjee9rumhuVxyXG4gICAgICovXHJcbiAgICBkZWZhdWx0T3B0aW9uKGJhc2VPcHRpb24pIHtcclxuICAgICAgICByZXR1cm4gYmFzZU9wdGlvbjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5a6a5LmJ6buY6K6k5qC35byPXHJcbiAgICAgKi9cclxuICAgIGRlZmF1bHRTdHlsZShiYXNlU3R5bGUpIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgYmFzZVN0eWxlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog6K6+572u5Zu+5b2i55qE5Z+656GA6ZSa54K5XHJcbiAgICAgKiAtIOWvueS6juayoeaciem7mOiupOmUmueCueWfuuehgOWbvuW9ou+8jOavlOWmguWchuW9ou+8jOWkmui+ueW9ouWSjOefqeW9ou+8jOaooeW8j+mUmueCueiuvue9ruS4uu+8muS4iu+8jOS4i++8jOW3pu+8jOWPs++8jOS4rTXkuKrvvIzmjInpobrml7bpkojmlrnlkJHlr7k15Liq6ZSa54K56L+b6KGM57yW5Y+377yM5YiG5Yir5Li6MO+8jDHvvIwy77yMMy4gNO+8mlxyXG4gICAgICogICAgICAgICAgMFxyXG4gICAgICogICAgICBcXC0tLSotLS1cXFxyXG4gICAgICogICAgMyAqICAgNCAgICogMVxyXG4gICAgICogICAgICBcXC0tLSotLS1cXFxyXG4gICAgICogICAgICAgICAgMlxyXG4gICAgICogLSDoh6rlrprkuYnnmoTplJrngrnvvIzmoLzlvI/kuLogW251bWJlcl3vvJphbmNob3LvvIzoi6VudW1iZXLkuLow5oiWMeaIljLmiJYz5oiWNO+8jOWImeimhuebluS5i+WJjeeahOmUmueCuVxyXG4gICAgICovXHJcbiAgICBnZXRCYXNlQW5jaG9ycygpIHtcclxuICAgICAgICBsZXQgaHcgPSB0aGlzLndpZHRoIC8gMiwgaGggPSB0aGlzLmhlaWdodCAvIDI7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgMDogWzAsIC1oaF0sXHJcbiAgICAgICAgICAgIDE6IFtodywgMF0sXHJcbiAgICAgICAgICAgIDI6IFswLCBoaF0sXHJcbiAgICAgICAgICAgIDM6IFstaHcsIDBdLFxyXG4gICAgICAgICAgICA0OiBbMCwgMF1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5blm77lvaLnmoTpu5jorqTplJrngrlcclxuICAgICAqIEBwYXJhbSBiYXNlQW5jaG9yc1xyXG4gICAgICogQHBhcmFtIHdpZHRoXHJcbiAgICAgKiBAcGFyYW0gaGVpZ2h0XHJcbiAgICAgKi9cclxuICAgIGRlZmF1bHRBbmNob3JzKGJhc2VBbmNob3JzLCB3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgcmV0dXJuIGJhc2VBbmNob3JzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDph43nva7miYDmnInlj6/lj5jlsZ7mgKdcclxuICAgICAqL1xyXG4gICAgcmVzdG9yZURhdGEoKSB7XHJcbiAgICAgICAgdGhpcy54ID0gMDtcclxuICAgICAgICB0aGlzLnkgPSAwO1xyXG4gICAgICAgIHRoaXMucm90YXRpb24gPSAwO1xyXG4gICAgICAgIHRoaXMud2lkdGggPSAwO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gMDtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnN0eWxlID0gdGhpcy5kZWZhdWx0U3R5bGUodGhpcy5iYXNlU3R5bGUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDlupTnlKjlhYPntKDphY3nva7pobnvvIjlsLrlr7jvvIzmoLflvI/nrYnvvIlcclxuICAgICAqIEBwYXJhbSBzdHlsZVxyXG4gICAgICovXHJcbiAgICBhcHBseVNoYXBlT3B0aW9uKG9wdCkge1xyXG4gICAgICAgIHV0aWxfMS5VdGlsLm1lcmdlKHRoaXMub3B0aW9uLCBvcHQpO1xyXG4gICAgICAgIHV0aWxfMS5VdGlsLm1lcmdlKHRoaXMuc3R5bGUsIG9wdC5zdHlsZSk7XHJcbiAgICAgICAgaWYgKG9wdC5zaXplKSB7XHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9wdC5zaXplKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy53aWR0aCA9IG9wdC5zaXplWzBdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSBvcHQuc2l6ZVsxXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMud2lkdGggPSB0aGlzLmhlaWdodCA9IG9wdC5zaXplO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLm5hbWUgPT09ICdjaXJjbGUnIHx8IHRoaXMubmFtZSA9PT0gJ2lzb2dvbicpIHtcclxuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLndpZHRoO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob3B0LnNob3cpIHtcclxuICAgICAgICAgICAgLy8g6Iulc2hvd+Wtl+auteaYr+S4quaVsOe7hO+8jOWImeWwhuesrOS4gOS4quWAvOiuvuS4unNob3fliqjnlLvvvIznrKzkuozkuKrlgLzorr7kuLpoaWRl5Yqo55S7XHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9wdC5zaG93KSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zVGFibGVbJ3Nob3cnXSA9IG9wdC5zaG93WzBdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zVGFibGVbJ2hpZGUnXSA9IG9wdC5zaG93WzFdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIOiLpeWPquaYr+S4gOS4quWtl+espuS4su+8jOWImXNob3fvvIxoaWRl55So5ZCM5qC355qE5Yqo55S7XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zVGFibGVbJ3Nob3cnXSA9IG9wdC5zaG93O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zVGFibGVbJ2hpZGUnXSA9IG9wdC5zaG93O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3R5bGUudGV4dCA9IHRoaXMub3B0aW9uLmNvbnRlbnQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPluWbvuW9ouWMheWbtOebklxyXG4gICAgICovXHJcbiAgICBnZXRCb3VuZCgpIHtcclxuICAgICAgICAvLyDoi6Xlt7Lnu4/mnIl6cmVuZGVy5Zu+5b2i77yM55u05o6l6L+U5ZueenJlbmRlcuWbvuW9oueahOWMheWbtOebklxyXG4gICAgICAgIGlmICh0aGlzLnpyZW5kZXJTaGFwZSkge1xyXG4gICAgICAgICAgICBsZXQgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnpyZW5kZXJTaGFwZS5nZXRCb3VuZGluZ1JlY3QoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHg6IHRoaXMueCAtIHdpZHRoIC8gMixcclxuICAgICAgICAgICAgICAgIHk6IHRoaXMueSAtIGhlaWdodCAvIDIsXHJcbiAgICAgICAgICAgICAgICB3aWR0aCxcclxuICAgICAgICAgICAgICAgIGhlaWdodFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgb3JpZ2luQm91bmQgPSB7XHJcbiAgICAgICAgICAgIHg6IHRoaXMueCAtIHRoaXMud2lkdGggLyAyLFxyXG4gICAgICAgICAgICB5OiB0aGlzLnkgLSB0aGlzLmhlaWdodCAvIDIsXHJcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAodGhpcy5yb3RhdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gYm91bmRpbmdSZWN0XzEuQm91bmQucm90YXRpb24ob3JpZ2luQm91bmQsIHRoaXMucm90YXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9yaWdpbkJvdW5kO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5b2T5L+u5pS55Zu+5b2i5bC65a+45ZCO6ZyA6KaB5a+55Zu+5b2i5Z2Q5qCH6L+b6KGM5L+u5q2jXHJcbiAgICAgKiBAcGFyYW0gYW5pbWF0aW9uXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZVNpemUoYW5pbWF0aW9uKSB7IH1cclxuICAgIC8qKlxyXG4gICAgICog5pu05pawenJlbmRlcuWbvuW9olxyXG4gICAgICogQHBhcmFtIG5hbWVcclxuICAgICAqIEBwYXJhbSBhbmltYXRpb25cclxuICAgICAqIEBwYXJhbSBmblxyXG4gICAgICovXHJcbiAgICB1cGRhdGVacmVuZGVyU2hhcGUobmFtZSwgYW5pbWF0aW9uLCBmbikge1xyXG4gICAgICAgIGlmICh0aGlzLnpyZW5kZXJTaGFwZSA9PT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGxldCBwcm9wcyA9IHRoaXMucmVuZGVyZXIuZ2V0QW5pbWF0aW9uUHJvcHModGhpcywgdGhpcy5hbmltYXRpb25zVGFibGVbbmFtZV0pO1xyXG4gICAgICAgIC8vIOS/neWtmOWbnuiwg+WHveaVsFxyXG4gICAgICAgIGlmIChmbilcclxuICAgICAgICAgICAgcHJvcHNbJ2NhbGxiYWNrJ10gPSBmbjtcclxuICAgICAgICAvLyDlpI3lkIjlm77lvaLkv67mlLnlsZ7mgKcv6L+b6KGM5Yqo55S75YmN6KaB5YWI5L+u5q2jb3JpZ2luXHJcbiAgICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ2NvbXBvc2l0ZScgfHwgdGhpcy5uYW1lID09PSAncG9seUxpbmUnKSB7XHJcbiAgICAgICAgICAgIGxldCBib3VuZCA9IHRoaXMuZ2V0Qm91bmQoKTtcclxuICAgICAgICAgICAgdGhpcy56cmVuZGVyU2hhcGUuYXR0cignb3JpZ2luJywgW2JvdW5kLnggKyBib3VuZC53aWR0aCAvIDIsIGJvdW5kLnkgKyBib3VuZC5oZWlnaHQgLyAyXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0QXR0cmlidXRlKHRoaXMuenJlbmRlclNoYXBlLCBwcm9wcywgYW5pbWF0aW9uKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5Yib5bu6enJlbmRlcuWbvuW9olxyXG4gICAgICovXHJcbiAgICBjcmVhdGVacmVuZGVyU2hhcGUoKSB7IH1cclxuICAgIDtcclxufVxyXG5leHBvcnRzLlNoYXBlID0gU2hhcGU7XHJcbjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n")},function(module,exports,__webpack_require__){"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nconst vector_1 = __webpack_require__(4);\r\n// 包围盒操作\r\nexports.Bound = {\r\n    /**\r\n     * 从点集生成包围盒\r\n     * @param points\r\n     */\r\n    fromPoints(points) {\r\n        let maxX = -Infinity, minX = Infinity, maxY = -Infinity, minY = Infinity;\r\n        points.map(item => {\r\n            if (item[0] > maxX)\r\n                maxX = item[0];\r\n            if (item[0] < minX)\r\n                minX = item[0];\r\n            if (item[1] > maxY)\r\n                maxY = item[1];\r\n            if (item[1] < minY)\r\n                minY = item[1];\r\n        });\r\n        return {\r\n            x: minX,\r\n            y: minY,\r\n            width: maxX - minX,\r\n            height: maxY - minY\r\n        };\r\n    },\r\n    /**\r\n     * 由包围盒转化为四个顶点（顺时针）\r\n     * @param bound\r\n     */\r\n    toPoints(bound) {\r\n        return [\r\n            [bound.x, bound.y],\r\n            [bound.x + bound.width, bound.y],\r\n            [bound.x + bound.width, bound.y + bound.height],\r\n            [bound.x, bound.y + bound.height]\r\n        ];\r\n    },\r\n    /**\r\n     * 求包围盒并集\r\n     * @param arg\r\n     */\r\n    union(...arg) {\r\n        return arg.length > 1 ?\r\n            arg.reduce((total, cur) => {\r\n                let minX = total.x < cur.x ? total.x : cur.x, maxX = total.x + total.width < cur.x + cur.width ? cur.x + cur.width : total.x + total.width, minY = total.y < cur.y ? total.y : cur.y, maxY = total.y + total.height < cur.y + cur.height ? cur.y + cur.height : total.y + total.height;\r\n                return {\r\n                    x: minX,\r\n                    y: minY,\r\n                    width: maxX - minX,\r\n                    height: maxY - minY\r\n                };\r\n            }) : arg[0];\r\n    },\r\n    /**\r\n     * 包围盒求交集\r\n     * @param b1\r\n     * @param b2\r\n     */\r\n    intersect(b1, b2) {\r\n        let x, y, maxX, maxY, overlapsX, overlapsY;\r\n        if (b1.x < b2.x + b2.width && b1.x + b1.width > b2.x) {\r\n            x = b1.x < b2.x ? b2.x : b1.x;\r\n            maxX = b1.x + b1.width < b2.x + b2.width ? b1.x + b1.width : b2.x + b2.width;\r\n            overlapsX = maxX - x;\r\n        }\r\n        if (b1.y < b2.y + b2.height && b1.y + b1.height > b2.y) {\r\n            y = b1.y < b2.y ? b2.y : b1.y;\r\n            maxY = b1.y < b2.y ? b1.y + b1.height : b2.y + b2.height;\r\n            overlapsY = maxY - y;\r\n        }\r\n        if (!overlapsX || !overlapsY)\r\n            return null;\r\n        return {\r\n            x,\r\n            y,\r\n            width: overlapsX,\r\n            height: overlapsY\r\n        };\r\n    },\r\n    /**\r\n     * 求包围盒旋转后新形成的包围盒\r\n     * @param bound\r\n     * @param rot\r\n     */\r\n    rotation(bound, rot) {\r\n        let cx = bound.x + bound.width / 2, cy = bound.y + bound.height / 2;\r\n        return exports.Bound.fromPoints(exports.Bound.toPoints(bound).map(item => vector_1.Vector.rotation(rot, item, [cx, cy])));\r\n    },\r\n    /**\r\n     * 判断两个包围盒是否相交\r\n     * @param b1\r\n     * @param b2\r\n     */\r\n    isOverlap(b1, b2) {\r\n        let maxX1 = b1.x + b1.width, maxY1 = b1.y + b1.height, maxX2 = b2.x + b2.width, maxY2 = b2.y + b2.height;\r\n        if (b1.x < maxX2 && b2.x < maxX1 && b1.y < maxY2 && b2.y < maxY1) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9WaWV3L2JvdW5kaW5nUmVjdC5qcz85YWU4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQThDLGNBQWM7QUFDNUQsaUJBQWlCLG1CQUFPLENBQUMsQ0FBa0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCB2ZWN0b3JfMSA9IHJlcXVpcmUoXCIuLi9Db21tb24vdmVjdG9yXCIpO1xyXG4vLyDljIXlm7Tnm5Lmk43kvZxcclxuZXhwb3J0cy5Cb3VuZCA9IHtcclxuICAgIC8qKlxyXG4gICAgICog5LuO54K56ZuG55Sf5oiQ5YyF5Zu055uSXHJcbiAgICAgKiBAcGFyYW0gcG9pbnRzXHJcbiAgICAgKi9cclxuICAgIGZyb21Qb2ludHMocG9pbnRzKSB7XHJcbiAgICAgICAgbGV0IG1heFggPSAtSW5maW5pdHksIG1pblggPSBJbmZpbml0eSwgbWF4WSA9IC1JbmZpbml0eSwgbWluWSA9IEluZmluaXR5O1xyXG4gICAgICAgIHBvaW50cy5tYXAoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtWzBdID4gbWF4WClcclxuICAgICAgICAgICAgICAgIG1heFggPSBpdGVtWzBdO1xyXG4gICAgICAgICAgICBpZiAoaXRlbVswXSA8IG1pblgpXHJcbiAgICAgICAgICAgICAgICBtaW5YID0gaXRlbVswXTtcclxuICAgICAgICAgICAgaWYgKGl0ZW1bMV0gPiBtYXhZKVxyXG4gICAgICAgICAgICAgICAgbWF4WSA9IGl0ZW1bMV07XHJcbiAgICAgICAgICAgIGlmIChpdGVtWzFdIDwgbWluWSlcclxuICAgICAgICAgICAgICAgIG1pblkgPSBpdGVtWzFdO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHg6IG1pblgsXHJcbiAgICAgICAgICAgIHk6IG1pblksXHJcbiAgICAgICAgICAgIHdpZHRoOiBtYXhYIC0gbWluWCxcclxuICAgICAgICAgICAgaGVpZ2h0OiBtYXhZIC0gbWluWVxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiDnlLHljIXlm7Tnm5LovazljJbkuLrlm5vkuKrpobbngrnvvIjpobrml7bpkojvvIlcclxuICAgICAqIEBwYXJhbSBib3VuZFxyXG4gICAgICovXHJcbiAgICB0b1BvaW50cyhib3VuZCkge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIFtib3VuZC54LCBib3VuZC55XSxcclxuICAgICAgICAgICAgW2JvdW5kLnggKyBib3VuZC53aWR0aCwgYm91bmQueV0sXHJcbiAgICAgICAgICAgIFtib3VuZC54ICsgYm91bmQud2lkdGgsIGJvdW5kLnkgKyBib3VuZC5oZWlnaHRdLFxyXG4gICAgICAgICAgICBbYm91bmQueCwgYm91bmQueSArIGJvdW5kLmhlaWdodF1cclxuICAgICAgICBdO1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICog5rGC5YyF5Zu055uS5bm26ZuGXHJcbiAgICAgKiBAcGFyYW0gYXJnXHJcbiAgICAgKi9cclxuICAgIHVuaW9uKC4uLmFyZykge1xyXG4gICAgICAgIHJldHVybiBhcmcubGVuZ3RoID4gMSA/XHJcbiAgICAgICAgICAgIGFyZy5yZWR1Y2UoKHRvdGFsLCBjdXIpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBtaW5YID0gdG90YWwueCA8IGN1ci54ID8gdG90YWwueCA6IGN1ci54LCBtYXhYID0gdG90YWwueCArIHRvdGFsLndpZHRoIDwgY3VyLnggKyBjdXIud2lkdGggPyBjdXIueCArIGN1ci53aWR0aCA6IHRvdGFsLnggKyB0b3RhbC53aWR0aCwgbWluWSA9IHRvdGFsLnkgPCBjdXIueSA/IHRvdGFsLnkgOiBjdXIueSwgbWF4WSA9IHRvdGFsLnkgKyB0b3RhbC5oZWlnaHQgPCBjdXIueSArIGN1ci5oZWlnaHQgPyBjdXIueSArIGN1ci5oZWlnaHQgOiB0b3RhbC55ICsgdG90YWwuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICB4OiBtaW5YLFxyXG4gICAgICAgICAgICAgICAgICAgIHk6IG1pblksXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IG1heFggLSBtaW5YLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogbWF4WSAtIG1pbllcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0pIDogYXJnWzBdO1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICog5YyF5Zu055uS5rGC5Lqk6ZuGXHJcbiAgICAgKiBAcGFyYW0gYjFcclxuICAgICAqIEBwYXJhbSBiMlxyXG4gICAgICovXHJcbiAgICBpbnRlcnNlY3QoYjEsIGIyKSB7XHJcbiAgICAgICAgbGV0IHgsIHksIG1heFgsIG1heFksIG92ZXJsYXBzWCwgb3ZlcmxhcHNZO1xyXG4gICAgICAgIGlmIChiMS54IDwgYjIueCArIGIyLndpZHRoICYmIGIxLnggKyBiMS53aWR0aCA+IGIyLngpIHtcclxuICAgICAgICAgICAgeCA9IGIxLnggPCBiMi54ID8gYjIueCA6IGIxLng7XHJcbiAgICAgICAgICAgIG1heFggPSBiMS54ICsgYjEud2lkdGggPCBiMi54ICsgYjIud2lkdGggPyBiMS54ICsgYjEud2lkdGggOiBiMi54ICsgYjIud2lkdGg7XHJcbiAgICAgICAgICAgIG92ZXJsYXBzWCA9IG1heFggLSB4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYjEueSA8IGIyLnkgKyBiMi5oZWlnaHQgJiYgYjEueSArIGIxLmhlaWdodCA+IGIyLnkpIHtcclxuICAgICAgICAgICAgeSA9IGIxLnkgPCBiMi55ID8gYjIueSA6IGIxLnk7XHJcbiAgICAgICAgICAgIG1heFkgPSBiMS55IDwgYjIueSA/IGIxLnkgKyBiMS5oZWlnaHQgOiBiMi55ICsgYjIuaGVpZ2h0O1xyXG4gICAgICAgICAgICBvdmVybGFwc1kgPSBtYXhZIC0geTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFvdmVybGFwc1ggfHwgIW92ZXJsYXBzWSlcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgeCxcclxuICAgICAgICAgICAgeSxcclxuICAgICAgICAgICAgd2lkdGg6IG92ZXJsYXBzWCxcclxuICAgICAgICAgICAgaGVpZ2h0OiBvdmVybGFwc1lcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICog5rGC5YyF5Zu055uS5peL6L2s5ZCO5paw5b2i5oiQ55qE5YyF5Zu055uSXHJcbiAgICAgKiBAcGFyYW0gYm91bmRcclxuICAgICAqIEBwYXJhbSByb3RcclxuICAgICAqL1xyXG4gICAgcm90YXRpb24oYm91bmQsIHJvdCkge1xyXG4gICAgICAgIGxldCBjeCA9IGJvdW5kLnggKyBib3VuZC53aWR0aCAvIDIsIGN5ID0gYm91bmQueSArIGJvdW5kLmhlaWdodCAvIDI7XHJcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuQm91bmQuZnJvbVBvaW50cyhleHBvcnRzLkJvdW5kLnRvUG9pbnRzKGJvdW5kKS5tYXAoaXRlbSA9PiB2ZWN0b3JfMS5WZWN0b3Iucm90YXRpb24ocm90LCBpdGVtLCBbY3gsIGN5XSkpKTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIOWIpOaWreS4pOS4quWMheWbtOebkuaYr+WQpuebuOS6pFxyXG4gICAgICogQHBhcmFtIGIxXHJcbiAgICAgKiBAcGFyYW0gYjJcclxuICAgICAqL1xyXG4gICAgaXNPdmVybGFwKGIxLCBiMikge1xyXG4gICAgICAgIGxldCBtYXhYMSA9IGIxLnggKyBiMS53aWR0aCwgbWF4WTEgPSBiMS55ICsgYjEuaGVpZ2h0LCBtYXhYMiA9IGIyLnggKyBiMi53aWR0aCwgbWF4WTIgPSBiMi55ICsgYjIuaGVpZ2h0O1xyXG4gICAgICAgIGlmIChiMS54IDwgbWF4WDIgJiYgYjIueCA8IG1heFgxICYmIGIxLnkgPCBtYXhZMiAmJiBiMi55IDwgbWF4WTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3\n')},function(module,exports,__webpack_require__){"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nexports.Vector = {\r\n    /**\r\n     * 向量相加\r\n     * @param v1\r\n     * @param v2\r\n     */\r\n    add(v1, v2) {\r\n        return [v1[0] + v2[0], v1[1] + v2[1]];\r\n    },\r\n    /**\r\n     * 向量相减\r\n     * @param v1\r\n     * @param v2\r\n     */\r\n    subtract(v1, v2) {\r\n        return [v1[0] - v2[0], v1[1] - v2[1]];\r\n    },\r\n    /**\r\n     * 向量点积\r\n     * @param v1\r\n     * @param v2\r\n     */\r\n    dot(v1, v2) {\r\n        return v1[0] * v2[0] + v1[1] * v2[1];\r\n    },\r\n    /**\r\n     * 向量缩放\r\n     * @param v\r\n     * @param n\r\n     */\r\n    scale(v, n) {\r\n        return [v[0] * n, v[1] * n];\r\n    },\r\n    /**\r\n     * 向量求模长\r\n     * @param v\r\n     */\r\n    length(v) {\r\n        return Math.sqrt(Math.pow(v[0], 2) + Math.pow(v[1], 2));\r\n    },\r\n    /**\r\n     * 绕某点旋转向量\r\n     * @param radian 角度（弧度制）\r\n     * @param point 旋转的点\r\n     * @param center 绕的点\r\n     */\r\n    rotation(radian, point, center = [0, 0]) {\r\n        if (radian === 0)\r\n            return point;\r\n        radian = -radian;\r\n        let cos = Math.cos(radian), sin = Math.sin(radian), dv = [point[0] - center[0], point[1] - center[1]], v = [0, 0];\r\n        v[0] = center[0] + (dv[0] * cos - dv[1] * sin);\r\n        v[1] = center[1] + (dv[0] * sin + dv[1] * cos);\r\n        return v;\r\n    },\r\n    /**\r\n     * 求向量法向\r\n     */\r\n    tangent(v) {\r\n        return [-v[1], v[0]];\r\n    },\r\n    /**\r\n     * 向量单位化\r\n     */\r\n    normalize(v) {\r\n        let len = exports.Vector.length(v);\r\n        if (len === 0) {\r\n            return [0, 0];\r\n        }\r\n        else if (len === 1) {\r\n            return v;\r\n        }\r\n        else {\r\n            return [v[0] / len, v[1] / len];\r\n        }\r\n    },\r\n    /**\r\n     * 求一个向量（点）按照direction方向，延长len长度后的坐标\r\n     * @param v\r\n     * @param direction\r\n     * @param len\r\n     */\r\n    location(v, direction, len) {\r\n        return exports.Vector.add(v, exports.Vector.scale(exports.Vector.normalize(direction), len));\r\n    },\r\n    /**\r\n     * 向量取反\r\n     */\r\n    negative(v) {\r\n        return exports.Vector.scale(v, -1);\r\n    }\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9Db21tb24vdmVjdG9yLmpzP2MwNjIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLlZlY3RvciA9IHtcclxuICAgIC8qKlxyXG4gICAgICog5ZCR6YeP55u45YqgXHJcbiAgICAgKiBAcGFyYW0gdjFcclxuICAgICAqIEBwYXJhbSB2MlxyXG4gICAgICovXHJcbiAgICBhZGQodjEsIHYyKSB7XHJcbiAgICAgICAgcmV0dXJuIFt2MVswXSArIHYyWzBdLCB2MVsxXSArIHYyWzFdXTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIOWQkemHj+ebuOWHj1xyXG4gICAgICogQHBhcmFtIHYxXHJcbiAgICAgKiBAcGFyYW0gdjJcclxuICAgICAqL1xyXG4gICAgc3VidHJhY3QodjEsIHYyKSB7XHJcbiAgICAgICAgcmV0dXJuIFt2MVswXSAtIHYyWzBdLCB2MVsxXSAtIHYyWzFdXTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIOWQkemHj+eCueenr1xyXG4gICAgICogQHBhcmFtIHYxXHJcbiAgICAgKiBAcGFyYW0gdjJcclxuICAgICAqL1xyXG4gICAgZG90KHYxLCB2Mikge1xyXG4gICAgICAgIHJldHVybiB2MVswXSAqIHYyWzBdICsgdjFbMV0gKiB2MlsxXTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIOWQkemHj+e8qeaUvlxyXG4gICAgICogQHBhcmFtIHZcclxuICAgICAqIEBwYXJhbSBuXHJcbiAgICAgKi9cclxuICAgIHNjYWxlKHYsIG4pIHtcclxuICAgICAgICByZXR1cm4gW3ZbMF0gKiBuLCB2WzFdICogbl07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiDlkJHph4/msYLmqKHplb9cclxuICAgICAqIEBwYXJhbSB2XHJcbiAgICAgKi9cclxuICAgIGxlbmd0aCh2KSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyh2WzBdLCAyKSArIE1hdGgucG93KHZbMV0sIDIpKTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIOe7leafkOeCueaXi+i9rOWQkemHj1xyXG4gICAgICogQHBhcmFtIHJhZGlhbiDop5LluqbvvIjlvKfluqbliLbvvIlcclxuICAgICAqIEBwYXJhbSBwb2ludCDml4vovaznmoTngrlcclxuICAgICAqIEBwYXJhbSBjZW50ZXIg57uV55qE54K5XHJcbiAgICAgKi9cclxuICAgIHJvdGF0aW9uKHJhZGlhbiwgcG9pbnQsIGNlbnRlciA9IFswLCAwXSkge1xyXG4gICAgICAgIGlmIChyYWRpYW4gPT09IDApXHJcbiAgICAgICAgICAgIHJldHVybiBwb2ludDtcclxuICAgICAgICByYWRpYW4gPSAtcmFkaWFuO1xyXG4gICAgICAgIGxldCBjb3MgPSBNYXRoLmNvcyhyYWRpYW4pLCBzaW4gPSBNYXRoLnNpbihyYWRpYW4pLCBkdiA9IFtwb2ludFswXSAtIGNlbnRlclswXSwgcG9pbnRbMV0gLSBjZW50ZXJbMV1dLCB2ID0gWzAsIDBdO1xyXG4gICAgICAgIHZbMF0gPSBjZW50ZXJbMF0gKyAoZHZbMF0gKiBjb3MgLSBkdlsxXSAqIHNpbik7XHJcbiAgICAgICAgdlsxXSA9IGNlbnRlclsxXSArIChkdlswXSAqIHNpbiArIGR2WzFdICogY29zKTtcclxuICAgICAgICByZXR1cm4gdjtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIOaxguWQkemHj+azleWQkVxyXG4gICAgICovXHJcbiAgICB0YW5nZW50KHYpIHtcclxuICAgICAgICByZXR1cm4gWy12WzFdLCB2WzBdXTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIOWQkemHj+WNleS9jeWMllxyXG4gICAgICovXHJcbiAgICBub3JtYWxpemUodikge1xyXG4gICAgICAgIGxldCBsZW4gPSBleHBvcnRzLlZlY3Rvci5sZW5ndGgodik7XHJcbiAgICAgICAgaWYgKGxlbiA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gWzAsIDBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChsZW4gPT09IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gW3ZbMF0gLyBsZW4sIHZbMV0gLyBsZW5dO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIOaxguS4gOS4quWQkemHj++8iOeCue+8ieaMieeFp2RpcmVjdGlvbuaWueWQke+8jOW7tumVv2xlbumVv+W6puWQjueahOWdkOagh1xyXG4gICAgICogQHBhcmFtIHZcclxuICAgICAqIEBwYXJhbSBkaXJlY3Rpb25cclxuICAgICAqIEBwYXJhbSBsZW5cclxuICAgICAqL1xyXG4gICAgbG9jYXRpb24odiwgZGlyZWN0aW9uLCBsZW4pIHtcclxuICAgICAgICByZXR1cm4gZXhwb3J0cy5WZWN0b3IuYWRkKHYsIGV4cG9ydHMuVmVjdG9yLnNjYWxlKGV4cG9ydHMuVmVjdG9yLm5vcm1hbGl6ZShkaXJlY3Rpb24pLCBsZW4pKTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIOWQkemHj+WPluWPjVxyXG4gICAgICovXHJcbiAgICBuZWdhdGl2ZSh2KSB7XHJcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuVmVjdG9yLnNjYWxlKHYsIC0xKTtcclxuICAgIH1cclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4\n')},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst shape_1 = __webpack_require__(2);\r\nconst renderer_1 = __webpack_require__(1);\r\nconst boundingRect_1 = __webpack_require__(3);\r\nconst vector_1 = __webpack_require__(4);\r\nclass Composite extends shape_1.Shape {\r\n    constructor(id, name, opt) {\r\n        super(id, name, opt);\r\n        // 类型为复合图形\r\n        this.type = 'composite';\r\n        // 组成复合图形的子图形`\r\n        this.subShapes = [];\r\n    }\r\n    /**\r\n     * 添加子图形\r\n     * @param subShapeConfig\r\n     */\r\n    addSubShape(subShapeConfig) {\r\n        Object.keys(subShapeConfig).map(prop => {\r\n            if (!subShapeConfig[prop])\r\n                return;\r\n            let subShape = {\r\n                label: prop,\r\n                shape: null,\r\n                shapeName: subShapeConfig[prop].shapeName,\r\n                draw: subShapeConfig[prop].draw,\r\n                init: subShapeConfig[prop].init\r\n            }, existSubShapeIndex = this.subShapes.findIndex(item => item.label === prop);\r\n            if (existSubShapeIndex >= 0) {\r\n                this.subShapes[existSubShapeIndex] = Object.assign({}, this.subShapes[existSubShapeIndex], subShapeConfig[prop]);\r\n            }\r\n            else {\r\n                this.subShapes.push(subShape);\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * 获取子图形\r\n     * @param name\r\n     */\r\n    getSubShape(name) {\r\n        return this.subShapes.find(info => info.label === name).shape;\r\n    }\r\n    /**\r\n     * 更新子图形属性\r\n     */\r\n    updateSubShapes() {\r\n        this.subShapes.map(item => {\r\n            item.shape.applyShapeOption({ style: this.style });\r\n            item.init && item.shape.applyShapeOption(item.init(this.option, this.style));\r\n            item.draw(this, item.shape);\r\n            item.shape.x -= this.x;\r\n            item.shape.y -= this.y;\r\n            item.shape.isDirty = this.isDirty;\r\n            item.shape.element = this.element;\r\n            let { x, y, width, height } = this.getBound(), cx = x + width / 2, cy = y + height / 2;\r\n            if (this.rotation) {\r\n                this.subShapes.map(item => {\r\n                    let d = vector_1.Vector.rotation(this.rotation, [item.shape.x, item.shape.y], [cx, cy]);\r\n                    item.shape.x = d[0];\r\n                    item.shape.y = d[1];\r\n                    item.shape.rotation = this.rotation;\r\n                });\r\n            }\r\n        });\r\n    }\r\n    // -------------------------------------------------------\r\n    getBound() {\r\n        return boundingRect_1.Bound.union(...this.subShapes.map(item => item.shape.getBound()));\r\n    }\r\n    createZrenderShape() {\r\n        let zrenderShape = new renderer_1.Renderer.zrender.Group({\r\n            position: [this.x, this.y],\r\n            z: this.option.zIndex\r\n        });\r\n        this.subShapes.map(item => {\r\n            if (item.shape.zrenderShape === null) {\r\n                item.shape.zrenderShape = item.shape.createZrenderShape();\r\n                item.shape.zrenderShape.attr('z', item.shape.option.zIndex);\r\n            }\r\n            zrenderShape.add(item.shape.zrenderShape);\r\n        });\r\n        return zrenderShape;\r\n    }\r\n}\r\nexports.Composite = Composite;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9TaGFwZXMvY29tcG9zaXRlLmpzP2E4ZDkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RCxnQkFBZ0IsbUJBQU8sQ0FBQyxDQUFTO0FBQ2pDLG1CQUFtQixtQkFBTyxDQUFDLENBQWtCO0FBQzdDLHVCQUF1QixtQkFBTyxDQUFDLENBQXNCO0FBQ3JELGlCQUFpQixtQkFBTyxDQUFDLENBQWtCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EscUVBQXFFO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLG9CQUFvQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsc0JBQXNCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBzaGFwZV8xID0gcmVxdWlyZShcIi4vc2hhcGVcIik7XHJcbmNvbnN0IHJlbmRlcmVyXzEgPSByZXF1aXJlKFwiLi4vVmlldy9yZW5kZXJlclwiKTtcclxuY29uc3QgYm91bmRpbmdSZWN0XzEgPSByZXF1aXJlKFwiLi4vVmlldy9ib3VuZGluZ1JlY3RcIik7XHJcbmNvbnN0IHZlY3Rvcl8xID0gcmVxdWlyZShcIi4uL0NvbW1vbi92ZWN0b3JcIik7XHJcbmNsYXNzIENvbXBvc2l0ZSBleHRlbmRzIHNoYXBlXzEuU2hhcGUge1xyXG4gICAgY29uc3RydWN0b3IoaWQsIG5hbWUsIG9wdCkge1xyXG4gICAgICAgIHN1cGVyKGlkLCBuYW1lLCBvcHQpO1xyXG4gICAgICAgIC8vIOexu+Wei+S4uuWkjeWQiOWbvuW9olxyXG4gICAgICAgIHRoaXMudHlwZSA9ICdjb21wb3NpdGUnO1xyXG4gICAgICAgIC8vIOe7hOaIkOWkjeWQiOWbvuW9oueahOWtkOWbvuW9omBcclxuICAgICAgICB0aGlzLnN1YlNoYXBlcyA9IFtdO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDmt7vliqDlrZDlm77lvaJcclxuICAgICAqIEBwYXJhbSBzdWJTaGFwZUNvbmZpZ1xyXG4gICAgICovXHJcbiAgICBhZGRTdWJTaGFwZShzdWJTaGFwZUNvbmZpZykge1xyXG4gICAgICAgIE9iamVjdC5rZXlzKHN1YlNoYXBlQ29uZmlnKS5tYXAocHJvcCA9PiB7XHJcbiAgICAgICAgICAgIGlmICghc3ViU2hhcGVDb25maWdbcHJvcF0pXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIGxldCBzdWJTaGFwZSA9IHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBwcm9wLFxyXG4gICAgICAgICAgICAgICAgc2hhcGU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzaGFwZU5hbWU6IHN1YlNoYXBlQ29uZmlnW3Byb3BdLnNoYXBlTmFtZSxcclxuICAgICAgICAgICAgICAgIGRyYXc6IHN1YlNoYXBlQ29uZmlnW3Byb3BdLmRyYXcsXHJcbiAgICAgICAgICAgICAgICBpbml0OiBzdWJTaGFwZUNvbmZpZ1twcm9wXS5pbml0XHJcbiAgICAgICAgICAgIH0sIGV4aXN0U3ViU2hhcGVJbmRleCA9IHRoaXMuc3ViU2hhcGVzLmZpbmRJbmRleChpdGVtID0+IGl0ZW0ubGFiZWwgPT09IHByb3ApO1xyXG4gICAgICAgICAgICBpZiAoZXhpc3RTdWJTaGFwZUluZGV4ID49IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3ViU2hhcGVzW2V4aXN0U3ViU2hhcGVJbmRleF0gPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnN1YlNoYXBlc1tleGlzdFN1YlNoYXBlSW5kZXhdLCBzdWJTaGFwZUNvbmZpZ1twcm9wXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN1YlNoYXBlcy5wdXNoKHN1YlNoYXBlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5blrZDlm77lvaJcclxuICAgICAqIEBwYXJhbSBuYW1lXHJcbiAgICAgKi9cclxuICAgIGdldFN1YlNoYXBlKG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zdWJTaGFwZXMuZmluZChpbmZvID0+IGluZm8ubGFiZWwgPT09IG5hbWUpLnNoYXBlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDmm7TmlrDlrZDlm77lvaLlsZ7mgKdcclxuICAgICAqL1xyXG4gICAgdXBkYXRlU3ViU2hhcGVzKCkge1xyXG4gICAgICAgIHRoaXMuc3ViU2hhcGVzLm1hcChpdGVtID0+IHtcclxuICAgICAgICAgICAgaXRlbS5zaGFwZS5hcHBseVNoYXBlT3B0aW9uKHsgc3R5bGU6IHRoaXMuc3R5bGUgfSk7XHJcbiAgICAgICAgICAgIGl0ZW0uaW5pdCAmJiBpdGVtLnNoYXBlLmFwcGx5U2hhcGVPcHRpb24oaXRlbS5pbml0KHRoaXMub3B0aW9uLCB0aGlzLnN0eWxlKSk7XHJcbiAgICAgICAgICAgIGl0ZW0uZHJhdyh0aGlzLCBpdGVtLnNoYXBlKTtcclxuICAgICAgICAgICAgaXRlbS5zaGFwZS54IC09IHRoaXMueDtcclxuICAgICAgICAgICAgaXRlbS5zaGFwZS55IC09IHRoaXMueTtcclxuICAgICAgICAgICAgaXRlbS5zaGFwZS5pc0RpcnR5ID0gdGhpcy5pc0RpcnR5O1xyXG4gICAgICAgICAgICBpdGVtLnNoYXBlLmVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGxldCB7IHgsIHksIHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuZ2V0Qm91bmQoKSwgY3ggPSB4ICsgd2lkdGggLyAyLCBjeSA9IHkgKyBoZWlnaHQgLyAyO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5yb3RhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdWJTaGFwZXMubWFwKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkID0gdmVjdG9yXzEuVmVjdG9yLnJvdGF0aW9uKHRoaXMucm90YXRpb24sIFtpdGVtLnNoYXBlLngsIGl0ZW0uc2hhcGUueV0sIFtjeCwgY3ldKTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLnNoYXBlLnggPSBkWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uc2hhcGUueSA9IGRbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5zaGFwZS5yb3RhdGlvbiA9IHRoaXMucm90YXRpb247XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgZ2V0Qm91bmQoKSB7XHJcbiAgICAgICAgcmV0dXJuIGJvdW5kaW5nUmVjdF8xLkJvdW5kLnVuaW9uKC4uLnRoaXMuc3ViU2hhcGVzLm1hcChpdGVtID0+IGl0ZW0uc2hhcGUuZ2V0Qm91bmQoKSkpO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlWnJlbmRlclNoYXBlKCkge1xyXG4gICAgICAgIGxldCB6cmVuZGVyU2hhcGUgPSBuZXcgcmVuZGVyZXJfMS5SZW5kZXJlci56cmVuZGVyLkdyb3VwKHtcclxuICAgICAgICAgICAgcG9zaXRpb246IFt0aGlzLngsIHRoaXMueV0sXHJcbiAgICAgICAgICAgIHo6IHRoaXMub3B0aW9uLnpJbmRleFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc3ViU2hhcGVzLm1hcChpdGVtID0+IHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0uc2hhcGUuenJlbmRlclNoYXBlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLnNoYXBlLnpyZW5kZXJTaGFwZSA9IGl0ZW0uc2hhcGUuY3JlYXRlWnJlbmRlclNoYXBlKCk7XHJcbiAgICAgICAgICAgICAgICBpdGVtLnNoYXBlLnpyZW5kZXJTaGFwZS5hdHRyKCd6JywgaXRlbS5zaGFwZS5vcHRpb24uekluZGV4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB6cmVuZGVyU2hhcGUuYWRkKGl0ZW0uc2hhcGUuenJlbmRlclNoYXBlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4genJlbmRlclNoYXBlO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuQ29tcG9zaXRlID0gQ29tcG9zaXRlO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///5\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst boundingRect_1 = __webpack_require__(3);\r\nclass Element {\r\n    /**\r\n     * 应用源数据元素的属性\r\n     * @param sourceElement\r\n     */\r\n    constructor(sourceElement) {\r\n        this.name = 'element';\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.rotation = 0;\r\n        this.width = 0;\r\n        this.height = 0;\r\n        this.style = {};\r\n        this.anchors = null;\r\n        this.lastX = 0;\r\n        this.lastY = 0;\r\n        this.shape = null;\r\n        // 连带影响的连线\r\n        this.effectLinks = [];\r\n        // 连带影响的外部指针\r\n        this.effectRefer = null;\r\n        // 该 element 是否已经被遗弃（一次更新完成后）\r\n        this.isObsolete = false;\r\n        Object.keys(sourceElement).map(prop => {\r\n            this[prop] = sourceElement[prop];\r\n        });\r\n    }\r\n    /**\r\n     * 获取元素包围盒\r\n     */\r\n    getBound() {\r\n        let w = this.width, h = this.height;\r\n        let originBound = {\r\n            x: this.x - w / 2,\r\n            y: this.y - h / 2,\r\n            width: w,\r\n            height: h\r\n        };\r\n        if (this.rotation) {\r\n            return boundingRect_1.Bound.rotation(originBound, this.rotation);\r\n        }\r\n        else {\r\n            return originBound;\r\n        }\r\n    }\r\n    // ------------------------钩子方法-------------------------\r\n    /**\r\n     * 当结点连接其他结点触发\r\n     * @param targetEle\r\n     * @param linkInfo\r\n     */\r\n    onLinkTo(targetEle, linkInfo) { }\r\n    ;\r\n    /**\r\n     * 当结点被其他结点连接时触发\r\n     * @param emitEle\r\n     * @param linkInfo\r\n     */\r\n    onLinkFrom(emitEle, linkInfo) { }\r\n    ;\r\n    /**\r\n     * 当结点断开与其他结点触发\r\n     * @param linkName\r\n     */\r\n    onUnlinkTo(linkName) { }\r\n    /**\r\n     * 当结点被其他结点断开连接时触发\r\n     * @param linkName\r\n     */\r\n    onUnlinkFrom(linkName) { }\r\n    /**\r\n     * 当指向结点时触发\r\n     * @param pointerStyle\r\n     * @param pointerName\r\n     * @param pointerValue\r\n     */\r\n    onRefer(pointerStyle, pointerName, pointerValue) { }\r\n    /**\r\n     * 当指针离开该结点触发\r\n     * @param pointerName\r\n     */\r\n    onUnrefer(pointerName) { }\r\n    /**\r\n     * 当元素发生变化\r\n     * @param type\r\n     */\r\n    onChange(type) { }\r\n}\r\nexports.Element = Element;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9Nb2RlbC9lbGVtZW50LmpzP2UxMzkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RCx1QkFBdUIsbUJBQU8sQ0FBQyxDQUFzQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0Q7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQSIsImZpbGUiOiI2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgYm91bmRpbmdSZWN0XzEgPSByZXF1aXJlKFwiLi4vVmlldy9ib3VuZGluZ1JlY3RcIik7XHJcbmNsYXNzIEVsZW1lbnQge1xyXG4gICAgLyoqXHJcbiAgICAgKiDlupTnlKjmupDmlbDmja7lhYPntKDnmoTlsZ7mgKdcclxuICAgICAqIEBwYXJhbSBzb3VyY2VFbGVtZW50XHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHNvdXJjZUVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLm5hbWUgPSAnZWxlbWVudCc7XHJcbiAgICAgICAgdGhpcy54ID0gMDtcclxuICAgICAgICB0aGlzLnkgPSAwO1xyXG4gICAgICAgIHRoaXMucm90YXRpb24gPSAwO1xyXG4gICAgICAgIHRoaXMud2lkdGggPSAwO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gMDtcclxuICAgICAgICB0aGlzLnN0eWxlID0ge307XHJcbiAgICAgICAgdGhpcy5hbmNob3JzID0gbnVsbDtcclxuICAgICAgICB0aGlzLmxhc3RYID0gMDtcclxuICAgICAgICB0aGlzLmxhc3RZID0gMDtcclxuICAgICAgICB0aGlzLnNoYXBlID0gbnVsbDtcclxuICAgICAgICAvLyDov57luKblvbHlk43nmoTov57nur9cclxuICAgICAgICB0aGlzLmVmZmVjdExpbmtzID0gW107XHJcbiAgICAgICAgLy8g6L+e5bim5b2x5ZON55qE5aSW6YOo5oyH6ZKIXHJcbiAgICAgICAgdGhpcy5lZmZlY3RSZWZlciA9IG51bGw7XHJcbiAgICAgICAgLy8g6K+lIGVsZW1lbnQg5piv5ZCm5bey57uP6KKr6YGX5byD77yI5LiA5qyh5pu05paw5a6M5oiQ5ZCO77yJXHJcbiAgICAgICAgdGhpcy5pc09ic29sZXRlID0gZmFsc2U7XHJcbiAgICAgICAgT2JqZWN0LmtleXMoc291cmNlRWxlbWVudCkubWFwKHByb3AgPT4ge1xyXG4gICAgICAgICAgICB0aGlzW3Byb3BdID0gc291cmNlRWxlbWVudFtwcm9wXTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog6I635Y+W5YWD57Sg5YyF5Zu055uSXHJcbiAgICAgKi9cclxuICAgIGdldEJvdW5kKCkge1xyXG4gICAgICAgIGxldCB3ID0gdGhpcy53aWR0aCwgaCA9IHRoaXMuaGVpZ2h0O1xyXG4gICAgICAgIGxldCBvcmlnaW5Cb3VuZCA9IHtcclxuICAgICAgICAgICAgeDogdGhpcy54IC0gdyAvIDIsXHJcbiAgICAgICAgICAgIHk6IHRoaXMueSAtIGggLyAyLFxyXG4gICAgICAgICAgICB3aWR0aDogdyxcclxuICAgICAgICAgICAgaGVpZ2h0OiBoXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAodGhpcy5yb3RhdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gYm91bmRpbmdSZWN0XzEuQm91bmQucm90YXRpb24ob3JpZ2luQm91bmQsIHRoaXMucm90YXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9yaWdpbkJvdW5kO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLemSqeWtkOaWueazlS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIC8qKlxyXG4gICAgICog5b2T57uT54K56L+e5o6l5YW25LuW57uT54K56Kem5Y+RXHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0RWxlXHJcbiAgICAgKiBAcGFyYW0gbGlua0luZm9cclxuICAgICAqL1xyXG4gICAgb25MaW5rVG8odGFyZ2V0RWxlLCBsaW5rSW5mbykgeyB9XHJcbiAgICA7XHJcbiAgICAvKipcclxuICAgICAqIOW9k+e7k+eCueiiq+WFtuS7lue7k+eCuei/nuaOpeaXtuinpuWPkVxyXG4gICAgICogQHBhcmFtIGVtaXRFbGVcclxuICAgICAqIEBwYXJhbSBsaW5rSW5mb1xyXG4gICAgICovXHJcbiAgICBvbkxpbmtGcm9tKGVtaXRFbGUsIGxpbmtJbmZvKSB7IH1cclxuICAgIDtcclxuICAgIC8qKlxyXG4gICAgICog5b2T57uT54K55pat5byA5LiO5YW25LuW57uT54K56Kem5Y+RXHJcbiAgICAgKiBAcGFyYW0gbGlua05hbWVcclxuICAgICAqL1xyXG4gICAgb25VbmxpbmtUbyhsaW5rTmFtZSkgeyB9XHJcbiAgICAvKipcclxuICAgICAqIOW9k+e7k+eCueiiq+WFtuS7lue7k+eCueaWreW8gOi/nuaOpeaXtuinpuWPkVxyXG4gICAgICogQHBhcmFtIGxpbmtOYW1lXHJcbiAgICAgKi9cclxuICAgIG9uVW5saW5rRnJvbShsaW5rTmFtZSkgeyB9XHJcbiAgICAvKipcclxuICAgICAqIOW9k+aMh+WQkee7k+eCueaXtuinpuWPkVxyXG4gICAgICogQHBhcmFtIHBvaW50ZXJTdHlsZVxyXG4gICAgICogQHBhcmFtIHBvaW50ZXJOYW1lXHJcbiAgICAgKiBAcGFyYW0gcG9pbnRlclZhbHVlXHJcbiAgICAgKi9cclxuICAgIG9uUmVmZXIocG9pbnRlclN0eWxlLCBwb2ludGVyTmFtZSwgcG9pbnRlclZhbHVlKSB7IH1cclxuICAgIC8qKlxyXG4gICAgICog5b2T5oyH6ZKI56a75byA6K+l57uT54K56Kem5Y+RXHJcbiAgICAgKiBAcGFyYW0gcG9pbnRlck5hbWVcclxuICAgICAqL1xyXG4gICAgb25VbnJlZmVyKHBvaW50ZXJOYW1lKSB7IH1cclxuICAgIC8qKlxyXG4gICAgICog5b2T5YWD57Sg5Y+R55Sf5Y+Y5YyWXHJcbiAgICAgKiBAcGFyYW0gdHlwZVxyXG4gICAgICovXHJcbiAgICBvbkNoYW5nZSh0eXBlKSB7IH1cclxufVxyXG5leHBvcnRzLkVsZW1lbnQgPSBFbGVtZW50O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6\n")},function(module,exports,__webpack_require__){"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\n/**\r\n * 交互模块基类\r\n */\r\nclass Interaction {\r\n    constructor(name, interactionModel, engine) {\r\n        this.name = name;\r\n        this.interactionModel = interactionModel;\r\n        this.engine = engine;\r\n        this.elementList = engine.getElementList();\r\n        this.renderer = engine.getRenderer();\r\n        this.zr = this.renderer.getZrender();\r\n        this.isEnable = true;\r\n    }\r\n    /**\r\n     * 设置配置项的值\r\n     * @param optionVal\r\n     */\r\n    setOptionVal(optionVal) {\r\n        this.optionValue = optionVal;\r\n    }\r\n    /**\r\n     * 更新交互模块信息\r\n     */\r\n    update() { }\r\n    /**\r\n     * 根据配置值应用交互\r\n     */\r\n    init() { }\r\n    /**\r\n     * 事件触发器\r\n     * @param param\r\n     */\r\n    trigger(param) { }\r\n    /**\r\n     * 事件响应器\r\n     * @param param\r\n     */\r\n    handler(param) { return null; }\r\n    /**\r\n     * 事件结束器\r\n     * @param param\r\n     */\r\n    finish(param) { }\r\n    /**\r\n     * 该交互的触发条件\r\n     * - 默认为 true 即无条件触发\r\n     */\r\n    triggerCondition() { return true; }\r\n    /**\r\n     * 处理交互\r\n     * @param param\r\n     */\r\n    emitHandler(param) {\r\n        if (this.isEnable) {\r\n            this.interactionModel.handler(this.name, param);\r\n        }\r\n    }\r\n    /**\r\n     * 处理触发器\r\n     * @param param\r\n     */\r\n    emitTrigger(param) {\r\n        if (this.isEnable && this.triggerCondition()) {\r\n            this.trigger(param);\r\n        }\r\n    }\r\n    /**\r\n     *\r\n     * @param param\r\n     */\r\n    emitFinish(param) {\r\n        if (this.isEnable) {\r\n            this.finish(param);\r\n        }\r\n    }\r\n    /**\r\n     * 设置交互全局数据\r\n     * @param dataName\r\n     * @param value\r\n     */\r\n    setData(dataName, value) {\r\n        this.interactionModel.dataStore[dataName] = value;\r\n    }\r\n    /**\r\n     * 获取交互数据\r\n     * @param dataName\r\n     */\r\n    getData(dataName) {\r\n        return this.interactionModel.dataStore[dataName];\r\n    }\r\n    /**\r\n     * 开启/关闭交互\r\n     * @param isEnable\r\n     */\r\n    toggleEnable(isEnable) {\r\n        this.isEnable = isEnable;\r\n    }\r\n}\r\nexports.Interaction = Interaction;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9JbnRlcmFjdGlvbi9pbnRlcmFjdGlvbi5qcz81MTg4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsYUFBYTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixhQUFhO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiI3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLyoqXHJcbiAqIOS6pOS6kuaooeWdl+Wfuuexu1xyXG4gKi9cclxuY2xhc3MgSW50ZXJhY3Rpb24ge1xyXG4gICAgY29uc3RydWN0b3IobmFtZSwgaW50ZXJhY3Rpb25Nb2RlbCwgZW5naW5lKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLmludGVyYWN0aW9uTW9kZWwgPSBpbnRlcmFjdGlvbk1vZGVsO1xyXG4gICAgICAgIHRoaXMuZW5naW5lID0gZW5naW5lO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudExpc3QgPSBlbmdpbmUuZ2V0RWxlbWVudExpc3QoKTtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gZW5naW5lLmdldFJlbmRlcmVyKCk7XHJcbiAgICAgICAgdGhpcy56ciA9IHRoaXMucmVuZGVyZXIuZ2V0WnJlbmRlcigpO1xyXG4gICAgICAgIHRoaXMuaXNFbmFibGUgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDorr7nva7phY3nva7pobnnmoTlgLxcclxuICAgICAqIEBwYXJhbSBvcHRpb25WYWxcclxuICAgICAqL1xyXG4gICAgc2V0T3B0aW9uVmFsKG9wdGlvblZhbCkge1xyXG4gICAgICAgIHRoaXMub3B0aW9uVmFsdWUgPSBvcHRpb25WYWw7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOabtOaWsOS6pOS6kuaooeWdl+S/oeaBr1xyXG4gICAgICovXHJcbiAgICB1cGRhdGUoKSB7IH1cclxuICAgIC8qKlxyXG4gICAgICog5qC55o2u6YWN572u5YC85bqU55So5Lqk5LqSXHJcbiAgICAgKi9cclxuICAgIGluaXQoKSB7IH1cclxuICAgIC8qKlxyXG4gICAgICog5LqL5Lu26Kem5Y+R5ZmoXHJcbiAgICAgKiBAcGFyYW0gcGFyYW1cclxuICAgICAqL1xyXG4gICAgdHJpZ2dlcihwYXJhbSkgeyB9XHJcbiAgICAvKipcclxuICAgICAqIOS6i+S7tuWTjeW6lOWZqFxyXG4gICAgICogQHBhcmFtIHBhcmFtXHJcbiAgICAgKi9cclxuICAgIGhhbmRsZXIocGFyYW0pIHsgcmV0dXJuIG51bGw7IH1cclxuICAgIC8qKlxyXG4gICAgICog5LqL5Lu257uT5p2f5ZmoXHJcbiAgICAgKiBAcGFyYW0gcGFyYW1cclxuICAgICAqL1xyXG4gICAgZmluaXNoKHBhcmFtKSB7IH1cclxuICAgIC8qKlxyXG4gICAgICog6K+l5Lqk5LqS55qE6Kem5Y+R5p2h5Lu2XHJcbiAgICAgKiAtIOm7mOiupOS4uiB0cnVlIOWNs+aXoOadoeS7tuinpuWPkVxyXG4gICAgICovXHJcbiAgICB0cmlnZ2VyQ29uZGl0aW9uKCkgeyByZXR1cm4gdHJ1ZTsgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDlpITnkIbkuqTkupJcclxuICAgICAqIEBwYXJhbSBwYXJhbVxyXG4gICAgICovXHJcbiAgICBlbWl0SGFuZGxlcihwYXJhbSkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRW5hYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25Nb2RlbC5oYW5kbGVyKHRoaXMubmFtZSwgcGFyYW0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5aSE55CG6Kem5Y+R5ZmoXHJcbiAgICAgKiBAcGFyYW0gcGFyYW1cclxuICAgICAqL1xyXG4gICAgZW1pdFRyaWdnZXIocGFyYW0pIHtcclxuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZSAmJiB0aGlzLnRyaWdnZXJDb25kaXRpb24oKSkge1xyXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIocGFyYW0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBwYXJhbVxyXG4gICAgICovXHJcbiAgICBlbWl0RmluaXNoKHBhcmFtKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNFbmFibGUpIHtcclxuICAgICAgICAgICAgdGhpcy5maW5pc2gocGFyYW0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog6K6+572u5Lqk5LqS5YWo5bGA5pWw5o2uXHJcbiAgICAgKiBAcGFyYW0gZGF0YU5hbWVcclxuICAgICAqIEBwYXJhbSB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBzZXREYXRhKGRhdGFOYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25Nb2RlbC5kYXRhU3RvcmVbZGF0YU5hbWVdID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPluS6pOS6kuaVsOaNrlxyXG4gICAgICogQHBhcmFtIGRhdGFOYW1lXHJcbiAgICAgKi9cclxuICAgIGdldERhdGEoZGF0YU5hbWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcmFjdGlvbk1vZGVsLmRhdGFTdG9yZVtkYXRhTmFtZV07XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOW8gOWQry/lhbPpl63kuqTkupJcclxuICAgICAqIEBwYXJhbSBpc0VuYWJsZVxyXG4gICAgICovXHJcbiAgICB0b2dnbGVFbmFibGUoaXNFbmFibGUpIHtcclxuICAgICAgICB0aGlzLmlzRW5hYmxlID0gaXNFbmFibGU7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5JbnRlcmFjdGlvbiA9IEludGVyYWN0aW9uO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7\n')},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst viewModel_1 = __webpack_require__(18);\r\nconst util_1 = __webpack_require__(0);\r\nconst dataModel_1 = __webpack_require__(23);\r\nconst option_1 = __webpack_require__(26);\r\nconst element_1 = __webpack_require__(6);\r\nconst group_1 = __webpack_require__(27);\r\nconst sourcesProxy_1 = __webpack_require__(28);\r\nconst interactionModel_1 = __webpack_require__(29);\r\nclass Engine {\r\n    constructor(container, engineInfo) {\r\n        // 引擎名称\r\n        this.name = 'engine';\r\n        // 当前保存的源数据\r\n        this.sources = null;\r\n        // 序列化的源数据\r\n        this.stringifySources = null;\r\n        // 数据模型控制器\r\n        this.dataModel = null;\r\n        // 视图模型控制器\r\n        this.viewModel = null;\r\n        // 交互模型\r\n        this.interactionModel = null;\r\n        // 源数据代理器\r\n        this.sourcesProxy = null;\r\n        // 上一次输入的序列化之后的配置项\r\n        this.lastStringifyOptions = null;\r\n        // 用户的默认配置项\r\n        this.defaultOption = null;\r\n        // 结构配置项\r\n        this.structOption = {\r\n            element: element_1.Element,\r\n            link: [],\r\n            pointer: []\r\n        };\r\n        // 外观配置项\r\n        this.viewOption = {\r\n            element: {},\r\n            link: {},\r\n            pointer: {},\r\n            layout: {},\r\n            // 动画配置项\r\n            animation: {\r\n                enableSkip: true,\r\n                enableAnimation: true,\r\n                timingFunction: 'quinticOut',\r\n                duration: 1000\r\n            },\r\n            position: 'auto',\r\n            scale: 'auto'\r\n        };\r\n        // 交互配置项\r\n        this.interactOption = {\r\n            zoomView: true,\r\n            moveView: false,\r\n            drag: false,\r\n            focus: false,\r\n            frameSelect: false,\r\n        };\r\n        // 代理过的源数据\r\n        this.proxySources = null;\r\n        util_1.Util.assert(!container, 'HTML元素不存在');\r\n        this.id = util_1.Util.generateId();\r\n        this.name = engineInfo.name;\r\n        this.viewModel = new viewModel_1.ViewModel(this, container);\r\n        this.dataModel = new dataModel_1.DataModel(this, this.viewModel);\r\n        this.interactionModel = new interactionModel_1.InteractionModel(this);\r\n        this.sourcesProxy = new sourcesProxy_1.SourcesProxy(this);\r\n        this.defaultOption = engineInfo.defaultOption;\r\n        // 根据结构配置项初始化视图配置项的结构\r\n        this.initViewOption(engineInfo.defaultOption.struct);\r\n        // 应用默认配置\r\n        this.applyOptions(engineInfo.defaultOption, false);\r\n    }\r\n    /**\r\n     * 重置数据\r\n     */\r\n    reset() {\r\n        this.dataModel.resetData();\r\n        this.viewModel.resetData();\r\n    }\r\n    /**\r\n     * 初始化视图配置项\r\n     * @param structOption\r\n     */\r\n    initViewOption(structOption) {\r\n        if (structOption.element && typeof structOption.element === 'object') {\r\n            this.viewOption.element = {};\r\n            Object.keys(structOption.element).forEach(key => {\r\n                this.viewOption.element[key] = {};\r\n            });\r\n        }\r\n        // 初始化 struct 配置项声明的连线字段的默认配置项\r\n        if (structOption.link && Array.isArray(structOption.link)) {\r\n            structOption.link.forEach(key => {\r\n                this.viewOption.link[key] = new option_1.DefaultLinkOption();\r\n            });\r\n        }\r\n        // 初始化 struct 配置项声明的指针字段的默认配置项\r\n        if (structOption.pointer && Array.isArray(structOption.pointer)) {\r\n            structOption.pointer.forEach(key => {\r\n                this.viewOption.pointer[key] = new option_1.DefaultPointerOption();\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * 整个可视化引擎的更新（发生结构改变，更新整个引擎）\r\n     * @param sources\r\n     */\r\n    updateEngine(sources) {\r\n        // 重置数据\r\n        this.reset();\r\n        // 建立元素间逻辑关系\r\n        this.dataModel.constructElements(sources);\r\n        // 根据逻辑关系布局元素\r\n        this.dataModel.layoutElements(this.render.bind(this), this.viewModel.renderer.getContainerWidth(), this.viewModel.renderer.getContainerHeight());\r\n        // 绘制元素，连线和指针\r\n        this.dataModel.drawComponents();\r\n        // 根据绑定更新图形\r\n        this.dataModel.updateShapes();\r\n        // 对图形进行调和\r\n        this.viewModel.reconciliation();\r\n        // 根据图形渲染视图\r\n        this.viewModel.renderShapes();\r\n    }\r\n    /**\r\n     * 可视化布局的更新（不发生结构改变，仅更新布局）\r\n     */\r\n    updateLayout() {\r\n        // 根据逻辑关系布局元素\r\n        this.dataModel.layoutElements(this.render.bind(this), this.viewModel.renderer.getContainerWidth(), this.viewModel.renderer.getContainerHeight());\r\n        // 绘制元素，连线和指针\r\n        this.dataModel.drawComponents();\r\n        // 根据绑定更新图形\r\n        this.dataModel.updateShapes();\r\n        // 对图形进行调和\r\n        this.viewModel.reconciliation(true);\r\n        // 根据图形渲染视图\r\n        this.viewModel.renderShapes();\r\n    }\r\n    /**\r\n     * 可视化视图的更新（不发生结构改变，不重新布局，仅更新连线，指针和 element）\r\n     */\r\n    updateView() {\r\n        // 绘制元素，连线和指针\r\n        this.dataModel.drawComponents();\r\n        // 根据绑定更新图形\r\n        this.dataModel.updateShapes();\r\n        // 对图形进行调和\r\n        this.viewModel.reconciliation(true);\r\n        // 根据图形渲染视图\r\n        this.viewModel.renderShapes();\r\n    }\r\n    /**\r\n     * 若干个 element 的更新（不发生结构改变，不重新布局，不改变连线和指针，仅更新某些 element）\r\n     * @param elements\r\n     * @param enableAnimation\r\n     */\r\n    updateElement(elements, enableAnimation) {\r\n        if (enableAnimation === undefined) {\r\n            enableAnimation = this.viewOption.animation.enableAnimation;\r\n        }\r\n        if (elements === undefined) {\r\n            elements = this.dataModel.getElementList();\r\n        }\r\n        let defaultAnimation = this.viewOption.animation.enableAnimation;\r\n        this.viewOption.animation.enableAnimation = enableAnimation;\r\n        // 根据绑定更新图形\r\n        this.dataModel.updateShapes(elements);\r\n        // 对被修改的 shape 进行 differ 和 patch\r\n        this.viewModel.reconciliation(true);\r\n        // 更新 zrender 图形实例\r\n        this.viewModel.renderShapes(true);\r\n        this.viewOption.animation.enableAnimation = defaultAnimation;\r\n    }\r\n    /**\r\n     * 输入源数据\r\n     * （可视化主流程）\r\n     * @param sources\r\n     * @param proxySources\r\n     */\r\n    source(sources, proxySources = false) {\r\n        // 如果正在执行视图更新，则取消该次动作（避免用户频繁点击）\r\n        if (!this.viewOption.animation.enableSkip && this.viewModel.isViewUpdating) {\r\n            return;\r\n        }\r\n        // 若不输入源数据而且之前也没有输入过源数据，则什么也不干\r\n        if (sources === undefined) {\r\n            return;\r\n        }\r\n        // 若前后数据没有发生变化，什么也不干（将json字符串化后比较）\r\n        let stringifySources = JSON.stringify(sources);\r\n        if (stringifySources === this.stringifySources)\r\n            return;\r\n        this.sources = sources;\r\n        this.stringifySources = stringifySources;\r\n        // ------------------- 可视化主流程 ---------------------\r\n        this.updateEngine(sources);\r\n        // ---------------------------------------------------\r\n        // 若关闭源数据代理且之前代理过的，则取消上次代理\r\n        if (proxySources === false && this.proxySources) {\r\n            this.sourcesProxy.revoke(this.proxySources);\r\n        }\r\n        // 若开启源数据代理，进行源数据代理\r\n        if (proxySources && sources !== this.proxySources) {\r\n            this.proxySources = this.sourcesProxy.proxy(sources);\r\n            return this.proxySources;\r\n        }\r\n    }\r\n    /**\r\n     * 应用配置项\r\n     * @param opt\r\n     * @param updateView\r\n     */\r\n    applyOptions(opt, updateView = true) {\r\n        // 配置项为 null 或为空对象不执行更新\r\n        if (!opt || Object.keys(opt).length === 0)\r\n            return;\r\n        let lastStringifyOptions = JSON.stringify(opt);\r\n        // 若这次的配置项和上一次的配置项一样，不执行更新\r\n        if (this.lastStringifyOptions && this.lastStringifyOptions === lastStringifyOptions) {\r\n            return;\r\n        }\r\n        this.lastStringifyOptions = lastStringifyOptions;\r\n        // 覆盖结构配置\r\n        if (opt.struct) {\r\n            util_1.Util.extends(this.structOption, opt.struct);\r\n        }\r\n        // 覆盖视图配置\r\n        if (opt.view) {\r\n            Object.keys(opt.view).forEach(key => {\r\n                if (Array.isArray(this.viewOption[key]) || typeof this.viewOption[key] !== 'object') {\r\n                    this.viewOption[key] = opt.view[key];\r\n                }\r\n                else {\r\n                    util_1.Util.extends(this.viewOption[key], opt.view[key]);\r\n                }\r\n            });\r\n        }\r\n        // 覆盖交互配置\r\n        if (opt.interact) {\r\n            Object.keys(opt.interact).forEach(key => {\r\n                this.interactOption[key] = opt.interact[key];\r\n            });\r\n            // 根据配置应用交互模块\r\n            this.interactionModel.applyInteractions(this.interactOption);\r\n        }\r\n        // 第一次初始化时( updateView 为 false )不更新视图\r\n        if (updateView === false) {\r\n            return;\r\n        }\r\n        // 修改配置后，更新一次视图\r\n        // 若新配置项更新了可视化结构，则更新整个引擎\r\n        if (opt.struct) {\r\n            this.updateEngine(this.sources);\r\n            return;\r\n        }\r\n        // 否则进行视图更新\r\n        if (opt.view) {\r\n            if (opt.view.layout) {\r\n                this.updateLayout();\r\n                return;\r\n            }\r\n            if (opt.view.element || opt.view.link || opt.view.pointer) {\r\n                this.updateView();\r\n                return;\r\n            }\r\n            return;\r\n        }\r\n    }\r\n    /**\r\n     * 清空引擎\r\n     */\r\n    clear() {\r\n        this.dataModel.resetData();\r\n        this.viewModel.resetData();\r\n        this.viewModel.clearShapes();\r\n        this.stringifySources = null;\r\n        if (this.proxySources) {\r\n            this.sourcesProxy.revoke(this.proxySources);\r\n            this.proxySources = null;\r\n        }\r\n    }\r\n    /**\r\n     * 获取渲染器\r\n     */\r\n    getRenderer() {\r\n        return this.viewModel.renderer;\r\n    }\r\n    /**\r\n     * 获取 dataModel 的 element 队列\r\n     */\r\n    getElementList() {\r\n        return this.dataModel.getElementList();\r\n    }\r\n    /**\r\n     * 获取引擎id\r\n     */\r\n    getId() {\r\n        return this.id;\r\n    }\r\n    /**\r\n     * 获取引擎名称\r\n     */\r\n    getName() {\r\n        return this.name;\r\n    }\r\n    /**\r\n     * 获取默认配置项\r\n     */\r\n    getDefaultOption() {\r\n        return this.defaultOption;\r\n    }\r\n    /**\r\n     * 是否正在进行视图更新\r\n     */\r\n    isViewUpdating() {\r\n        return this.viewModel.isViewUpdating;\r\n    }\r\n    /**\r\n     * 动态添加一个连接信息\r\n     * - 该方法用于让用户在render方法中动态生成一个非预先在source中声明的连接\r\n     * @param emitElement\r\n     * @param targetElement\r\n     * @param linkName\r\n     * @param anchorPair\r\n     */\r\n    link(emitElement, targetElement, linkName, anchorPair = null) {\r\n        this.dataModel.addLink(emitElement, targetElement, linkName, anchorPair);\r\n    }\r\n    /**\r\n     * 动态添加一个外部指针\r\n     * - 该方法用于让用户在render方法中动态生成一个非预先在source中声明的外部指针\r\n     * @param targetElement\r\n     * @param referName\r\n     * @param referValue\r\n     */\r\n    refer(targetElement, referName, referValue) {\r\n        this.dataModel.addPointer(targetElement, referName, referValue);\r\n    }\r\n    /**\r\n     * 创建一个静态文本\r\n     * @param content\r\n     * @param style\r\n     */\r\n    text(content, style) {\r\n        return this.viewModel.createShape('staticText#' + this.viewModel.staticTextId++, 'text', {\r\n            content,\r\n            style,\r\n        });\r\n    }\r\n    /**\r\n     * 创建一个元素组\r\n     */\r\n    group(...arg) {\r\n        return new group_1.Group(...arg);\r\n    }\r\n    /**\r\n     * 自动适应视图\r\n     */\r\n    resize(option) {\r\n        if (option === undefined) {\r\n            option = { width: 'auto', height: 'auto' };\r\n        }\r\n        else {\r\n            option.width = option.width || 'auto';\r\n            option.height = option.height || 'auto';\r\n        }\r\n        this.viewModel.renderer.resizeGlobalShape(option, this.viewOption.position, this.viewOption.scale);\r\n    }\r\n    // ------------------------------------需继承重写的方法------------------------------------ //\r\n    /**\r\n     * 渲染数据结构方法\r\n     */\r\n    render(elements, containerWidth, containerHeight) { }\r\n    /**\r\n     * 视图更新前\r\n     */\r\n    beforeUpdate() { }\r\n    /**\r\n     * 视图更新后\r\n     * @param patchList\r\n     */\r\n    afterUpdate() { }\r\n}\r\n// Shape构造函数容器，用作存放扩展的Shape（基本上为Composite）\r\n// 使用registerShape函数注册的图形将被存放在此处，任何子Engine都可访问到这些图形（全局）\r\nEngine.ShapesTable = {};\r\nexports.Engine = Engine;\r\n/**\r\n * 注册一个或多个图形\r\n */\r\nfunction RegisterShape(target, shapeName) {\r\n    Engine.ShapesTable[shapeName] = target;\r\n    target.prototype.name = shapeName;\r\n}\r\nexports.RegisterShape = RegisterShape;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9lbmdpbmUuanM/Y2QxNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE4QyxjQUFjO0FBQzVELG9CQUFvQixtQkFBTyxDQUFDLEVBQWtCO0FBQzlDLGVBQWUsbUJBQU8sQ0FBQyxDQUFlO0FBQ3RDLG9CQUFvQixtQkFBTyxDQUFDLEVBQW1CO0FBQy9DLGlCQUFpQixtQkFBTyxDQUFDLEVBQVU7QUFDbkMsa0JBQWtCLG1CQUFPLENBQUMsQ0FBaUI7QUFDM0MsZ0JBQWdCLG1CQUFPLENBQUMsRUFBZTtBQUN2Qyx1QkFBdUIsbUJBQU8sQ0FBQyxFQUFzQjtBQUNyRCwyQkFBMkIsbUJBQU8sQ0FBQyxFQUFnQztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QixvQkFBb0I7QUFDcEIsdUJBQXVCO0FBQ3ZCLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiI4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3Qgdmlld01vZGVsXzEgPSByZXF1aXJlKFwiLi9WaWV3L3ZpZXdNb2RlbFwiKTtcclxuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcIi4vQ29tbW9uL3V0aWxcIik7XHJcbmNvbnN0IGRhdGFNb2RlbF8xID0gcmVxdWlyZShcIi4vTW9kZWwvZGF0YU1vZGVsXCIpO1xyXG5jb25zdCBvcHRpb25fMSA9IHJlcXVpcmUoXCIuL29wdGlvblwiKTtcclxuY29uc3QgZWxlbWVudF8xID0gcmVxdWlyZShcIi4vTW9kZWwvZWxlbWVudFwiKTtcclxuY29uc3QgZ3JvdXBfMSA9IHJlcXVpcmUoXCIuL01vZGVsL2dyb3VwXCIpO1xyXG5jb25zdCBzb3VyY2VzUHJveHlfMSA9IHJlcXVpcmUoXCIuL01vZGVsL3NvdXJjZXNQcm94eVwiKTtcclxuY29uc3QgaW50ZXJhY3Rpb25Nb2RlbF8xID0gcmVxdWlyZShcIi4vSW50ZXJhY3Rpb24vaW50ZXJhY3Rpb25Nb2RlbFwiKTtcclxuY2xhc3MgRW5naW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lciwgZW5naW5lSW5mbykge1xyXG4gICAgICAgIC8vIOW8leaTjuWQjeensFxyXG4gICAgICAgIHRoaXMubmFtZSA9ICdlbmdpbmUnO1xyXG4gICAgICAgIC8vIOW9k+WJjeS/neWtmOeahOa6kOaVsOaNrlxyXG4gICAgICAgIHRoaXMuc291cmNlcyA9IG51bGw7XHJcbiAgICAgICAgLy8g5bqP5YiX5YyW55qE5rqQ5pWw5o2uXHJcbiAgICAgICAgdGhpcy5zdHJpbmdpZnlTb3VyY2VzID0gbnVsbDtcclxuICAgICAgICAvLyDmlbDmja7mqKHlnovmjqfliLblmahcclxuICAgICAgICB0aGlzLmRhdGFNb2RlbCA9IG51bGw7XHJcbiAgICAgICAgLy8g6KeG5Zu+5qih5Z6L5o6n5Yi25ZmoXHJcbiAgICAgICAgdGhpcy52aWV3TW9kZWwgPSBudWxsO1xyXG4gICAgICAgIC8vIOS6pOS6kuaooeWei1xyXG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25Nb2RlbCA9IG51bGw7XHJcbiAgICAgICAgLy8g5rqQ5pWw5o2u5Luj55CG5ZmoXHJcbiAgICAgICAgdGhpcy5zb3VyY2VzUHJveHkgPSBudWxsO1xyXG4gICAgICAgIC8vIOS4iuS4gOasoei+k+WFpeeahOW6j+WIl+WMluS5i+WQjueahOmFjee9rumhuVxyXG4gICAgICAgIHRoaXMubGFzdFN0cmluZ2lmeU9wdGlvbnMgPSBudWxsO1xyXG4gICAgICAgIC8vIOeUqOaIt+eahOm7mOiupOmFjee9rumhuVxyXG4gICAgICAgIHRoaXMuZGVmYXVsdE9wdGlvbiA9IG51bGw7XHJcbiAgICAgICAgLy8g57uT5p6E6YWN572u6aG5XHJcbiAgICAgICAgdGhpcy5zdHJ1Y3RPcHRpb24gPSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnRfMS5FbGVtZW50LFxyXG4gICAgICAgICAgICBsaW5rOiBbXSxcclxuICAgICAgICAgICAgcG9pbnRlcjogW11cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIOWkluingumFjee9rumhuVxyXG4gICAgICAgIHRoaXMudmlld09wdGlvbiA9IHtcclxuICAgICAgICAgICAgZWxlbWVudDoge30sXHJcbiAgICAgICAgICAgIGxpbms6IHt9LFxyXG4gICAgICAgICAgICBwb2ludGVyOiB7fSxcclxuICAgICAgICAgICAgbGF5b3V0OiB7fSxcclxuICAgICAgICAgICAgLy8g5Yqo55S76YWN572u6aG5XHJcbiAgICAgICAgICAgIGFuaW1hdGlvbjoge1xyXG4gICAgICAgICAgICAgICAgZW5hYmxlU2tpcDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGVuYWJsZUFuaW1hdGlvbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHRpbWluZ0Z1bmN0aW9uOiAncXVpbnRpY091dCcsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogJ2F1dG8nLFxyXG4gICAgICAgICAgICBzY2FsZTogJ2F1dG8nXHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyDkuqTkupLphY3nva7poblcclxuICAgICAgICB0aGlzLmludGVyYWN0T3B0aW9uID0ge1xyXG4gICAgICAgICAgICB6b29tVmlldzogdHJ1ZSxcclxuICAgICAgICAgICAgbW92ZVZpZXc6IGZhbHNlLFxyXG4gICAgICAgICAgICBkcmFnOiBmYWxzZSxcclxuICAgICAgICAgICAgZm9jdXM6IGZhbHNlLFxyXG4gICAgICAgICAgICBmcmFtZVNlbGVjdDogZmFsc2UsXHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyDku6PnkIbov4fnmoTmupDmlbDmja5cclxuICAgICAgICB0aGlzLnByb3h5U291cmNlcyA9IG51bGw7XHJcbiAgICAgICAgdXRpbF8xLlV0aWwuYXNzZXJ0KCFjb250YWluZXIsICdIVE1M5YWD57Sg5LiN5a2Y5ZyoJyk7XHJcbiAgICAgICAgdGhpcy5pZCA9IHV0aWxfMS5VdGlsLmdlbmVyYXRlSWQoKTtcclxuICAgICAgICB0aGlzLm5hbWUgPSBlbmdpbmVJbmZvLm5hbWU7XHJcbiAgICAgICAgdGhpcy52aWV3TW9kZWwgPSBuZXcgdmlld01vZGVsXzEuVmlld01vZGVsKHRoaXMsIGNvbnRhaW5lcik7XHJcbiAgICAgICAgdGhpcy5kYXRhTW9kZWwgPSBuZXcgZGF0YU1vZGVsXzEuRGF0YU1vZGVsKHRoaXMsIHRoaXMudmlld01vZGVsKTtcclxuICAgICAgICB0aGlzLmludGVyYWN0aW9uTW9kZWwgPSBuZXcgaW50ZXJhY3Rpb25Nb2RlbF8xLkludGVyYWN0aW9uTW9kZWwodGhpcyk7XHJcbiAgICAgICAgdGhpcy5zb3VyY2VzUHJveHkgPSBuZXcgc291cmNlc1Byb3h5XzEuU291cmNlc1Byb3h5KHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZGVmYXVsdE9wdGlvbiA9IGVuZ2luZUluZm8uZGVmYXVsdE9wdGlvbjtcclxuICAgICAgICAvLyDmoLnmja7nu5PmnoTphY3nva7pobnliJ3lp4vljJbop4blm77phY3nva7pobnnmoTnu5PmnoRcclxuICAgICAgICB0aGlzLmluaXRWaWV3T3B0aW9uKGVuZ2luZUluZm8uZGVmYXVsdE9wdGlvbi5zdHJ1Y3QpO1xyXG4gICAgICAgIC8vIOW6lOeUqOm7mOiupOmFjee9rlxyXG4gICAgICAgIHRoaXMuYXBwbHlPcHRpb25zKGVuZ2luZUluZm8uZGVmYXVsdE9wdGlvbiwgZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDph43nva7mlbDmja5cclxuICAgICAqL1xyXG4gICAgcmVzZXQoKSB7XHJcbiAgICAgICAgdGhpcy5kYXRhTW9kZWwucmVzZXREYXRhKCk7XHJcbiAgICAgICAgdGhpcy52aWV3TW9kZWwucmVzZXREYXRhKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOWIneWni+WMluinhuWbvumFjee9rumhuVxyXG4gICAgICogQHBhcmFtIHN0cnVjdE9wdGlvblxyXG4gICAgICovXHJcbiAgICBpbml0Vmlld09wdGlvbihzdHJ1Y3RPcHRpb24pIHtcclxuICAgICAgICBpZiAoc3RydWN0T3B0aW9uLmVsZW1lbnQgJiYgdHlwZW9mIHN0cnVjdE9wdGlvbi5lbGVtZW50ID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICB0aGlzLnZpZXdPcHRpb24uZWxlbWVudCA9IHt9O1xyXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzdHJ1Y3RPcHRpb24uZWxlbWVudCkuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3T3B0aW9uLmVsZW1lbnRba2V5XSA9IHt9O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5Yid5aeL5YyWIHN0cnVjdCDphY3nva7pobnlo7DmmI7nmoTov57nur/lrZfmrrXnmoTpu5jorqTphY3nva7poblcclxuICAgICAgICBpZiAoc3RydWN0T3B0aW9uLmxpbmsgJiYgQXJyYXkuaXNBcnJheShzdHJ1Y3RPcHRpb24ubGluaykpIHtcclxuICAgICAgICAgICAgc3RydWN0T3B0aW9uLmxpbmsuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3T3B0aW9uLmxpbmtba2V5XSA9IG5ldyBvcHRpb25fMS5EZWZhdWx0TGlua09wdGlvbigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5Yid5aeL5YyWIHN0cnVjdCDphY3nva7pobnlo7DmmI7nmoTmjIfpkojlrZfmrrXnmoTpu5jorqTphY3nva7poblcclxuICAgICAgICBpZiAoc3RydWN0T3B0aW9uLnBvaW50ZXIgJiYgQXJyYXkuaXNBcnJheShzdHJ1Y3RPcHRpb24ucG9pbnRlcikpIHtcclxuICAgICAgICAgICAgc3RydWN0T3B0aW9uLnBvaW50ZXIuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3T3B0aW9uLnBvaW50ZXJba2V5XSA9IG5ldyBvcHRpb25fMS5EZWZhdWx0UG9pbnRlck9wdGlvbigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOaVtOS4quWPr+inhuWMluW8leaTjueahOabtOaWsO+8iOWPkeeUn+e7k+aehOaUueWPmO+8jOabtOaWsOaVtOS4quW8leaTju+8iVxyXG4gICAgICogQHBhcmFtIHNvdXJjZXNcclxuICAgICAqL1xyXG4gICAgdXBkYXRlRW5naW5lKHNvdXJjZXMpIHtcclxuICAgICAgICAvLyDph43nva7mlbDmja5cclxuICAgICAgICB0aGlzLnJlc2V0KCk7XHJcbiAgICAgICAgLy8g5bu656uL5YWD57Sg6Ze06YC76L6R5YWz57O7XHJcbiAgICAgICAgdGhpcy5kYXRhTW9kZWwuY29uc3RydWN0RWxlbWVudHMoc291cmNlcyk7XHJcbiAgICAgICAgLy8g5qC55o2u6YC76L6R5YWz57O75biD5bGA5YWD57SgXHJcbiAgICAgICAgdGhpcy5kYXRhTW9kZWwubGF5b3V0RWxlbWVudHModGhpcy5yZW5kZXIuYmluZCh0aGlzKSwgdGhpcy52aWV3TW9kZWwucmVuZGVyZXIuZ2V0Q29udGFpbmVyV2lkdGgoKSwgdGhpcy52aWV3TW9kZWwucmVuZGVyZXIuZ2V0Q29udGFpbmVySGVpZ2h0KCkpO1xyXG4gICAgICAgIC8vIOe7mOWItuWFg+e0oO+8jOi/nue6v+WSjOaMh+mSiFxyXG4gICAgICAgIHRoaXMuZGF0YU1vZGVsLmRyYXdDb21wb25lbnRzKCk7XHJcbiAgICAgICAgLy8g5qC55o2u57uR5a6a5pu05paw5Zu+5b2iXHJcbiAgICAgICAgdGhpcy5kYXRhTW9kZWwudXBkYXRlU2hhcGVzKCk7XHJcbiAgICAgICAgLy8g5a+55Zu+5b2i6L+b6KGM6LCD5ZKMXHJcbiAgICAgICAgdGhpcy52aWV3TW9kZWwucmVjb25jaWxpYXRpb24oKTtcclxuICAgICAgICAvLyDmoLnmja7lm77lvaLmuLLmn5Pop4blm75cclxuICAgICAgICB0aGlzLnZpZXdNb2RlbC5yZW5kZXJTaGFwZXMoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5Y+v6KeG5YyW5biD5bGA55qE5pu05paw77yI5LiN5Y+R55Sf57uT5p6E5pS55Y+Y77yM5LuF5pu05paw5biD5bGA77yJXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZUxheW91dCgpIHtcclxuICAgICAgICAvLyDmoLnmja7pgLvovpHlhbPns7vluIPlsYDlhYPntKBcclxuICAgICAgICB0aGlzLmRhdGFNb2RlbC5sYXlvdXRFbGVtZW50cyh0aGlzLnJlbmRlci5iaW5kKHRoaXMpLCB0aGlzLnZpZXdNb2RlbC5yZW5kZXJlci5nZXRDb250YWluZXJXaWR0aCgpLCB0aGlzLnZpZXdNb2RlbC5yZW5kZXJlci5nZXRDb250YWluZXJIZWlnaHQoKSk7XHJcbiAgICAgICAgLy8g57uY5Yi25YWD57Sg77yM6L+e57q/5ZKM5oyH6ZKIXHJcbiAgICAgICAgdGhpcy5kYXRhTW9kZWwuZHJhd0NvbXBvbmVudHMoKTtcclxuICAgICAgICAvLyDmoLnmja7nu5Hlrprmm7TmlrDlm77lvaJcclxuICAgICAgICB0aGlzLmRhdGFNb2RlbC51cGRhdGVTaGFwZXMoKTtcclxuICAgICAgICAvLyDlr7nlm77lvaLov5vooYzosIPlkoxcclxuICAgICAgICB0aGlzLnZpZXdNb2RlbC5yZWNvbmNpbGlhdGlvbih0cnVlKTtcclxuICAgICAgICAvLyDmoLnmja7lm77lvaLmuLLmn5Pop4blm75cclxuICAgICAgICB0aGlzLnZpZXdNb2RlbC5yZW5kZXJTaGFwZXMoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5Y+v6KeG5YyW6KeG5Zu+55qE5pu05paw77yI5LiN5Y+R55Sf57uT5p6E5pS55Y+Y77yM5LiN6YeN5paw5biD5bGA77yM5LuF5pu05paw6L+e57q/77yM5oyH6ZKI5ZKMIGVsZW1lbnTvvIlcclxuICAgICAqL1xyXG4gICAgdXBkYXRlVmlldygpIHtcclxuICAgICAgICAvLyDnu5jliLblhYPntKDvvIzov57nur/lkozmjIfpkohcclxuICAgICAgICB0aGlzLmRhdGFNb2RlbC5kcmF3Q29tcG9uZW50cygpO1xyXG4gICAgICAgIC8vIOagueaNrue7keWumuabtOaWsOWbvuW9olxyXG4gICAgICAgIHRoaXMuZGF0YU1vZGVsLnVwZGF0ZVNoYXBlcygpO1xyXG4gICAgICAgIC8vIOWvueWbvuW9oui/m+ihjOiwg+WSjFxyXG4gICAgICAgIHRoaXMudmlld01vZGVsLnJlY29uY2lsaWF0aW9uKHRydWUpO1xyXG4gICAgICAgIC8vIOagueaNruWbvuW9oua4suafk+inhuWbvlxyXG4gICAgICAgIHRoaXMudmlld01vZGVsLnJlbmRlclNoYXBlcygpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDoi6XlubLkuKogZWxlbWVudCDnmoTmm7TmlrDvvIjkuI3lj5HnlJ/nu5PmnoTmlLnlj5jvvIzkuI3ph43mlrDluIPlsYDvvIzkuI3mlLnlj5jov57nur/lkozmjIfpkojvvIzku4Xmm7TmlrDmn5DkupsgZWxlbWVudO+8iVxyXG4gICAgICogQHBhcmFtIGVsZW1lbnRzXHJcbiAgICAgKiBAcGFyYW0gZW5hYmxlQW5pbWF0aW9uXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZUVsZW1lbnQoZWxlbWVudHMsIGVuYWJsZUFuaW1hdGlvbikge1xyXG4gICAgICAgIGlmIChlbmFibGVBbmltYXRpb24gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBlbmFibGVBbmltYXRpb24gPSB0aGlzLnZpZXdPcHRpb24uYW5pbWF0aW9uLmVuYWJsZUFuaW1hdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGVsZW1lbnRzID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgZWxlbWVudHMgPSB0aGlzLmRhdGFNb2RlbC5nZXRFbGVtZW50TGlzdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgZGVmYXVsdEFuaW1hdGlvbiA9IHRoaXMudmlld09wdGlvbi5hbmltYXRpb24uZW5hYmxlQW5pbWF0aW9uO1xyXG4gICAgICAgIHRoaXMudmlld09wdGlvbi5hbmltYXRpb24uZW5hYmxlQW5pbWF0aW9uID0gZW5hYmxlQW5pbWF0aW9uO1xyXG4gICAgICAgIC8vIOagueaNrue7keWumuabtOaWsOWbvuW9olxyXG4gICAgICAgIHRoaXMuZGF0YU1vZGVsLnVwZGF0ZVNoYXBlcyhlbGVtZW50cyk7XHJcbiAgICAgICAgLy8g5a+56KKr5L+u5pS555qEIHNoYXBlIOi/m+ihjCBkaWZmZXIg5ZKMIHBhdGNoXHJcbiAgICAgICAgdGhpcy52aWV3TW9kZWwucmVjb25jaWxpYXRpb24odHJ1ZSk7XHJcbiAgICAgICAgLy8g5pu05pawIHpyZW5kZXIg5Zu+5b2i5a6e5L6LXHJcbiAgICAgICAgdGhpcy52aWV3TW9kZWwucmVuZGVyU2hhcGVzKHRydWUpO1xyXG4gICAgICAgIHRoaXMudmlld09wdGlvbi5hbmltYXRpb24uZW5hYmxlQW5pbWF0aW9uID0gZGVmYXVsdEFuaW1hdGlvbjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog6L6T5YWl5rqQ5pWw5o2uXHJcbiAgICAgKiDvvIjlj6/op4bljJbkuLvmtYHnqIvvvIlcclxuICAgICAqIEBwYXJhbSBzb3VyY2VzXHJcbiAgICAgKiBAcGFyYW0gcHJveHlTb3VyY2VzXHJcbiAgICAgKi9cclxuICAgIHNvdXJjZShzb3VyY2VzLCBwcm94eVNvdXJjZXMgPSBmYWxzZSkge1xyXG4gICAgICAgIC8vIOWmguaenOato+WcqOaJp+ihjOinhuWbvuabtOaWsO+8jOWImeWPlua2iOivpeasoeWKqOS9nO+8iOmBv+WFjeeUqOaIt+mikee5geeCueWHu++8iVxyXG4gICAgICAgIGlmICghdGhpcy52aWV3T3B0aW9uLmFuaW1hdGlvbi5lbmFibGVTa2lwICYmIHRoaXMudmlld01vZGVsLmlzVmlld1VwZGF0aW5nKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g6Iul5LiN6L6T5YWl5rqQ5pWw5o2u6ICM5LiU5LmL5YmN5Lmf5rKh5pyJ6L6T5YWl6L+H5rqQ5pWw5o2u77yM5YiZ5LuA5LmI5Lmf5LiN5bmyXHJcbiAgICAgICAgaWYgKHNvdXJjZXMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOiLpeWJjeWQjuaVsOaNruayoeacieWPkeeUn+WPmOWMlu+8jOS7gOS5iOS5n+S4jeW5su+8iOWwhmpzb27lrZfnrKbkuLLljJblkI7mr5TovoPvvIlcclxuICAgICAgICBsZXQgc3RyaW5naWZ5U291cmNlcyA9IEpTT04uc3RyaW5naWZ5KHNvdXJjZXMpO1xyXG4gICAgICAgIGlmIChzdHJpbmdpZnlTb3VyY2VzID09PSB0aGlzLnN0cmluZ2lmeVNvdXJjZXMpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLnNvdXJjZXMgPSBzb3VyY2VzO1xyXG4gICAgICAgIHRoaXMuc3RyaW5naWZ5U291cmNlcyA9IHN0cmluZ2lmeVNvdXJjZXM7XHJcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLSDlj6/op4bljJbkuLvmtYHnqIsgLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgdGhpcy51cGRhdGVFbmdpbmUoc291cmNlcyk7XHJcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgLy8g6Iul5YWz6Zet5rqQ5pWw5o2u5Luj55CG5LiU5LmL5YmN5Luj55CG6L+H55qE77yM5YiZ5Y+W5raI5LiK5qyh5Luj55CGXHJcbiAgICAgICAgaWYgKHByb3h5U291cmNlcyA9PT0gZmFsc2UgJiYgdGhpcy5wcm94eVNvdXJjZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5zb3VyY2VzUHJveHkucmV2b2tlKHRoaXMucHJveHlTb3VyY2VzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g6Iul5byA5ZCv5rqQ5pWw5o2u5Luj55CG77yM6L+b6KGM5rqQ5pWw5o2u5Luj55CGXHJcbiAgICAgICAgaWYgKHByb3h5U291cmNlcyAmJiBzb3VyY2VzICE9PSB0aGlzLnByb3h5U291cmNlcykge1xyXG4gICAgICAgICAgICB0aGlzLnByb3h5U291cmNlcyA9IHRoaXMuc291cmNlc1Byb3h5LnByb3h5KHNvdXJjZXMpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm94eVNvdXJjZXM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDlupTnlKjphY3nva7poblcclxuICAgICAqIEBwYXJhbSBvcHRcclxuICAgICAqIEBwYXJhbSB1cGRhdGVWaWV3XHJcbiAgICAgKi9cclxuICAgIGFwcGx5T3B0aW9ucyhvcHQsIHVwZGF0ZVZpZXcgPSB0cnVlKSB7XHJcbiAgICAgICAgLy8g6YWN572u6aG55Li6IG51bGwg5oiW5Li656m65a+56LGh5LiN5omn6KGM5pu05pawXHJcbiAgICAgICAgaWYgKCFvcHQgfHwgT2JqZWN0LmtleXMob3B0KS5sZW5ndGggPT09IDApXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBsZXQgbGFzdFN0cmluZ2lmeU9wdGlvbnMgPSBKU09OLnN0cmluZ2lmeShvcHQpO1xyXG4gICAgICAgIC8vIOiLpei/measoeeahOmFjee9rumhueWSjOS4iuS4gOasoeeahOmFjee9rumhueS4gOagt++8jOS4jeaJp+ihjOabtOaWsFxyXG4gICAgICAgIGlmICh0aGlzLmxhc3RTdHJpbmdpZnlPcHRpb25zICYmIHRoaXMubGFzdFN0cmluZ2lmeU9wdGlvbnMgPT09IGxhc3RTdHJpbmdpZnlPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5sYXN0U3RyaW5naWZ5T3B0aW9ucyA9IGxhc3RTdHJpbmdpZnlPcHRpb25zO1xyXG4gICAgICAgIC8vIOimhueblue7k+aehOmFjee9rlxyXG4gICAgICAgIGlmIChvcHQuc3RydWN0KSB7XHJcbiAgICAgICAgICAgIHV0aWxfMS5VdGlsLmV4dGVuZHModGhpcy5zdHJ1Y3RPcHRpb24sIG9wdC5zdHJ1Y3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDopobnm5bop4blm77phY3nva5cclxuICAgICAgICBpZiAob3B0LnZpZXcpIHtcclxuICAgICAgICAgICAgT2JqZWN0LmtleXMob3B0LnZpZXcpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMudmlld09wdGlvbltrZXldKSB8fCB0eXBlb2YgdGhpcy52aWV3T3B0aW9uW2tleV0gIT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3T3B0aW9uW2tleV0gPSBvcHQudmlld1trZXldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXRpbF8xLlV0aWwuZXh0ZW5kcyh0aGlzLnZpZXdPcHRpb25ba2V5XSwgb3B0LnZpZXdba2V5XSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDopobnm5bkuqTkupLphY3nva5cclxuICAgICAgICBpZiAob3B0LmludGVyYWN0KSB7XHJcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG9wdC5pbnRlcmFjdCkuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnRlcmFjdE9wdGlvbltrZXldID0gb3B0LmludGVyYWN0W2tleV07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyDmoLnmja7phY3nva7lupTnlKjkuqTkupLmqKHlnZdcclxuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbk1vZGVsLmFwcGx5SW50ZXJhY3Rpb25zKHRoaXMuaW50ZXJhY3RPcHRpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDnrKzkuIDmrKHliJ3lp4vljJbml7YoIHVwZGF0ZVZpZXcg5Li6IGZhbHNlICnkuI3mm7TmlrDop4blm75cclxuICAgICAgICBpZiAodXBkYXRlVmlldyA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDkv67mlLnphY3nva7lkI7vvIzmm7TmlrDkuIDmrKHop4blm75cclxuICAgICAgICAvLyDoi6XmlrDphY3nva7pobnmm7TmlrDkuoblj6/op4bljJbnu5PmnoTvvIzliJnmm7TmlrDmlbTkuKrlvJXmk45cclxuICAgICAgICBpZiAob3B0LnN0cnVjdCkge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUVuZ2luZSh0aGlzLnNvdXJjZXMpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOWQpuWImei/m+ihjOinhuWbvuabtOaWsFxyXG4gICAgICAgIGlmIChvcHQudmlldykge1xyXG4gICAgICAgICAgICBpZiAob3B0LnZpZXcubGF5b3V0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUxheW91dCgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvcHQudmlldy5lbGVtZW50IHx8IG9wdC52aWV3LmxpbmsgfHwgb3B0LnZpZXcucG9pbnRlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVWaWV3KCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5riF56m65byV5pOOXHJcbiAgICAgKi9cclxuICAgIGNsZWFyKCkge1xyXG4gICAgICAgIHRoaXMuZGF0YU1vZGVsLnJlc2V0RGF0YSgpO1xyXG4gICAgICAgIHRoaXMudmlld01vZGVsLnJlc2V0RGF0YSgpO1xyXG4gICAgICAgIHRoaXMudmlld01vZGVsLmNsZWFyU2hhcGVzKCk7XHJcbiAgICAgICAgdGhpcy5zdHJpbmdpZnlTb3VyY2VzID0gbnVsbDtcclxuICAgICAgICBpZiAodGhpcy5wcm94eVNvdXJjZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5zb3VyY2VzUHJveHkucmV2b2tlKHRoaXMucHJveHlTb3VyY2VzKTtcclxuICAgICAgICAgICAgdGhpcy5wcm94eVNvdXJjZXMgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog6I635Y+W5riy5p+T5ZmoXHJcbiAgICAgKi9cclxuICAgIGdldFJlbmRlcmVyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdNb2RlbC5yZW5kZXJlcjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog6I635Y+WIGRhdGFNb2RlbCDnmoQgZWxlbWVudCDpmJ/liJdcclxuICAgICAqL1xyXG4gICAgZ2V0RWxlbWVudExpc3QoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YU1vZGVsLmdldEVsZW1lbnRMaXN0KCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPluW8leaTjmlkXHJcbiAgICAgKi9cclxuICAgIGdldElkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlkO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5blvJXmk47lkI3np7BcclxuICAgICAqL1xyXG4gICAgZ2V0TmFtZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5bpu5jorqTphY3nva7poblcclxuICAgICAqL1xyXG4gICAgZ2V0RGVmYXVsdE9wdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0T3B0aW9uO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDmmK/lkKbmraPlnKjov5vooYzop4blm77mm7TmlrBcclxuICAgICAqL1xyXG4gICAgaXNWaWV3VXBkYXRpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld01vZGVsLmlzVmlld1VwZGF0aW5nO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDliqjmgIHmt7vliqDkuIDkuKrov57mjqXkv6Hmga9cclxuICAgICAqIC0g6K+l5pa55rOV55So5LqO6K6p55So5oi35ZyocmVuZGVy5pa55rOV5Lit5Yqo5oCB55Sf5oiQ5LiA5Liq6Z2e6aKE5YWI5Zyoc291cmNl5Lit5aOw5piO55qE6L+e5o6lXHJcbiAgICAgKiBAcGFyYW0gZW1pdEVsZW1lbnRcclxuICAgICAqIEBwYXJhbSB0YXJnZXRFbGVtZW50XHJcbiAgICAgKiBAcGFyYW0gbGlua05hbWVcclxuICAgICAqIEBwYXJhbSBhbmNob3JQYWlyXHJcbiAgICAgKi9cclxuICAgIGxpbmsoZW1pdEVsZW1lbnQsIHRhcmdldEVsZW1lbnQsIGxpbmtOYW1lLCBhbmNob3JQYWlyID0gbnVsbCkge1xyXG4gICAgICAgIHRoaXMuZGF0YU1vZGVsLmFkZExpbmsoZW1pdEVsZW1lbnQsIHRhcmdldEVsZW1lbnQsIGxpbmtOYW1lLCBhbmNob3JQYWlyKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5Yqo5oCB5re75Yqg5LiA5Liq5aSW6YOo5oyH6ZKIXHJcbiAgICAgKiAtIOivpeaWueazleeUqOS6juiuqeeUqOaIt+WcqHJlbmRlcuaWueazleS4reWKqOaAgeeUn+aIkOS4gOS4qumdnumihOWFiOWcqHNvdXJjZeS4reWjsOaYjueahOWklumDqOaMh+mSiFxyXG4gICAgICogQHBhcmFtIHRhcmdldEVsZW1lbnRcclxuICAgICAqIEBwYXJhbSByZWZlck5hbWVcclxuICAgICAqIEBwYXJhbSByZWZlclZhbHVlXHJcbiAgICAgKi9cclxuICAgIHJlZmVyKHRhcmdldEVsZW1lbnQsIHJlZmVyTmFtZSwgcmVmZXJWYWx1ZSkge1xyXG4gICAgICAgIHRoaXMuZGF0YU1vZGVsLmFkZFBvaW50ZXIodGFyZ2V0RWxlbWVudCwgcmVmZXJOYW1lLCByZWZlclZhbHVlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5Yib5bu65LiA5Liq6Z2Z5oCB5paH5pysXHJcbiAgICAgKiBAcGFyYW0gY29udGVudFxyXG4gICAgICogQHBhcmFtIHN0eWxlXHJcbiAgICAgKi9cclxuICAgIHRleHQoY29udGVudCwgc3R5bGUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52aWV3TW9kZWwuY3JlYXRlU2hhcGUoJ3N0YXRpY1RleHQjJyArIHRoaXMudmlld01vZGVsLnN0YXRpY1RleHRJZCsrLCAndGV4dCcsIHtcclxuICAgICAgICAgICAgY29udGVudCxcclxuICAgICAgICAgICAgc3R5bGUsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOWIm+W7uuS4gOS4quWFg+e0oOe7hFxyXG4gICAgICovXHJcbiAgICBncm91cCguLi5hcmcpIHtcclxuICAgICAgICByZXR1cm4gbmV3IGdyb3VwXzEuR3JvdXAoLi4uYXJnKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog6Ieq5Yqo6YCC5bqU6KeG5Zu+XHJcbiAgICAgKi9cclxuICAgIHJlc2l6ZShvcHRpb24pIHtcclxuICAgICAgICBpZiAob3B0aW9uID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgb3B0aW9uID0geyB3aWR0aDogJ2F1dG8nLCBoZWlnaHQ6ICdhdXRvJyB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgb3B0aW9uLndpZHRoID0gb3B0aW9uLndpZHRoIHx8ICdhdXRvJztcclxuICAgICAgICAgICAgb3B0aW9uLmhlaWdodCA9IG9wdGlvbi5oZWlnaHQgfHwgJ2F1dG8nO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnZpZXdNb2RlbC5yZW5kZXJlci5yZXNpemVHbG9iYWxTaGFwZShvcHRpb24sIHRoaXMudmlld09wdGlvbi5wb3NpdGlvbiwgdGhpcy52aWV3T3B0aW9uLnNjYWxlKTtcclxuICAgIH1cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLemcgOe7p+aJv+mHjeWGmeeahOaWueazlS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xyXG4gICAgLyoqXHJcbiAgICAgKiDmuLLmn5PmlbDmja7nu5PmnoTmlrnms5VcclxuICAgICAqL1xyXG4gICAgcmVuZGVyKGVsZW1lbnRzLCBjb250YWluZXJXaWR0aCwgY29udGFpbmVySGVpZ2h0KSB7IH1cclxuICAgIC8qKlxyXG4gICAgICog6KeG5Zu+5pu05paw5YmNXHJcbiAgICAgKi9cclxuICAgIGJlZm9yZVVwZGF0ZSgpIHsgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDop4blm77mm7TmlrDlkI5cclxuICAgICAqIEBwYXJhbSBwYXRjaExpc3RcclxuICAgICAqL1xyXG4gICAgYWZ0ZXJVcGRhdGUoKSB7IH1cclxufVxyXG4vLyBTaGFwZeaehOmAoOWHveaVsOWuueWZqO+8jOeUqOS9nOWtmOaUvuaJqeWxleeahFNoYXBl77yI5Z+65pys5LiK5Li6Q29tcG9zaXRl77yJXHJcbi8vIOS9v+eUqHJlZ2lzdGVyU2hhcGXlh73mlbDms6jlhoznmoTlm77lvaLlsIbooqvlrZjmlL7lnKjmraTlpITvvIzku7vkvZXlrZBFbmdpbmXpg73lj6/orr/pl67liLDov5nkupvlm77lvaLvvIjlhajlsYDvvIlcclxuRW5naW5lLlNoYXBlc1RhYmxlID0ge307XHJcbmV4cG9ydHMuRW5naW5lID0gRW5naW5lO1xyXG4vKipcclxuICog5rOo5YaM5LiA5Liq5oiW5aSa5Liq5Zu+5b2iXHJcbiAqL1xyXG5mdW5jdGlvbiBSZWdpc3RlclNoYXBlKHRhcmdldCwgc2hhcGVOYW1lKSB7XHJcbiAgICBFbmdpbmUuU2hhcGVzVGFibGVbc2hhcGVOYW1lXSA9IHRhcmdldDtcclxuICAgIHRhcmdldC5wcm90b3R5cGUubmFtZSA9IHNoYXBlTmFtZTtcclxufVxyXG5leHBvcnRzLlJlZ2lzdGVyU2hhcGUgPSBSZWdpc3RlclNoYXBlO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst shape_1 = __webpack_require__(2);\r\nconst renderer_1 = __webpack_require__(1);\r\nclass Text extends shape_1.Shape {\r\n    constructor(id, name, opt) {\r\n        super(id, name, opt);\r\n    }\r\n    defaultOption(baseOption) {\r\n        return Object.assign({}, baseOption, { zIndex: 2 });\r\n    }\r\n    defaultStyle(baseStyle) {\r\n        return Object.assign({}, baseStyle, { \r\n            // 文字背景\r\n            textBackgroundColor: '#fff', \r\n            // 文字圆角\r\n            textBorderRadius: 0 });\r\n    }\r\n    /**\r\n     * 更新文本尺寸\r\n     * - 因为文本图形比较特殊，一开始便创建了zrender实例，所以需要在后期单独更新尺寸\r\n     * @param zrenderShape\r\n     */\r\n    updateTextSize(zrenderShape) {\r\n        let bound = zrenderShape.getBoundingRect();\r\n        this.width = bound.width;\r\n        this.height = bound.height;\r\n    }\r\n    /**\r\n     * 更新文本样式\r\n     * - 因为文本图形比较特殊，一开始便创建了zrender实例，所以需要在后期单独更新样式\r\n     * @param zrenderShape\r\n     */\r\n    updateText(zrenderShape) {\r\n        zrenderShape.attr('position', [this.x, this.y]);\r\n        zrenderShape.attr('origin', [this.width / 2, this.height / 2]);\r\n        zrenderShape.attr('rotation', this.rotation);\r\n        zrenderShape.attr('style', Object.assign({}, this.style, { textPadding: Math.sqrt(zrenderShape.style.fontSize) + 2 }));\r\n    }\r\n    createZrenderShape() {\r\n        let zrenderShape = new renderer_1.Renderer.zrender.Text({\r\n            style: this.style,\r\n            z: this.option.zIndex\r\n        });\r\n        this.updateTextSize(zrenderShape);\r\n        this.updateText(zrenderShape);\r\n        return zrenderShape;\r\n    }\r\n}\r\nexports.Text = Text;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9TaGFwZXMvdGV4dC5qcz82NmZhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQThDLGNBQWM7QUFDNUQsZ0JBQWdCLG1CQUFPLENBQUMsQ0FBUztBQUNqQyxtQkFBbUIsbUJBQU8sQ0FBQyxDQUFrQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGVBQWUsWUFBWTtBQUMxRDtBQUNBO0FBQ0EsK0JBQStCLGM7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsZUFBZSwwREFBMEQ7QUFDNUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IHNoYXBlXzEgPSByZXF1aXJlKFwiLi9zaGFwZVwiKTtcclxuY29uc3QgcmVuZGVyZXJfMSA9IHJlcXVpcmUoXCIuLi9WaWV3L3JlbmRlcmVyXCIpO1xyXG5jbGFzcyBUZXh0IGV4dGVuZHMgc2hhcGVfMS5TaGFwZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihpZCwgbmFtZSwgb3B0KSB7XHJcbiAgICAgICAgc3VwZXIoaWQsIG5hbWUsIG9wdCk7XHJcbiAgICB9XHJcbiAgICBkZWZhdWx0T3B0aW9uKGJhc2VPcHRpb24pIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgYmFzZU9wdGlvbiwgeyB6SW5kZXg6IDIgfSk7XHJcbiAgICB9XHJcbiAgICBkZWZhdWx0U3R5bGUoYmFzZVN0eWxlKSB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGJhc2VTdHlsZSwgeyBcclxuICAgICAgICAgICAgLy8g5paH5a2X6IOM5pmvXHJcbiAgICAgICAgICAgIHRleHRCYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJywgXHJcbiAgICAgICAgICAgIC8vIOaWh+Wtl+WchuinklxyXG4gICAgICAgICAgICB0ZXh0Qm9yZGVyUmFkaXVzOiAwIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDmm7TmlrDmlofmnKzlsLrlr7hcclxuICAgICAqIC0g5Zug5Li65paH5pys5Zu+5b2i5q+U6L6D54m55q6K77yM5LiA5byA5aeL5L6/5Yib5bu65LqGenJlbmRlcuWunuS+i++8jOaJgOS7pemcgOimgeWcqOWQjuacn+WNleeLrOabtOaWsOWwuuWvuFxyXG4gICAgICogQHBhcmFtIHpyZW5kZXJTaGFwZVxyXG4gICAgICovXHJcbiAgICB1cGRhdGVUZXh0U2l6ZSh6cmVuZGVyU2hhcGUpIHtcclxuICAgICAgICBsZXQgYm91bmQgPSB6cmVuZGVyU2hhcGUuZ2V0Qm91bmRpbmdSZWN0KCk7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IGJvdW5kLndpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gYm91bmQuaGVpZ2h0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDmm7TmlrDmlofmnKzmoLflvI9cclxuICAgICAqIC0g5Zug5Li65paH5pys5Zu+5b2i5q+U6L6D54m55q6K77yM5LiA5byA5aeL5L6/5Yib5bu65LqGenJlbmRlcuWunuS+i++8jOaJgOS7pemcgOimgeWcqOWQjuacn+WNleeLrOabtOaWsOagt+W8j1xyXG4gICAgICogQHBhcmFtIHpyZW5kZXJTaGFwZVxyXG4gICAgICovXHJcbiAgICB1cGRhdGVUZXh0KHpyZW5kZXJTaGFwZSkge1xyXG4gICAgICAgIHpyZW5kZXJTaGFwZS5hdHRyKCdwb3NpdGlvbicsIFt0aGlzLngsIHRoaXMueV0pO1xyXG4gICAgICAgIHpyZW5kZXJTaGFwZS5hdHRyKCdvcmlnaW4nLCBbdGhpcy53aWR0aCAvIDIsIHRoaXMuaGVpZ2h0IC8gMl0pO1xyXG4gICAgICAgIHpyZW5kZXJTaGFwZS5hdHRyKCdyb3RhdGlvbicsIHRoaXMucm90YXRpb24pO1xyXG4gICAgICAgIHpyZW5kZXJTaGFwZS5hdHRyKCdzdHlsZScsIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3R5bGUsIHsgdGV4dFBhZGRpbmc6IE1hdGguc3FydCh6cmVuZGVyU2hhcGUuc3R5bGUuZm9udFNpemUpICsgMiB9KSk7XHJcbiAgICB9XHJcbiAgICBjcmVhdGVacmVuZGVyU2hhcGUoKSB7XHJcbiAgICAgICAgbGV0IHpyZW5kZXJTaGFwZSA9IG5ldyByZW5kZXJlcl8xLlJlbmRlcmVyLnpyZW5kZXIuVGV4dCh7XHJcbiAgICAgICAgICAgIHN0eWxlOiB0aGlzLnN0eWxlLFxyXG4gICAgICAgICAgICB6OiB0aGlzLm9wdGlvbi56SW5kZXhcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVRleHRTaXplKHpyZW5kZXJTaGFwZSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHpyZW5kZXJTaGFwZSk7XHJcbiAgICAgICAgcmV0dXJuIHpyZW5kZXJTaGFwZTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLlRleHQgPSBUZXh0O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst shape_1 = __webpack_require__(2);\r\nconst renderer_1 = __webpack_require__(1);\r\nconst util_1 = __webpack_require__(0);\r\nconst boundingRect_1 = __webpack_require__(3);\r\nclass PolyLine extends shape_1.Shape {\r\n    constructor(id, name, opt) {\r\n        super(id, name, opt);\r\n        this.path = [];\r\n        this.prevPath = [];\r\n        // 添加路径动画项\r\n        this.animationsTable = Object.assign({}, this.animationsTable, { path: 'path' });\r\n    }\r\n    restoreData() {\r\n        super.restoreData();\r\n        this.path = [];\r\n    }\r\n    defaultStyle(baseStyle) {\r\n        return Object.assign({}, baseStyle, { \r\n            // 线段平缓程度\r\n            smooth: 0, \r\n            // 虚线样式\r\n            lineDash: null });\r\n    }\r\n    getBound() {\r\n        return boundingRect_1.Bound.fromPoints(this.path);\r\n    }\r\n    createZrenderShape() {\r\n        let zrenderShape = new renderer_1.Renderer.zrender.Polyline({\r\n            position: [this.x, this.y],\r\n            origin: util_1.Util.getPathCenter(this.path),\r\n            shape: {\r\n                points: this.path,\r\n                smooth: this.style.smooth\r\n            },\r\n            style: this.style\r\n        });\r\n        return zrenderShape;\r\n    }\r\n}\r\nexports.PolyLine = PolyLine;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9TaGFwZXMvcG9seUxpbmUuanM/NDM3NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE4QyxjQUFjO0FBQzVELGdCQUFnQixtQkFBTyxDQUFDLENBQVM7QUFDakMsbUJBQW1CLG1CQUFPLENBQUMsQ0FBa0I7QUFDN0MsZUFBZSxtQkFBTyxDQUFDLENBQWdCO0FBQ3ZDLHVCQUF1QixtQkFBTyxDQUFDLENBQXNCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyx5QkFBeUIsZUFBZTtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsYztBQUMvQjtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIxMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IHNoYXBlXzEgPSByZXF1aXJlKFwiLi9zaGFwZVwiKTtcclxuY29uc3QgcmVuZGVyZXJfMSA9IHJlcXVpcmUoXCIuLi9WaWV3L3JlbmRlcmVyXCIpO1xyXG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi4vQ29tbW9uL3V0aWxcIik7XHJcbmNvbnN0IGJvdW5kaW5nUmVjdF8xID0gcmVxdWlyZShcIi4uL1ZpZXcvYm91bmRpbmdSZWN0XCIpO1xyXG5jbGFzcyBQb2x5TGluZSBleHRlbmRzIHNoYXBlXzEuU2hhcGUge1xyXG4gICAgY29uc3RydWN0b3IoaWQsIG5hbWUsIG9wdCkge1xyXG4gICAgICAgIHN1cGVyKGlkLCBuYW1lLCBvcHQpO1xyXG4gICAgICAgIHRoaXMucGF0aCA9IFtdO1xyXG4gICAgICAgIHRoaXMucHJldlBhdGggPSBbXTtcclxuICAgICAgICAvLyDmt7vliqDot6/lvoTliqjnlLvpoblcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnNUYWJsZSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuYW5pbWF0aW9uc1RhYmxlLCB7IHBhdGg6ICdwYXRoJyB9KTtcclxuICAgIH1cclxuICAgIHJlc3RvcmVEYXRhKCkge1xyXG4gICAgICAgIHN1cGVyLnJlc3RvcmVEYXRhKCk7XHJcbiAgICAgICAgdGhpcy5wYXRoID0gW107XHJcbiAgICB9XHJcbiAgICBkZWZhdWx0U3R5bGUoYmFzZVN0eWxlKSB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGJhc2VTdHlsZSwgeyBcclxuICAgICAgICAgICAgLy8g57q/5q615bmz57yT56iL5bqmXHJcbiAgICAgICAgICAgIHNtb290aDogMCwgXHJcbiAgICAgICAgICAgIC8vIOiZmue6v+agt+W8j1xyXG4gICAgICAgICAgICBsaW5lRGFzaDogbnVsbCB9KTtcclxuICAgIH1cclxuICAgIGdldEJvdW5kKCkge1xyXG4gICAgICAgIHJldHVybiBib3VuZGluZ1JlY3RfMS5Cb3VuZC5mcm9tUG9pbnRzKHRoaXMucGF0aCk7XHJcbiAgICB9XHJcbiAgICBjcmVhdGVacmVuZGVyU2hhcGUoKSB7XHJcbiAgICAgICAgbGV0IHpyZW5kZXJTaGFwZSA9IG5ldyByZW5kZXJlcl8xLlJlbmRlcmVyLnpyZW5kZXIuUG9seWxpbmUoe1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogW3RoaXMueCwgdGhpcy55XSxcclxuICAgICAgICAgICAgb3JpZ2luOiB1dGlsXzEuVXRpbC5nZXRQYXRoQ2VudGVyKHRoaXMucGF0aCksXHJcbiAgICAgICAgICAgIHNoYXBlOiB7XHJcbiAgICAgICAgICAgICAgICBwb2ludHM6IHRoaXMucGF0aCxcclxuICAgICAgICAgICAgICAgIHNtb290aDogdGhpcy5zdHlsZS5zbW9vdGhcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3R5bGU6IHRoaXMuc3R5bGVcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4genJlbmRlclNoYXBlO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuUG9seUxpbmUgPSBQb2x5TGluZTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///10\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst shape_1 = __webpack_require__(2);\r\nconst renderer_1 = __webpack_require__(1);\r\nclass Rect extends shape_1.Shape {\r\n    constructor(id, name, opt) {\r\n        super(id, name, opt);\r\n    }\r\n    updateSize(animation) {\r\n        this.updateZrenderShape('position', animation);\r\n    }\r\n    createZrenderShape() {\r\n        let zrenderShape = new renderer_1.Renderer.zrender.Rect({\r\n            position: [this.x, this.y],\r\n            rotation: this.rotation,\r\n            shape: {\r\n                x: -this.width / 2,\r\n                y: -this.height / 2,\r\n                width: this.width,\r\n                height: this.height\r\n            },\r\n            style: this.style\r\n        });\r\n        return zrenderShape;\r\n    }\r\n}\r\nexports.Rect = Rect;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9TaGFwZXMvcmVjdC5qcz84ODZiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQThDLGNBQWM7QUFDNUQsZ0JBQWdCLG1CQUFPLENBQUMsQ0FBUztBQUNqQyxtQkFBbUIsbUJBQU8sQ0FBQyxDQUFrQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIxMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IHNoYXBlXzEgPSByZXF1aXJlKFwiLi9zaGFwZVwiKTtcclxuY29uc3QgcmVuZGVyZXJfMSA9IHJlcXVpcmUoXCIuLi9WaWV3L3JlbmRlcmVyXCIpO1xyXG5jbGFzcyBSZWN0IGV4dGVuZHMgc2hhcGVfMS5TaGFwZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihpZCwgbmFtZSwgb3B0KSB7XHJcbiAgICAgICAgc3VwZXIoaWQsIG5hbWUsIG9wdCk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGVTaXplKGFuaW1hdGlvbikge1xyXG4gICAgICAgIHRoaXMudXBkYXRlWnJlbmRlclNoYXBlKCdwb3NpdGlvbicsIGFuaW1hdGlvbik7XHJcbiAgICB9XHJcbiAgICBjcmVhdGVacmVuZGVyU2hhcGUoKSB7XHJcbiAgICAgICAgbGV0IHpyZW5kZXJTaGFwZSA9IG5ldyByZW5kZXJlcl8xLlJlbmRlcmVyLnpyZW5kZXIuUmVjdCh7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBbdGhpcy54LCB0aGlzLnldLFxyXG4gICAgICAgICAgICByb3RhdGlvbjogdGhpcy5yb3RhdGlvbixcclxuICAgICAgICAgICAgc2hhcGU6IHtcclxuICAgICAgICAgICAgICAgIHg6IC10aGlzLndpZHRoIC8gMixcclxuICAgICAgICAgICAgICAgIHk6IC10aGlzLmhlaWdodCAvIDIsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy53aWR0aCxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHRcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3R5bGU6IHRoaXMuc3R5bGVcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4genJlbmRlclNoYXBlO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuUmVjdCA9IFJlY3Q7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///11\n")},function(module,exports,__webpack_require__){"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nconst shape_1 = __webpack_require__(2);\r\nconst renderer_1 = __webpack_require__(1);\r\nclass Isogon extends shape_1.Shape {\r\n    constructor(id, name, opt) {\r\n        super(id, name, opt);\r\n    }\r\n    defaultOption(baseOption) {\r\n        return Object.assign({}, baseOption, { \r\n            // 边数\r\n            edges: 5 });\r\n    }\r\n    createZrenderShape() {\r\n        let zrenderShape = new renderer_1.Renderer.zrender.Isogon({\r\n            position: [this.x, this.y],\r\n            rotation: this.rotation,\r\n            shape: {\r\n                x: 0,\r\n                y: 0,\r\n                n: this.option.edges,\r\n                r: this.width / 2\r\n            },\r\n            style: this.style\r\n        });\r\n        return zrenderShape;\r\n    }\r\n}\r\nexports.Isogon = Isogon;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9TaGFwZXMvaXNvZ29uLmpzPzk0NTkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RCxnQkFBZ0IsbUJBQU8sQ0FBQyxDQUFTO0FBQ2pDLG1CQUFtQixtQkFBTyxDQUFDLENBQWtCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsZTtBQUMvQjtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIxMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IHNoYXBlXzEgPSByZXF1aXJlKFwiLi9zaGFwZVwiKTtcclxuY29uc3QgcmVuZGVyZXJfMSA9IHJlcXVpcmUoXCIuLi9WaWV3L3JlbmRlcmVyXCIpO1xyXG5jbGFzcyBJc29nb24gZXh0ZW5kcyBzaGFwZV8xLlNoYXBlIHtcclxuICAgIGNvbnN0cnVjdG9yKGlkLCBuYW1lLCBvcHQpIHtcclxuICAgICAgICBzdXBlcihpZCwgbmFtZSwgb3B0KTtcclxuICAgIH1cclxuICAgIGRlZmF1bHRPcHRpb24oYmFzZU9wdGlvbikge1xyXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBiYXNlT3B0aW9uLCB7IFxyXG4gICAgICAgICAgICAvLyDovrnmlbBcclxuICAgICAgICAgICAgZWRnZXM6IDUgfSk7XHJcbiAgICB9XHJcbiAgICBjcmVhdGVacmVuZGVyU2hhcGUoKSB7XHJcbiAgICAgICAgbGV0IHpyZW5kZXJTaGFwZSA9IG5ldyByZW5kZXJlcl8xLlJlbmRlcmVyLnpyZW5kZXIuSXNvZ29uKHtcclxuICAgICAgICAgICAgcG9zaXRpb246IFt0aGlzLngsIHRoaXMueV0sXHJcbiAgICAgICAgICAgIHJvdGF0aW9uOiB0aGlzLnJvdGF0aW9uLFxyXG4gICAgICAgICAgICBzaGFwZToge1xyXG4gICAgICAgICAgICAgICAgeDogMCxcclxuICAgICAgICAgICAgICAgIHk6IDAsXHJcbiAgICAgICAgICAgICAgICBuOiB0aGlzLm9wdGlvbi5lZGdlcyxcclxuICAgICAgICAgICAgICAgIHI6IHRoaXMud2lkdGggLyAyXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN0eWxlOiB0aGlzLnN0eWxlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHpyZW5kZXJTaGFwZTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLklzb2dvbiA9IElzb2dvbjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///12\n')},function(module,exports,__webpack_require__){"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nconst shape_1 = __webpack_require__(2);\r\nconst renderer_1 = __webpack_require__(1);\r\nclass Circle extends shape_1.Shape {\r\n    constructor(id, name, opt) {\r\n        super(id, name, opt);\r\n    }\r\n    createZrenderShape() {\r\n        let zrenderShape = new renderer_1.Renderer.zrender.Circle({\r\n            position: [this.x, this.y],\r\n            rotation: this.rotation,\r\n            shape: {\r\n                cx: 0,\r\n                cy: 0,\r\n                r: this.width / 2\r\n            },\r\n            style: this.style\r\n        });\r\n        return zrenderShape;\r\n    }\r\n}\r\nexports.Circle = Circle;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9TaGFwZXMvY2lyY2xlLmpzPzQyYWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RCxnQkFBZ0IsbUJBQU8sQ0FBQyxDQUFTO0FBQ2pDLG1CQUFtQixtQkFBTyxDQUFDLENBQWtCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIxMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IHNoYXBlXzEgPSByZXF1aXJlKFwiLi9zaGFwZVwiKTtcclxuY29uc3QgcmVuZGVyZXJfMSA9IHJlcXVpcmUoXCIuLi9WaWV3L3JlbmRlcmVyXCIpO1xyXG5jbGFzcyBDaXJjbGUgZXh0ZW5kcyBzaGFwZV8xLlNoYXBlIHtcclxuICAgIGNvbnN0cnVjdG9yKGlkLCBuYW1lLCBvcHQpIHtcclxuICAgICAgICBzdXBlcihpZCwgbmFtZSwgb3B0KTtcclxuICAgIH1cclxuICAgIGNyZWF0ZVpyZW5kZXJTaGFwZSgpIHtcclxuICAgICAgICBsZXQgenJlbmRlclNoYXBlID0gbmV3IHJlbmRlcmVyXzEuUmVuZGVyZXIuenJlbmRlci5DaXJjbGUoe1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogW3RoaXMueCwgdGhpcy55XSxcclxuICAgICAgICAgICAgcm90YXRpb246IHRoaXMucm90YXRpb24sXHJcbiAgICAgICAgICAgIHNoYXBlOiB7XHJcbiAgICAgICAgICAgICAgICBjeDogMCxcclxuICAgICAgICAgICAgICAgIGN5OiAwLFxyXG4gICAgICAgICAgICAgICAgcjogdGhpcy53aWR0aCAvIDJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3R5bGU6IHRoaXMuc3R5bGVcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4genJlbmRlclNoYXBlO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuQ2lyY2xlID0gQ2lyY2xlO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///13\n')},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst polyLine_1 = __webpack_require__(10);\r\nconst renderer_1 = __webpack_require__(1);\r\nconst util_1 = __webpack_require__(0);\r\nclass Curve extends polyLine_1.PolyLine {\r\n    constructor(id, name, opt) {\r\n        super(id, name, opt);\r\n        // 控制点\r\n        this.controlPoint = null;\r\n        // 添加路径动画项\r\n        this.animationsTable = Object.assign({}, this.animationsTable, { path: 'curve' });\r\n    }\r\n    defaultOption(baseOption) {\r\n        return Object.assign({}, baseOption, { \r\n            // 曲率\r\n            curveness: 0.2 });\r\n    }\r\n    /**\r\n     * 由曲率计算控制点\r\n     * @param start\r\n     * @param end\r\n     */\r\n    calcControlPoint(start, end) {\r\n        // 若已经计算好，直接返回计算好的控制点\r\n        if (this.controlPoint)\r\n            return this.controlPoint;\r\n        return [\r\n            (start.x + end.x) / 2 - (start.y - end.y) * this.option.curveness,\r\n            (start.y + end.y) / 2 - (end.x - start.x) * this.option.curveness\r\n        ];\r\n    }\r\n    restoreData() {\r\n        super.restoreData();\r\n        this.controlPoint = null;\r\n    }\r\n    createZrenderShape() {\r\n        let x1 = this.path[0][0], y1 = this.path[0][1], x2 = this.path[1][0], y2 = this.path[1][1];\r\n        let zrenderShape = new renderer_1.Renderer.zrender.BezierCurve({\r\n            origin: util_1.Util.getPathCenter(this.path),\r\n            shape: {\r\n                x1, y1, x2, y2,\r\n                cpx1: this.controlPoint[0],\r\n                cpy1: this.controlPoint[1]\r\n            },\r\n            style: this.style\r\n        });\r\n        return zrenderShape;\r\n    }\r\n}\r\nexports.Curve = Curve;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9TaGFwZXMvY3VydmUuanM/MzJiYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE4QyxjQUFjO0FBQzVELG1CQUFtQixtQkFBTyxDQUFDLEVBQVk7QUFDdkMsbUJBQW1CLG1CQUFPLENBQUMsQ0FBa0I7QUFDN0MsZUFBZSxtQkFBTyxDQUFDLENBQWdCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyx5QkFBeUIsZ0JBQWdCO0FBQ3hGO0FBQ0E7QUFDQSwrQkFBK0IsZTtBQUMvQjtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBwb2x5TGluZV8xID0gcmVxdWlyZShcIi4vcG9seUxpbmVcIik7XHJcbmNvbnN0IHJlbmRlcmVyXzEgPSByZXF1aXJlKFwiLi4vVmlldy9yZW5kZXJlclwiKTtcclxuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcIi4uL0NvbW1vbi91dGlsXCIpO1xyXG5jbGFzcyBDdXJ2ZSBleHRlbmRzIHBvbHlMaW5lXzEuUG9seUxpbmUge1xyXG4gICAgY29uc3RydWN0b3IoaWQsIG5hbWUsIG9wdCkge1xyXG4gICAgICAgIHN1cGVyKGlkLCBuYW1lLCBvcHQpO1xyXG4gICAgICAgIC8vIOaOp+WItueCuVxyXG4gICAgICAgIHRoaXMuY29udHJvbFBvaW50ID0gbnVsbDtcclxuICAgICAgICAvLyDmt7vliqDot6/lvoTliqjnlLvpoblcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnNUYWJsZSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuYW5pbWF0aW9uc1RhYmxlLCB7IHBhdGg6ICdjdXJ2ZScgfSk7XHJcbiAgICB9XHJcbiAgICBkZWZhdWx0T3B0aW9uKGJhc2VPcHRpb24pIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgYmFzZU9wdGlvbiwgeyBcclxuICAgICAgICAgICAgLy8g5puy546HXHJcbiAgICAgICAgICAgIGN1cnZlbmVzczogMC4yIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDnlLHmm7LnjoforqHnrpfmjqfliLbngrlcclxuICAgICAqIEBwYXJhbSBzdGFydFxyXG4gICAgICogQHBhcmFtIGVuZFxyXG4gICAgICovXHJcbiAgICBjYWxjQ29udHJvbFBvaW50KHN0YXJ0LCBlbmQpIHtcclxuICAgICAgICAvLyDoi6Xlt7Lnu4/orqHnrpflpb3vvIznm7TmjqXov5Tlm57orqHnrpflpb3nmoTmjqfliLbngrlcclxuICAgICAgICBpZiAodGhpcy5jb250cm9sUG9pbnQpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRyb2xQb2ludDtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAoc3RhcnQueCArIGVuZC54KSAvIDIgLSAoc3RhcnQueSAtIGVuZC55KSAqIHRoaXMub3B0aW9uLmN1cnZlbmVzcyxcclxuICAgICAgICAgICAgKHN0YXJ0LnkgKyBlbmQueSkgLyAyIC0gKGVuZC54IC0gc3RhcnQueCkgKiB0aGlzLm9wdGlvbi5jdXJ2ZW5lc3NcclxuICAgICAgICBdO1xyXG4gICAgfVxyXG4gICAgcmVzdG9yZURhdGEoKSB7XHJcbiAgICAgICAgc3VwZXIucmVzdG9yZURhdGEoKTtcclxuICAgICAgICB0aGlzLmNvbnRyb2xQb2ludCA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBjcmVhdGVacmVuZGVyU2hhcGUoKSB7XHJcbiAgICAgICAgbGV0IHgxID0gdGhpcy5wYXRoWzBdWzBdLCB5MSA9IHRoaXMucGF0aFswXVsxXSwgeDIgPSB0aGlzLnBhdGhbMV1bMF0sIHkyID0gdGhpcy5wYXRoWzFdWzFdO1xyXG4gICAgICAgIGxldCB6cmVuZGVyU2hhcGUgPSBuZXcgcmVuZGVyZXJfMS5SZW5kZXJlci56cmVuZGVyLkJlemllckN1cnZlKHtcclxuICAgICAgICAgICAgb3JpZ2luOiB1dGlsXzEuVXRpbC5nZXRQYXRoQ2VudGVyKHRoaXMucGF0aCksXHJcbiAgICAgICAgICAgIHNoYXBlOiB7XHJcbiAgICAgICAgICAgICAgICB4MSwgeTEsIHgyLCB5MixcclxuICAgICAgICAgICAgICAgIGNweDE6IHRoaXMuY29udHJvbFBvaW50WzBdLFxyXG4gICAgICAgICAgICAgICAgY3B5MTogdGhpcy5jb250cm9sUG9pbnRbMV1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3R5bGU6IHRoaXMuc3R5bGVcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4genJlbmRlclNoYXBlO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuQ3VydmUgPSBDdXJ2ZTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///14\n")},function(module,exports,__webpack_require__){"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nconst element_1 = __webpack_require__(6);\r\nclass Node extends element_1.Element {\r\n    constructor() {\r\n        super(...arguments);\r\n        // 主双亲\r\n        this.prev = null;\r\n        // 次双亲列表\r\n        this.secondaryParents = null;\r\n        // 入度\r\n        this.inDegree = 0;\r\n        // 出度\r\n        this.outDegree = 0;\r\n    }\r\n    onLinkTo(targetNode, link) {\r\n        this.style.fieldEmpty = false;\r\n        // 若子节点已经有主双亲，则该节点成为子节点得次双亲\r\n        if (targetNode.prev && targetNode.prev.id !== this.id) {\r\n            targetNode.secondaryParents = this;\r\n            link.style.fill = this.layoutOption.secondaryLinkColor;\r\n        }\r\n        // 否则成为主双亲\r\n        else {\r\n            targetNode.prev = this;\r\n        }\r\n        this.outDegree++;\r\n        targetNode.inDegree++;\r\n    }\r\n    ;\r\n}\r\nexports.Node = Node;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvTGlua0xpc3QvZWxlbWVudC50cz8zZWNiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQThDLGNBQWM7QUFDNUQsa0JBQWtCLG1CQUFPLENBQUMsQ0FBMEI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIxNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGVsZW1lbnRfMSA9IHJlcXVpcmUoXCIuLi9TdHJ1Y3RWL01vZGVsL2VsZW1lbnRcIik7XHJcbmNsYXNzIE5vZGUgZXh0ZW5kcyBlbGVtZW50XzEuRWxlbWVudCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIC8vIOS4u+WPjOS6slxyXG4gICAgICAgIHRoaXMucHJldiA9IG51bGw7XHJcbiAgICAgICAgLy8g5qyh5Y+M5Lqy5YiX6KGoXHJcbiAgICAgICAgdGhpcy5zZWNvbmRhcnlQYXJlbnRzID0gbnVsbDtcclxuICAgICAgICAvLyDlhaXluqZcclxuICAgICAgICB0aGlzLmluRGVncmVlID0gMDtcclxuICAgICAgICAvLyDlh7rluqZcclxuICAgICAgICB0aGlzLm91dERlZ3JlZSA9IDA7XHJcbiAgICB9XHJcbiAgICBvbkxpbmtUbyh0YXJnZXROb2RlLCBsaW5rKSB7XHJcbiAgICAgICAgdGhpcy5zdHlsZS5maWVsZEVtcHR5ID0gZmFsc2U7XHJcbiAgICAgICAgLy8g6Iul5a2Q6IqC54K55bey57uP5pyJ5Li75Y+M5Lqy77yM5YiZ6K+l6IqC54K55oiQ5Li65a2Q6IqC54K55b6X5qyh5Y+M5LqyXHJcbiAgICAgICAgaWYgKHRhcmdldE5vZGUucHJldiAmJiB0YXJnZXROb2RlLnByZXYuaWQgIT09IHRoaXMuaWQpIHtcclxuICAgICAgICAgICAgdGFyZ2V0Tm9kZS5zZWNvbmRhcnlQYXJlbnRzID0gdGhpcztcclxuICAgICAgICAgICAgbGluay5zdHlsZS5maWxsID0gdGhpcy5sYXlvdXRPcHRpb24uc2Vjb25kYXJ5TGlua0NvbG9yO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDlkKbliJnmiJDkuLrkuLvlj4zkurJcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGFyZ2V0Tm9kZS5wcmV2ID0gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5vdXREZWdyZWUrKztcclxuICAgICAgICB0YXJnZXROb2RlLmluRGVncmVlKys7XHJcbiAgICB9XHJcbiAgICA7XHJcbn1cclxuZXhwb3J0cy5Ob2RlID0gTm9kZTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///15\n')},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst engine_1 = __webpack_require__(17);\r\nconst StructV_1 = __webpack_require__(37);\r\nconst engine_2 = __webpack_require__(42);\r\nconst engine_3 = __webpack_require__(50);\r\nconst engine_4 = __webpack_require__(52);\r\n// import { NForkTree } from \"./NForkTree/engine\";\r\nconst engine_5 = __webpack_require__(46);\r\n// import { BubbleSort } from \"./BubbleSort/engine\";\r\nconst engine_6 = __webpack_require__(55);\r\n// import { SelectSort } from \"./SelectSort/engine\";\r\nconst engine_7 = __webpack_require__(59);\r\n// import { OrthogonalList } from \"./OrthogonalList/engine\";\r\nconst engine_8 = __webpack_require__(44);\r\n// import { HashLinkList } from \"./HashLinkList/engine\";\r\n// import { Blocks } from \"./Blocks/engine\";\r\n// import { NeuralNetwork } from \"./NeuralNetwork/engine\";\r\nconst engine_9 = __webpack_require__(48);\r\n// import { Util } from \"./StructV/Common/util\";\r\nexports.V = {\r\n    SV: StructV_1.SV,\r\n    SVEngineTable: {},\r\n    // SVManagers: [],\r\n    engines: [],\r\n    /**\r\n     * 添加一个引擎\r\n     * @param sve\r\n     * @param name\r\n     * @param code\r\n     */\r\n    add(sve, name) {\r\n        exports.V.SVEngineTable[name] = sve;\r\n    },\r\n    // tmp\r\n    create(container, type, opt) {\r\n        let engine = StructV_1.SV.create(container, exports.V.SVEngineTable[type], opt);\r\n        exports.V.engines.push(engine);\r\n        return engine;\r\n    },\r\n};\r\nexports.V.add(engine_1.BinaryTree, 'BinaryTree');\r\nexports.V.add(engine_2.LinkList, 'LinkList');\r\nexports.V.add(engine_3.Array, 'Array');\r\nexports.V.add(engine_4.Stack, 'Stack');\r\n// V.add(NForkTree, 'NFTree');\r\nexports.V.add(engine_5.Graph, 'Graph');\r\nexports.V.add(engine_8.DirectedGraph, 'DirectedGraph');\r\n// V.add(BubbleSort, 'BubbleSort');\r\nexports.V.add(engine_6.TwoWayLinkList, 'TwoWayLinkList');\r\n// V.add(SelectSort, 'SelectSort');\r\nexports.V.add(engine_7.GeneralizedList, 'GeneralizedList');\r\n// V.add(OrthogonalList, 'OrthogonalList');\r\n// V.add(HashLinkList, 'HashLinkList');\r\n// V.add(Blocks, 'Blocks');\r\n// V.add(NeuralNetwork, 'NeuralNetwork');\r\nexports.V.add(engine_9.Star, 'Star');\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHM/NDMwZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE4QyxjQUFjO0FBQzVELGlCQUFpQixtQkFBTyxDQUFDLEVBQXFCO0FBQzlDLGtCQUFrQixtQkFBTyxDQUFDLEVBQW1CO0FBQzdDLGlCQUFpQixtQkFBTyxDQUFDLEVBQW1CO0FBQzVDLGlCQUFpQixtQkFBTyxDQUFDLEVBQWdCO0FBQ3pDLGlCQUFpQixtQkFBTyxDQUFDLEVBQWdCO0FBQ3pDLFdBQVcsWUFBWTtBQUN2QixpQkFBaUIsbUJBQU8sQ0FBQyxFQUFnQjtBQUN6QyxXQUFXLGFBQWE7QUFDeEIsaUJBQWlCLG1CQUFPLENBQUMsRUFBeUI7QUFDbEQsV0FBVyxhQUFhO0FBQ3hCLGlCQUFpQixtQkFBTyxDQUFDLEVBQTBCO0FBQ25ELFdBQVcsaUJBQWlCO0FBQzVCLGlCQUFpQixtQkFBTyxDQUFDLEVBQXdCO0FBQ2pELFdBQVcsZUFBZTtBQUMxQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxnQkFBZ0I7QUFDM0IsaUJBQWlCLG1CQUFPLENBQUMsRUFBZTtBQUN4QyxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBlbmdpbmVfMSA9IHJlcXVpcmUoXCIuL0JpbmFyeVRyZWUvZW5naW5lXCIpO1xyXG5jb25zdCBTdHJ1Y3RWXzEgPSByZXF1aXJlKFwiLi9TdHJ1Y3RWL1N0cnVjdFZcIik7XHJcbmNvbnN0IGVuZ2luZV8yID0gcmVxdWlyZShcIi4vTGlua0xpc3QvZW5naW5lXCIpO1xyXG5jb25zdCBlbmdpbmVfMyA9IHJlcXVpcmUoXCIuL0FycmF5L2VuZ2luZVwiKTtcclxuY29uc3QgZW5naW5lXzQgPSByZXF1aXJlKFwiLi9TdGFjay9lbmdpbmVcIik7XHJcbi8vIGltcG9ydCB7IE5Gb3JrVHJlZSB9IGZyb20gXCIuL05Gb3JrVHJlZS9lbmdpbmVcIjtcclxuY29uc3QgZW5naW5lXzUgPSByZXF1aXJlKFwiLi9HcmFwaC9lbmdpbmVcIik7XHJcbi8vIGltcG9ydCB7IEJ1YmJsZVNvcnQgfSBmcm9tIFwiLi9CdWJibGVTb3J0L2VuZ2luZVwiO1xyXG5jb25zdCBlbmdpbmVfNiA9IHJlcXVpcmUoXCIuL1R3b1dheUxpbmtMaXN0L2VuZ2luZVwiKTtcclxuLy8gaW1wb3J0IHsgU2VsZWN0U29ydCB9IGZyb20gXCIuL1NlbGVjdFNvcnQvZW5naW5lXCI7XHJcbmNvbnN0IGVuZ2luZV83ID0gcmVxdWlyZShcIi4vR2VuZXJhbGl6ZWRMaXN0L2VuZ2luZVwiKTtcclxuLy8gaW1wb3J0IHsgT3J0aG9nb25hbExpc3QgfSBmcm9tIFwiLi9PcnRob2dvbmFsTGlzdC9lbmdpbmVcIjtcclxuY29uc3QgZW5naW5lXzggPSByZXF1aXJlKFwiLi9EaXJlY3RlZEdyYXBoL2VuZ2luZVwiKTtcclxuLy8gaW1wb3J0IHsgSGFzaExpbmtMaXN0IH0gZnJvbSBcIi4vSGFzaExpbmtMaXN0L2VuZ2luZVwiO1xyXG4vLyBpbXBvcnQgeyBCbG9ja3MgfSBmcm9tIFwiLi9CbG9ja3MvZW5naW5lXCI7XHJcbi8vIGltcG9ydCB7IE5ldXJhbE5ldHdvcmsgfSBmcm9tIFwiLi9OZXVyYWxOZXR3b3JrL2VuZ2luZVwiO1xyXG5jb25zdCBlbmdpbmVfOSA9IHJlcXVpcmUoXCIuL1N0YXIvZW5naW5lXCIpO1xyXG4vLyBpbXBvcnQgeyBVdGlsIH0gZnJvbSBcIi4vU3RydWN0Vi9Db21tb24vdXRpbFwiO1xyXG5leHBvcnRzLlYgPSB7XHJcbiAgICBTVjogU3RydWN0Vl8xLlNWLFxyXG4gICAgU1ZFbmdpbmVUYWJsZToge30sXHJcbiAgICAvLyBTVk1hbmFnZXJzOiBbXSxcclxuICAgIGVuZ2luZXM6IFtdLFxyXG4gICAgLyoqXHJcbiAgICAgKiDmt7vliqDkuIDkuKrlvJXmk45cclxuICAgICAqIEBwYXJhbSBzdmVcclxuICAgICAqIEBwYXJhbSBuYW1lXHJcbiAgICAgKiBAcGFyYW0gY29kZVxyXG4gICAgICovXHJcbiAgICBhZGQoc3ZlLCBuYW1lKSB7XHJcbiAgICAgICAgZXhwb3J0cy5WLlNWRW5naW5lVGFibGVbbmFtZV0gPSBzdmU7XHJcbiAgICB9LFxyXG4gICAgLy8gdG1wXHJcbiAgICBjcmVhdGUoY29udGFpbmVyLCB0eXBlLCBvcHQpIHtcclxuICAgICAgICBsZXQgZW5naW5lID0gU3RydWN0Vl8xLlNWLmNyZWF0ZShjb250YWluZXIsIGV4cG9ydHMuVi5TVkVuZ2luZVRhYmxlW3R5cGVdLCBvcHQpO1xyXG4gICAgICAgIGV4cG9ydHMuVi5lbmdpbmVzLnB1c2goZW5naW5lKTtcclxuICAgICAgICByZXR1cm4gZW5naW5lO1xyXG4gICAgfSxcclxufTtcclxuZXhwb3J0cy5WLmFkZChlbmdpbmVfMS5CaW5hcnlUcmVlLCAnQmluYXJ5VHJlZScpO1xyXG5leHBvcnRzLlYuYWRkKGVuZ2luZV8yLkxpbmtMaXN0LCAnTGlua0xpc3QnKTtcclxuZXhwb3J0cy5WLmFkZChlbmdpbmVfMy5BcnJheSwgJ0FycmF5Jyk7XHJcbmV4cG9ydHMuVi5hZGQoZW5naW5lXzQuU3RhY2ssICdTdGFjaycpO1xyXG4vLyBWLmFkZChORm9ya1RyZWUsICdORlRyZWUnKTtcclxuZXhwb3J0cy5WLmFkZChlbmdpbmVfNS5HcmFwaCwgJ0dyYXBoJyk7XHJcbmV4cG9ydHMuVi5hZGQoZW5naW5lXzguRGlyZWN0ZWRHcmFwaCwgJ0RpcmVjdGVkR3JhcGgnKTtcclxuLy8gVi5hZGQoQnViYmxlU29ydCwgJ0J1YmJsZVNvcnQnKTtcclxuZXhwb3J0cy5WLmFkZChlbmdpbmVfNi5Ud29XYXlMaW5rTGlzdCwgJ1R3b1dheUxpbmtMaXN0Jyk7XHJcbi8vIFYuYWRkKFNlbGVjdFNvcnQsICdTZWxlY3RTb3J0Jyk7XHJcbmV4cG9ydHMuVi5hZGQoZW5naW5lXzcuR2VuZXJhbGl6ZWRMaXN0LCAnR2VuZXJhbGl6ZWRMaXN0Jyk7XHJcbi8vIFYuYWRkKE9ydGhvZ29uYWxMaXN0LCAnT3J0aG9nb25hbExpc3QnKTtcclxuLy8gVi5hZGQoSGFzaExpbmtMaXN0LCAnSGFzaExpbmtMaXN0Jyk7XHJcbi8vIFYuYWRkKEJsb2NrcywgJ0Jsb2NrcycpO1xyXG4vLyBWLmFkZChOZXVyYWxOZXR3b3JrLCAnTmV1cmFsTmV0d29yaycpO1xyXG5leHBvcnRzLlYuYWRkKGVuZ2luZV85LlN0YXIsICdTdGFyJyk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///16\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst engine_1 = __webpack_require__(8);\r\nconst boundingRect_1 = __webpack_require__(3);\r\nconst option_1 = __webpack_require__(35);\r\n/**\r\n * 二叉树\r\n */\r\nclass BinaryTree extends engine_1.Engine {\r\n    constructor(container) {\r\n        super(container, {\r\n            name: 'BinaryTree',\r\n            defaultOption: option_1.BTOptions\r\n        });\r\n    }\r\n    /**\r\n     * 对子树进行递归布局\r\n     * @param node\r\n     * @param parent\r\n     * @param parentShape\r\n     * @param index\r\n     */\r\n    layoutItem(node, parent, index) {\r\n        let { layout } = this.viewOption;\r\n        // 次双亲不进行布局\r\n        if (!node || (node.secondaryParents && node.secondaryParents === parent)) {\r\n            return null;\r\n        }\r\n        let width = node.width, height = node.height, group = this.group(node);\r\n        if (parent) {\r\n            node.y = parent.y + layout.yInterval + height;\r\n            // 左节点\r\n            if (index === 0) {\r\n                node.x = parent.x - layout.xInterval / 2 - width / 2;\r\n            }\r\n            // 右结点\r\n            if (index === 1) {\r\n                node.x = parent.x + layout.xInterval / 2 + width / 2;\r\n            }\r\n        }\r\n        if (node.child && (node.child[0] || node.child[1])) {\r\n            let leftChild = node.child[0], rightChild = node.child[1], leftGroup = this.layoutItem(leftChild, node, 0), rightGroup = this.layoutItem(rightChild, node, 1), intersection = null, move = 0;\r\n            // 处理左右子树相交问题\r\n            if (leftGroup && rightGroup) {\r\n                intersection = boundingRect_1.Bound.intersect(leftGroup.getBound(), rightGroup.getBound());\r\n                move = 0;\r\n                if (intersection && intersection.width > 0) {\r\n                    move = (intersection.width + layout.xInterval) / 2;\r\n                    leftGroup.translate(-move, 0);\r\n                    rightGroup.translate(move, 0);\r\n                }\r\n            }\r\n            if (leftGroup) {\r\n                group.add(leftGroup);\r\n            }\r\n            if (rightGroup) {\r\n                group.add(rightGroup);\r\n            }\r\n        }\r\n        return group;\r\n    }\r\n    render(elements) {\r\n        let nodes = elements, rootNodes = [], node, root, lastRoot, treeGroup = this.group(), { layout } = this.viewOption, i;\r\n        for (i = 0; i < nodes.length; i++) {\r\n            node = nodes[i];\r\n            if (node.inDegree === 0 && node.root) {\r\n                rootNodes.push(node);\r\n            }\r\n        }\r\n        for (i = 0; i < rootNodes.length; i++) {\r\n            root = rootNodes[i];\r\n            root.subTreeGroup = this.layoutItem(root, null, i);\r\n            if (lastRoot) {\r\n                let curBound = root.subTreeGroup.getBound(), treeBound = treeGroup.getBound(), intersection = boundingRect_1.Bound.intersect(curBound, treeBound);\r\n                if (intersection) {\r\n                    let move = ((treeBound.x + treeBound.width) - curBound.x) + layout.xInterval + root.width;\r\n                    root.subTreeGroup.translate(move, 0);\r\n                }\r\n            }\r\n            lastRoot = root;\r\n            treeGroup.add(root);\r\n        }\r\n    }\r\n}\r\nexports.BinaryTree = BinaryTree;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQmluYXJ5VHJlZS9lbmdpbmUudHM/NTdiYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE4QyxjQUFjO0FBQzVELGlCQUFpQixtQkFBTyxDQUFDLENBQW1CO0FBQzVDLHVCQUF1QixtQkFBTyxDQUFDLENBQThCO0FBQzdELGlCQUFpQixtQkFBTyxDQUFDLEVBQVU7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtGQUErRixTQUFTO0FBQ3hHLG1CQUFtQixrQkFBa0I7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixzQkFBc0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjE3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgZW5naW5lXzEgPSByZXF1aXJlKFwiLi4vU3RydWN0Vi9lbmdpbmVcIik7XHJcbmNvbnN0IGJvdW5kaW5nUmVjdF8xID0gcmVxdWlyZShcIi4uL1N0cnVjdFYvVmlldy9ib3VuZGluZ1JlY3RcIik7XHJcbmNvbnN0IG9wdGlvbl8xID0gcmVxdWlyZShcIi4vb3B0aW9uXCIpO1xyXG4vKipcclxuICog5LqM5Y+J5qCRXHJcbiAqL1xyXG5jbGFzcyBCaW5hcnlUcmVlIGV4dGVuZHMgZW5naW5lXzEuRW5naW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcikge1xyXG4gICAgICAgIHN1cGVyKGNvbnRhaW5lciwge1xyXG4gICAgICAgICAgICBuYW1lOiAnQmluYXJ5VHJlZScsXHJcbiAgICAgICAgICAgIGRlZmF1bHRPcHRpb246IG9wdGlvbl8xLkJUT3B0aW9uc1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDlr7nlrZDmoJHov5vooYzpgJLlvZLluIPlsYBcclxuICAgICAqIEBwYXJhbSBub2RlXHJcbiAgICAgKiBAcGFyYW0gcGFyZW50XHJcbiAgICAgKiBAcGFyYW0gcGFyZW50U2hhcGVcclxuICAgICAqIEBwYXJhbSBpbmRleFxyXG4gICAgICovXHJcbiAgICBsYXlvdXRJdGVtKG5vZGUsIHBhcmVudCwgaW5kZXgpIHtcclxuICAgICAgICBsZXQgeyBsYXlvdXQgfSA9IHRoaXMudmlld09wdGlvbjtcclxuICAgICAgICAvLyDmrKHlj4zkurLkuI3ov5vooYzluIPlsYBcclxuICAgICAgICBpZiAoIW5vZGUgfHwgKG5vZGUuc2Vjb25kYXJ5UGFyZW50cyAmJiBub2RlLnNlY29uZGFyeVBhcmVudHMgPT09IHBhcmVudCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB3aWR0aCA9IG5vZGUud2lkdGgsIGhlaWdodCA9IG5vZGUuaGVpZ2h0LCBncm91cCA9IHRoaXMuZ3JvdXAobm9kZSk7XHJcbiAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICBub2RlLnkgPSBwYXJlbnQueSArIGxheW91dC55SW50ZXJ2YWwgKyBoZWlnaHQ7XHJcbiAgICAgICAgICAgIC8vIOW3puiKgueCuVxyXG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIG5vZGUueCA9IHBhcmVudC54IC0gbGF5b3V0LnhJbnRlcnZhbCAvIDIgLSB3aWR0aCAvIDI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8g5Y+z57uT54K5XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgbm9kZS54ID0gcGFyZW50LnggKyBsYXlvdXQueEludGVydmFsIC8gMiArIHdpZHRoIC8gMjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobm9kZS5jaGlsZCAmJiAobm9kZS5jaGlsZFswXSB8fCBub2RlLmNoaWxkWzFdKSkge1xyXG4gICAgICAgICAgICBsZXQgbGVmdENoaWxkID0gbm9kZS5jaGlsZFswXSwgcmlnaHRDaGlsZCA9IG5vZGUuY2hpbGRbMV0sIGxlZnRHcm91cCA9IHRoaXMubGF5b3V0SXRlbShsZWZ0Q2hpbGQsIG5vZGUsIDApLCByaWdodEdyb3VwID0gdGhpcy5sYXlvdXRJdGVtKHJpZ2h0Q2hpbGQsIG5vZGUsIDEpLCBpbnRlcnNlY3Rpb24gPSBudWxsLCBtb3ZlID0gMDtcclxuICAgICAgICAgICAgLy8g5aSE55CG5bem5Y+z5a2Q5qCR55u45Lqk6Zeu6aKYXHJcbiAgICAgICAgICAgIGlmIChsZWZ0R3JvdXAgJiYgcmlnaHRHcm91cCkge1xyXG4gICAgICAgICAgICAgICAgaW50ZXJzZWN0aW9uID0gYm91bmRpbmdSZWN0XzEuQm91bmQuaW50ZXJzZWN0KGxlZnRHcm91cC5nZXRCb3VuZCgpLCByaWdodEdyb3VwLmdldEJvdW5kKCkpO1xyXG4gICAgICAgICAgICAgICAgbW92ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJzZWN0aW9uICYmIGludGVyc2VjdGlvbi53aWR0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBtb3ZlID0gKGludGVyc2VjdGlvbi53aWR0aCArIGxheW91dC54SW50ZXJ2YWwpIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0R3JvdXAudHJhbnNsYXRlKC1tb3ZlLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICByaWdodEdyb3VwLnRyYW5zbGF0ZShtb3ZlLCAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobGVmdEdyb3VwKSB7XHJcbiAgICAgICAgICAgICAgICBncm91cC5hZGQobGVmdEdyb3VwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocmlnaHRHcm91cCkge1xyXG4gICAgICAgICAgICAgICAgZ3JvdXAuYWRkKHJpZ2h0R3JvdXApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBncm91cDtcclxuICAgIH1cclxuICAgIHJlbmRlcihlbGVtZW50cykge1xyXG4gICAgICAgIGxldCBub2RlcyA9IGVsZW1lbnRzLCByb290Tm9kZXMgPSBbXSwgbm9kZSwgcm9vdCwgbGFzdFJvb3QsIHRyZWVHcm91cCA9IHRoaXMuZ3JvdXAoKSwgeyBsYXlvdXQgfSA9IHRoaXMudmlld09wdGlvbiwgaTtcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbm9kZSA9IG5vZGVzW2ldO1xyXG4gICAgICAgICAgICBpZiAobm9kZS5pbkRlZ3JlZSA9PT0gMCAmJiBub2RlLnJvb3QpIHtcclxuICAgICAgICAgICAgICAgIHJvb3ROb2Rlcy5wdXNoKG5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCByb290Tm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcm9vdCA9IHJvb3ROb2Rlc1tpXTtcclxuICAgICAgICAgICAgcm9vdC5zdWJUcmVlR3JvdXAgPSB0aGlzLmxheW91dEl0ZW0ocm9vdCwgbnVsbCwgaSk7XHJcbiAgICAgICAgICAgIGlmIChsYXN0Um9vdCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1ckJvdW5kID0gcm9vdC5zdWJUcmVlR3JvdXAuZ2V0Qm91bmQoKSwgdHJlZUJvdW5kID0gdHJlZUdyb3VwLmdldEJvdW5kKCksIGludGVyc2VjdGlvbiA9IGJvdW5kaW5nUmVjdF8xLkJvdW5kLmludGVyc2VjdChjdXJCb3VuZCwgdHJlZUJvdW5kKTtcclxuICAgICAgICAgICAgICAgIGlmIChpbnRlcnNlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbW92ZSA9ICgodHJlZUJvdW5kLnggKyB0cmVlQm91bmQud2lkdGgpIC0gY3VyQm91bmQueCkgKyBsYXlvdXQueEludGVydmFsICsgcm9vdC53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICByb290LnN1YlRyZWVHcm91cC50cmFuc2xhdGUobW92ZSwgMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGFzdFJvb3QgPSByb290O1xyXG4gICAgICAgICAgICB0cmVlR3JvdXAuYWRkKHJvb3QpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLkJpbmFyeVRyZWUgPSBCaW5hcnlUcmVlO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///17\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst engine_1 = __webpack_require__(8);\r\nconst renderer_1 = __webpack_require__(1);\r\nconst reconciler_1 = __webpack_require__(22);\r\nconst shape_1 = __webpack_require__(2);\r\nconst util_1 = __webpack_require__(0);\r\nconst composite_1 = __webpack_require__(5);\r\nconst text_1 = __webpack_require__(9);\r\nclass ViewModel {\r\n    constructor(engine, container) {\r\n        this.engine = engine;\r\n        // 主视图容器\r\n        this.shapeContainer = {};\r\n        // 图形队列\r\n        this.shapeList = [];\r\n        // 移除图形队列。需要移除的图形将被放进这个列表\r\n        this.removeList = [];\r\n        // 静态文本id\r\n        this.staticTextId = 0;\r\n        // 是否正在执行视图更新\r\n        this.isViewUpdating = false;\r\n        // 是否首次渲染\r\n        this.isFirstRender = true;\r\n        this.reconciler = new reconciler_1.Reconciler(this);\r\n        this.viewOption = engine.viewOption;\r\n        this.renderer = new renderer_1.Renderer(container, this, engine.viewOption.animation);\r\n    }\r\n    ;\r\n    /**\r\n     * 图形工厂,创建Shape\r\n     * @param id\r\n     * @param shapeValue\r\n     * @param opt\r\n     */\r\n    createShape(id, shapeValue, opt) {\r\n        let shapeConstruct = null, shapeName = null;\r\n        if (typeof shapeValue === 'string') {\r\n            shapeConstruct = engine_1.Engine.ShapesTable[shapeValue];\r\n            shapeName = shapeValue;\r\n        }\r\n        else {\r\n            shapeConstruct = shapeValue;\r\n            shapeName = shapeConstruct.prototype.constructor.name.toLowerCase();\r\n        }\r\n        // 若都找不到图形，报错\r\n        util_1.Util.assert(shapeConstruct === undefined, '图形 ' + shapeName + ' 未注册！');\r\n        let shape = this.reuseShape(id, shapeName, opt);\r\n        // 若没有找到复用的图形，则创建新图形\r\n        if (shape === null) {\r\n            shape = new shapeConstruct(id, shapeName, opt);\r\n        }\r\n        // 若图形是复合图形，则创建子图形\r\n        if (shape instanceof composite_1.Composite) {\r\n            this.createCompositeSubShapes(shape);\r\n        }\r\n        // 将图形加入图形管理器\r\n        shape.renderer = this.renderer;\r\n        this.shapeList.push(shape);\r\n        // 若为文本类型，则先创建zrender图形实例\r\n        if (shapeName === 'text' && shape.zrenderShape === null) {\r\n            shape.zrenderShape = shape.createZrenderShape();\r\n        }\r\n        return shape;\r\n    }\r\n    /**\r\n     * 创建复合图形的子图形\r\n     * @param shape\r\n     */\r\n    createCompositeSubShapes(shape) {\r\n        shape.subShapes.map((item, index) => {\r\n            let subShapeOption = { style: {} };\r\n            util_1.Util.extends(subShapeOption, shape.option);\r\n            util_1.Util.extends(subShapeOption.style, shape.style);\r\n            if (item.init) {\r\n                util_1.Util.extends(subShapeOption, item.init(shape.option, shape.style));\r\n            }\r\n            item.shape = this.createShape(shape.id + '#' + index, item.shapeName, subShapeOption);\r\n            item.shape.parentShape = shape;\r\n        });\r\n    }\r\n    /**\r\n     * 将图形加入到view\r\n     * @param shape\r\n     */\r\n    addShape(shape) {\r\n        let shapeContainer = this.shapeContainer, name = shape.name;\r\n        if (shapeContainer[name] === undefined) {\r\n            shapeContainer[name] = [];\r\n        }\r\n        shapeContainer[name].push(shape);\r\n    }\r\n    /**\r\n     * 将图形从view中移除\r\n     * @param shape\r\n     * @param listName\r\n     */\r\n    removeShape(shape) {\r\n        // 从shapeContainer中移除图形\r\n        util_1.Util.removeFromList(this.shapeContainer[shape.name], item => item.id === shape.id);\r\n        // 更改图形挂载状态为需卸载\r\n        shape.mountState = shape_1.mountState.NEEDUNMOUNT;\r\n        if (this.shapeContainer[shape.name].length === 0) {\r\n            delete this.shapeContainer[shape.name];\r\n        }\r\n        this.removeList.push(shape);\r\n    }\r\n    /**\r\n     * 寻找可复用的Shape\r\n     * @param id\r\n     * @param shapeName\r\n     */\r\n    reuseShape(id, shapeName, opt) {\r\n        // 若图形容器中根本没有这个类型的图形，则表明不能复用\r\n        if (this.shapeContainer[shapeName] === undefined) {\r\n            return null;\r\n        }\r\n        let existShape = this.shapeContainer[shapeName].find(item => item.id === id);\r\n        // 若找到复用的图形\r\n        if (existShape) {\r\n            // 重置图形的数据\r\n            existShape.restoreData();\r\n            existShape.applyShapeOption(opt);\r\n            existShape.visible = true;\r\n            if (existShape instanceof text_1.Text) {\r\n                existShape.updateTextSize(existShape.zrenderShape);\r\n            }\r\n            return existShape;\r\n        }\r\n        return null;\r\n    }\r\n    /**\r\n     * 进行 shape 的调和（即 differ + patch）\r\n     * @param reconcileShapeOnly\r\n     */\r\n    reconciliation(reconcileShapeOnly = false) {\r\n        // 更新复合图形\r\n        this.shapeList.forEach(shape => {\r\n            if (shape instanceof composite_1.Composite && shape.isDirty) {\r\n                shape.updateSubShapes();\r\n            }\r\n        });\r\n        if (reconcileShapeOnly) {\r\n            for (let i = 0; i < this.shapeList.length; i++) {\r\n                this.reconciler.reconcileShape(this.shapeList[i], this.shapeList[i]);\r\n            }\r\n        }\r\n        else {\r\n            if (this.isFirstRender) {\r\n                this.shapeList.forEach(item => {\r\n                    this.addShape(item);\r\n                });\r\n            }\r\n            else {\r\n                // 对图形容器进行 differ 调和\r\n                this.reconciler.reconcileShapeList(this.shapeContainer, this.shapeList);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * 渲染 view\r\n     * @param updateViewOnly\r\n     */\r\n    renderShapes(updateViewOnly = false) {\r\n        // 开始更新钩子\r\n        this.beforeUpdate();\r\n        // 若不是只单纯地更新视图某个元素（涉及结构变化），需要进行下面步骤\r\n        if (updateViewOnly === false) {\r\n            // 如果进行这次更新时上次更新还未完成，跳过上次更新的动画\r\n            if (this.isViewUpdating) {\r\n                this.renderer.skipUpdateZrenderShapes(() => {\r\n                    this.afterUpdate.call(this);\r\n                });\r\n            }\r\n            this.isViewUpdating = true;\r\n            // 渲染（创建和销毁） zrender 图形实例\r\n            this.renderer.renderZrenderShapes(this.shapeList, this.removeList);\r\n            // 调整视图\r\n            this.renderer.adjustGlobalShape(this.viewOption.position, this.viewOption.scale);\r\n        }\r\n        // 更新 zrender 图形实例\r\n        this.renderer.updateZrenderShapes(() => {\r\n            this.afterUpdate.call(this);\r\n        });\r\n        // 取消首次渲染的标志\r\n        if (this.isFirstRender) {\r\n            this.isFirstRender = false;\r\n        }\r\n        // console.log(this.shapeContainer);\r\n    }\r\n    /**\r\n     * 重置上一次的数据\r\n     */\r\n    resetData() {\r\n        Object.keys(this.shapeContainer).map(shapeList => {\r\n            this.shapeContainer[shapeList].map((shape) => shape.visited && (shape.visited = false));\r\n        });\r\n        this.staticTextId = 0;\r\n        this.shapeList.length = 0;\r\n        this.removeList.length = 0;\r\n    }\r\n    /**\r\n     * 清空所有图形\r\n     */\r\n    clearShapes() {\r\n        this.shapeContainer = {};\r\n        this.shapeList.length = 0;\r\n        this.removeList.length = 0;\r\n        this.renderer.clear();\r\n    }\r\n    /**\r\n     * 获取图形队列\r\n     */\r\n    getShapeList() {\r\n        return this.shapeList;\r\n    }\r\n    // ----------------------------------------------------------------\r\n    /**\r\n     * 视图更新前\r\n     */\r\n    beforeUpdate() {\r\n        this.engine.beforeUpdate();\r\n    }\r\n    /**\r\n     * 视图更新后\r\n     */\r\n    afterUpdate() {\r\n        this.engine.afterUpdate();\r\n    }\r\n}\r\nexports.ViewModel = ViewModel;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9WaWV3L3ZpZXdNb2RlbC5qcz9jNTVkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQThDLGNBQWM7QUFDNUQsaUJBQWlCLG1CQUFPLENBQUMsQ0FBVztBQUNwQyxtQkFBbUIsbUJBQU8sQ0FBQyxDQUFZO0FBQ3ZDLHFCQUFxQixtQkFBTyxDQUFDLEVBQWM7QUFDM0MsZ0JBQWdCLG1CQUFPLENBQUMsQ0FBaUI7QUFDekMsZUFBZSxtQkFBTyxDQUFDLENBQWdCO0FBQ3ZDLG9CQUFvQixtQkFBTyxDQUFDLENBQXFCO0FBQ2pELGVBQWUsbUJBQU8sQ0FBQyxDQUFnQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLFVBQVU7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSwyQkFBMkIsMkJBQTJCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjE4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgZW5naW5lXzEgPSByZXF1aXJlKFwiLi4vZW5naW5lXCIpO1xyXG5jb25zdCByZW5kZXJlcl8xID0gcmVxdWlyZShcIi4vcmVuZGVyZXJcIik7XHJcbmNvbnN0IHJlY29uY2lsZXJfMSA9IHJlcXVpcmUoXCIuL3JlY29uY2lsZXJcIik7XHJcbmNvbnN0IHNoYXBlXzEgPSByZXF1aXJlKFwiLi4vU2hhcGVzL3NoYXBlXCIpO1xyXG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi4vQ29tbW9uL3V0aWxcIik7XHJcbmNvbnN0IGNvbXBvc2l0ZV8xID0gcmVxdWlyZShcIi4uL1NoYXBlcy9jb21wb3NpdGVcIik7XHJcbmNvbnN0IHRleHRfMSA9IHJlcXVpcmUoXCIuLi9TaGFwZXMvdGV4dFwiKTtcclxuY2xhc3MgVmlld01vZGVsIHtcclxuICAgIGNvbnN0cnVjdG9yKGVuZ2luZSwgY29udGFpbmVyKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUgPSBlbmdpbmU7XHJcbiAgICAgICAgLy8g5Li76KeG5Zu+5a655ZmoXHJcbiAgICAgICAgdGhpcy5zaGFwZUNvbnRhaW5lciA9IHt9O1xyXG4gICAgICAgIC8vIOWbvuW9oumYn+WIl1xyXG4gICAgICAgIHRoaXMuc2hhcGVMaXN0ID0gW107XHJcbiAgICAgICAgLy8g56e76Zmk5Zu+5b2i6Zif5YiX44CC6ZyA6KaB56e76Zmk55qE5Zu+5b2i5bCG6KKr5pS+6L+b6L+Z5Liq5YiX6KGoXHJcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ID0gW107XHJcbiAgICAgICAgLy8g6Z2Z5oCB5paH5pysaWRcclxuICAgICAgICB0aGlzLnN0YXRpY1RleHRJZCA9IDA7XHJcbiAgICAgICAgLy8g5piv5ZCm5q2j5Zyo5omn6KGM6KeG5Zu+5pu05pawXHJcbiAgICAgICAgdGhpcy5pc1ZpZXdVcGRhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgIC8vIOaYr+WQpummluasoea4suafk1xyXG4gICAgICAgIHRoaXMuaXNGaXJzdFJlbmRlciA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5yZWNvbmNpbGVyID0gbmV3IHJlY29uY2lsZXJfMS5SZWNvbmNpbGVyKHRoaXMpO1xyXG4gICAgICAgIHRoaXMudmlld09wdGlvbiA9IGVuZ2luZS52aWV3T3B0aW9uO1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgcmVuZGVyZXJfMS5SZW5kZXJlcihjb250YWluZXIsIHRoaXMsIGVuZ2luZS52aWV3T3B0aW9uLmFuaW1hdGlvbik7XHJcbiAgICB9XHJcbiAgICA7XHJcbiAgICAvKipcclxuICAgICAqIOWbvuW9ouW3peWOgizliJvlu7pTaGFwZVxyXG4gICAgICogQHBhcmFtIGlkXHJcbiAgICAgKiBAcGFyYW0gc2hhcGVWYWx1ZVxyXG4gICAgICogQHBhcmFtIG9wdFxyXG4gICAgICovXHJcbiAgICBjcmVhdGVTaGFwZShpZCwgc2hhcGVWYWx1ZSwgb3B0KSB7XHJcbiAgICAgICAgbGV0IHNoYXBlQ29uc3RydWN0ID0gbnVsbCwgc2hhcGVOYW1lID0gbnVsbDtcclxuICAgICAgICBpZiAodHlwZW9mIHNoYXBlVmFsdWUgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIHNoYXBlQ29uc3RydWN0ID0gZW5naW5lXzEuRW5naW5lLlNoYXBlc1RhYmxlW3NoYXBlVmFsdWVdO1xyXG4gICAgICAgICAgICBzaGFwZU5hbWUgPSBzaGFwZVZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc2hhcGVDb25zdHJ1Y3QgPSBzaGFwZVZhbHVlO1xyXG4gICAgICAgICAgICBzaGFwZU5hbWUgPSBzaGFwZUNvbnN0cnVjdC5wcm90b3R5cGUuY29uc3RydWN0b3IubmFtZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDoi6Xpg73mib7kuI3liLDlm77lvaLvvIzmiqXplJlcclxuICAgICAgICB1dGlsXzEuVXRpbC5hc3NlcnQoc2hhcGVDb25zdHJ1Y3QgPT09IHVuZGVmaW5lZCwgJ+WbvuW9oiAnICsgc2hhcGVOYW1lICsgJyDmnKrms6jlhozvvIEnKTtcclxuICAgICAgICBsZXQgc2hhcGUgPSB0aGlzLnJldXNlU2hhcGUoaWQsIHNoYXBlTmFtZSwgb3B0KTtcclxuICAgICAgICAvLyDoi6XmsqHmnInmib7liLDlpI3nlKjnmoTlm77lvaLvvIzliJnliJvlu7rmlrDlm77lvaJcclxuICAgICAgICBpZiAoc2hhcGUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgc2hhcGUgPSBuZXcgc2hhcGVDb25zdHJ1Y3QoaWQsIHNoYXBlTmFtZSwgb3B0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g6Iul5Zu+5b2i5piv5aSN5ZCI5Zu+5b2i77yM5YiZ5Yib5bu65a2Q5Zu+5b2iXHJcbiAgICAgICAgaWYgKHNoYXBlIGluc3RhbmNlb2YgY29tcG9zaXRlXzEuQ29tcG9zaXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQ29tcG9zaXRlU3ViU2hhcGVzKHNoYXBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5bCG5Zu+5b2i5Yqg5YWl5Zu+5b2i566h55CG5ZmoXHJcbiAgICAgICAgc2hhcGUucmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xyXG4gICAgICAgIHRoaXMuc2hhcGVMaXN0LnB1c2goc2hhcGUpO1xyXG4gICAgICAgIC8vIOiLpeS4uuaWh+acrOexu+Wei++8jOWImeWFiOWIm+W7unpyZW5kZXLlm77lvaLlrp7kvotcclxuICAgICAgICBpZiAoc2hhcGVOYW1lID09PSAndGV4dCcgJiYgc2hhcGUuenJlbmRlclNoYXBlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHNoYXBlLnpyZW5kZXJTaGFwZSA9IHNoYXBlLmNyZWF0ZVpyZW5kZXJTaGFwZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2hhcGU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOWIm+W7uuWkjeWQiOWbvuW9oueahOWtkOWbvuW9olxyXG4gICAgICogQHBhcmFtIHNoYXBlXHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZUNvbXBvc2l0ZVN1YlNoYXBlcyhzaGFwZSkge1xyXG4gICAgICAgIHNoYXBlLnN1YlNoYXBlcy5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBzdWJTaGFwZU9wdGlvbiA9IHsgc3R5bGU6IHt9IH07XHJcbiAgICAgICAgICAgIHV0aWxfMS5VdGlsLmV4dGVuZHMoc3ViU2hhcGVPcHRpb24sIHNoYXBlLm9wdGlvbik7XHJcbiAgICAgICAgICAgIHV0aWxfMS5VdGlsLmV4dGVuZHMoc3ViU2hhcGVPcHRpb24uc3R5bGUsIHNoYXBlLnN0eWxlKTtcclxuICAgICAgICAgICAgaWYgKGl0ZW0uaW5pdCkge1xyXG4gICAgICAgICAgICAgICAgdXRpbF8xLlV0aWwuZXh0ZW5kcyhzdWJTaGFwZU9wdGlvbiwgaXRlbS5pbml0KHNoYXBlLm9wdGlvbiwgc2hhcGUuc3R5bGUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpdGVtLnNoYXBlID0gdGhpcy5jcmVhdGVTaGFwZShzaGFwZS5pZCArICcjJyArIGluZGV4LCBpdGVtLnNoYXBlTmFtZSwgc3ViU2hhcGVPcHRpb24pO1xyXG4gICAgICAgICAgICBpdGVtLnNoYXBlLnBhcmVudFNoYXBlID0gc2hhcGU7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOWwhuWbvuW9ouWKoOWFpeWIsHZpZXdcclxuICAgICAqIEBwYXJhbSBzaGFwZVxyXG4gICAgICovXHJcbiAgICBhZGRTaGFwZShzaGFwZSkge1xyXG4gICAgICAgIGxldCBzaGFwZUNvbnRhaW5lciA9IHRoaXMuc2hhcGVDb250YWluZXIsIG5hbWUgPSBzaGFwZS5uYW1lO1xyXG4gICAgICAgIGlmIChzaGFwZUNvbnRhaW5lcltuYW1lXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHNoYXBlQ29udGFpbmVyW25hbWVdID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNoYXBlQ29udGFpbmVyW25hbWVdLnB1c2goc2hhcGUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDlsIblm77lvaLku452aWV35Lit56e76ZmkXHJcbiAgICAgKiBAcGFyYW0gc2hhcGVcclxuICAgICAqIEBwYXJhbSBsaXN0TmFtZVxyXG4gICAgICovXHJcbiAgICByZW1vdmVTaGFwZShzaGFwZSkge1xyXG4gICAgICAgIC8vIOS7jnNoYXBlQ29udGFpbmVy5Lit56e76Zmk5Zu+5b2iXHJcbiAgICAgICAgdXRpbF8xLlV0aWwucmVtb3ZlRnJvbUxpc3QodGhpcy5zaGFwZUNvbnRhaW5lcltzaGFwZS5uYW1lXSwgaXRlbSA9PiBpdGVtLmlkID09PSBzaGFwZS5pZCk7XHJcbiAgICAgICAgLy8g5pu05pS55Zu+5b2i5oyC6L2954q25oCB5Li66ZyA5Y246L29XHJcbiAgICAgICAgc2hhcGUubW91bnRTdGF0ZSA9IHNoYXBlXzEubW91bnRTdGF0ZS5ORUVEVU5NT1VOVDtcclxuICAgICAgICBpZiAodGhpcy5zaGFwZUNvbnRhaW5lcltzaGFwZS5uYW1lXS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuc2hhcGVDb250YWluZXJbc2hhcGUubmFtZV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVtb3ZlTGlzdC5wdXNoKHNoYXBlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5a+75om+5Y+v5aSN55So55qEU2hhcGVcclxuICAgICAqIEBwYXJhbSBpZFxyXG4gICAgICogQHBhcmFtIHNoYXBlTmFtZVxyXG4gICAgICovXHJcbiAgICByZXVzZVNoYXBlKGlkLCBzaGFwZU5hbWUsIG9wdCkge1xyXG4gICAgICAgIC8vIOiLpeWbvuW9ouWuueWZqOS4reagueacrOayoeaciei/meS4quexu+Wei+eahOWbvuW9ou+8jOWImeihqOaYjuS4jeiDveWkjeeUqFxyXG4gICAgICAgIGlmICh0aGlzLnNoYXBlQ29udGFpbmVyW3NoYXBlTmFtZV0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGV4aXN0U2hhcGUgPSB0aGlzLnNoYXBlQ29udGFpbmVyW3NoYXBlTmFtZV0uZmluZChpdGVtID0+IGl0ZW0uaWQgPT09IGlkKTtcclxuICAgICAgICAvLyDoi6Xmib7liLDlpI3nlKjnmoTlm77lvaJcclxuICAgICAgICBpZiAoZXhpc3RTaGFwZSkge1xyXG4gICAgICAgICAgICAvLyDph43nva7lm77lvaLnmoTmlbDmja5cclxuICAgICAgICAgICAgZXhpc3RTaGFwZS5yZXN0b3JlRGF0YSgpO1xyXG4gICAgICAgICAgICBleGlzdFNoYXBlLmFwcGx5U2hhcGVPcHRpb24ob3B0KTtcclxuICAgICAgICAgICAgZXhpc3RTaGFwZS52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKGV4aXN0U2hhcGUgaW5zdGFuY2VvZiB0ZXh0XzEuVGV4dCkge1xyXG4gICAgICAgICAgICAgICAgZXhpc3RTaGFwZS51cGRhdGVUZXh0U2l6ZShleGlzdFNoYXBlLnpyZW5kZXJTaGFwZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGV4aXN0U2hhcGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDov5vooYwgc2hhcGUg55qE6LCD5ZKM77yI5Y2zIGRpZmZlciArIHBhdGNo77yJXHJcbiAgICAgKiBAcGFyYW0gcmVjb25jaWxlU2hhcGVPbmx5XHJcbiAgICAgKi9cclxuICAgIHJlY29uY2lsaWF0aW9uKHJlY29uY2lsZVNoYXBlT25seSA9IGZhbHNlKSB7XHJcbiAgICAgICAgLy8g5pu05paw5aSN5ZCI5Zu+5b2iXHJcbiAgICAgICAgdGhpcy5zaGFwZUxpc3QuZm9yRWFjaChzaGFwZSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChzaGFwZSBpbnN0YW5jZW9mIGNvbXBvc2l0ZV8xLkNvbXBvc2l0ZSAmJiBzaGFwZS5pc0RpcnR5KSB7XHJcbiAgICAgICAgICAgICAgICBzaGFwZS51cGRhdGVTdWJTaGFwZXMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChyZWNvbmNpbGVTaGFwZU9ubHkpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNoYXBlTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvbmNpbGVyLnJlY29uY2lsZVNoYXBlKHRoaXMuc2hhcGVMaXN0W2ldLCB0aGlzLnNoYXBlTGlzdFtpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRmlyc3RSZW5kZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hhcGVMaXN0LmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRTaGFwZShpdGVtKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8g5a+55Zu+5b2i5a655Zmo6L+b6KGMIGRpZmZlciDosIPlkoxcclxuICAgICAgICAgICAgICAgIHRoaXMucmVjb25jaWxlci5yZWNvbmNpbGVTaGFwZUxpc3QodGhpcy5zaGFwZUNvbnRhaW5lciwgdGhpcy5zaGFwZUxpc3QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDmuLLmn5Mgdmlld1xyXG4gICAgICogQHBhcmFtIHVwZGF0ZVZpZXdPbmx5XHJcbiAgICAgKi9cclxuICAgIHJlbmRlclNoYXBlcyh1cGRhdGVWaWV3T25seSA9IGZhbHNlKSB7XHJcbiAgICAgICAgLy8g5byA5aeL5pu05paw6ZKp5a2QXHJcbiAgICAgICAgdGhpcy5iZWZvcmVVcGRhdGUoKTtcclxuICAgICAgICAvLyDoi6XkuI3mmK/lj6rljZXnuq/lnLDmm7TmlrDop4blm77mn5DkuKrlhYPntKDvvIjmtonlj4rnu5PmnoTlj5jljJbvvInvvIzpnIDopoHov5vooYzkuIvpnaLmraXpqqRcclxuICAgICAgICBpZiAodXBkYXRlVmlld09ubHkgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIC8vIOWmguaenOi/m+ihjOi/measoeabtOaWsOaXtuS4iuasoeabtOaWsOi/mOacquWujOaIkO+8jOi3s+i/h+S4iuasoeabtOaWsOeahOWKqOeUu1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc1ZpZXdVcGRhdGluZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5za2lwVXBkYXRlWnJlbmRlclNoYXBlcygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZnRlclVwZGF0ZS5jYWxsKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5pc1ZpZXdVcGRhdGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIC8vIOa4suafk++8iOWIm+W7uuWSjOmUgOavge+8iSB6cmVuZGVyIOWbvuW9ouWunuS+i1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlclpyZW5kZXJTaGFwZXModGhpcy5zaGFwZUxpc3QsIHRoaXMucmVtb3ZlTGlzdCk7XHJcbiAgICAgICAgICAgIC8vIOiwg+aVtOinhuWbvlxyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmFkanVzdEdsb2JhbFNoYXBlKHRoaXMudmlld09wdGlvbi5wb3NpdGlvbiwgdGhpcy52aWV3T3B0aW9uLnNjYWxlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5pu05pawIHpyZW5kZXIg5Zu+5b2i5a6e5L6LXHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci51cGRhdGVacmVuZGVyU2hhcGVzKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hZnRlclVwZGF0ZS5jYWxsKHRoaXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIOWPlua2iOmmluasoea4suafk+eahOagh+W/l1xyXG4gICAgICAgIGlmICh0aGlzLmlzRmlyc3RSZW5kZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5pc0ZpcnN0UmVuZGVyID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuc2hhcGVDb250YWluZXIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDph43nva7kuIrkuIDmrKHnmoTmlbDmja5cclxuICAgICAqL1xyXG4gICAgcmVzZXREYXRhKCkge1xyXG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMuc2hhcGVDb250YWluZXIpLm1hcChzaGFwZUxpc3QgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNoYXBlQ29udGFpbmVyW3NoYXBlTGlzdF0ubWFwKChzaGFwZSkgPT4gc2hhcGUudmlzaXRlZCAmJiAoc2hhcGUudmlzaXRlZCA9IGZhbHNlKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zdGF0aWNUZXh0SWQgPSAwO1xyXG4gICAgICAgIHRoaXMuc2hhcGVMaXN0Lmxlbmd0aCA9IDA7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0Lmxlbmd0aCA9IDA7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOa4heepuuaJgOacieWbvuW9olxyXG4gICAgICovXHJcbiAgICBjbGVhclNoYXBlcygpIHtcclxuICAgICAgICB0aGlzLnNoYXBlQ29udGFpbmVyID0ge307XHJcbiAgICAgICAgdGhpcy5zaGFwZUxpc3QubGVuZ3RoID0gMDtcclxuICAgICAgICB0aGlzLnJlbW92ZUxpc3QubGVuZ3RoID0gMDtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLmNsZWFyKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPluWbvuW9oumYn+WIl1xyXG4gICAgICovXHJcbiAgICBnZXRTaGFwZUxpc3QoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hhcGVMaXN0O1xyXG4gICAgfVxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgLyoqXHJcbiAgICAgKiDop4blm77mm7TmlrDliY1cclxuICAgICAqL1xyXG4gICAgYmVmb3JlVXBkYXRlKCkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lLmJlZm9yZVVwZGF0ZSgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDop4blm77mm7TmlrDlkI5cclxuICAgICAqL1xyXG4gICAgYWZ0ZXJVcGRhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUuYWZ0ZXJVcGRhdGUoKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLlZpZXdNb2RlbCA9IFZpZXdNb2RlbDtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///18\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst renderer_1 = __webpack_require__(1);\r\nclass GlobalShape {\r\n    constructor(renderer) {\r\n        this.renderer = null;\r\n        this.zrenderGroup = null;\r\n        this.renderer = renderer;\r\n        this.zrenderGroup = new renderer_1.Renderer.zrender.Group();\r\n    }\r\n    /**\r\n     * 添加图形\r\n     * @param shape\r\n     */\r\n    add(shape) {\r\n        if (Array.isArray(shape)) {\r\n            shape.map(item => this.add(item));\r\n        }\r\n        else {\r\n            shape.parentShape === null && this.zrenderGroup.add(shape.zrenderShape);\r\n        }\r\n    }\r\n    /**\r\n     * 移除图形\r\n     * @param shape\r\n     */\r\n    remove(shape) {\r\n        if (shape instanceof Array) {\r\n            shape.map(item => this.remove(item));\r\n        }\r\n        else {\r\n            this.zrenderGroup.remove(shape.zrenderShape);\r\n            shape.zrenderShape = null;\r\n        }\r\n    }\r\n    /**\r\n     * 清空所以子图形\r\n     */\r\n    clear() {\r\n        this.zrenderGroup.removeAll();\r\n    }\r\n    /**\r\n     * 缩放\r\n     * - 每次缩放都要重新设置缩放原点\r\n     * @param x\r\n     * @param y\r\n     * @param animation\r\n     */\r\n    scale(x, y, animation = false) {\r\n        let [px, py] = this.getPosition(), bound = this.getBound(), originX = bound.x + bound.width / 2 - px, originY = bound.y + bound.height / 2 - py, prop = {\r\n            scale: [x, y]\r\n        };\r\n        this.setOrigin(originX, originY);\r\n        this.renderer.setAttribute(this.zrenderGroup, prop, animation);\r\n    }\r\n    /**\r\n     * 位移\r\n     * @param dx\r\n     * @param dy\r\n     * @param animation\r\n     */\r\n    translate(dx, dy, animation = false) {\r\n        let position = this.getPosition(), prop = {\r\n            position: [position[0] + dx, position[1] + dy]\r\n        };\r\n        this.renderer.setAttribute(this.zrenderGroup, prop, animation);\r\n    }\r\n    /**\r\n     * 获取 zrender 图形的 position\r\n     */\r\n    getPosition() {\r\n        return [this.zrenderGroup.position[0], this.zrenderGroup.position[1]];\r\n    }\r\n    /**\r\n     * 获取 zrender 图形的 scale\r\n     */\r\n    getScale() {\r\n        return this.zrenderGroup.scale;\r\n    }\r\n    /**\r\n     * 获取包围盒\r\n     */\r\n    getBound() {\r\n        let bound = this.zrenderGroup.getBoundingRect();\r\n        this.zrenderGroup.updateTransform();\r\n        bound.applyTransform(this.zrenderGroup.transform);\r\n        return bound;\r\n    }\r\n    /**\r\n     * 获取 zrender 图形\r\n     */\r\n    getZrenderShape() {\r\n        return this.zrenderGroup;\r\n    }\r\n    /**\r\n     * 设置原点\r\n     * @param x\r\n     * @param y\r\n     */\r\n    setOrigin(x, y) {\r\n        this.zrenderGroup.attr('origin', [x, y]);\r\n    }\r\n    /**\r\n     * 设置position\r\n     * @param x\r\n     * @param y\r\n     */\r\n    setPosition(x, y) {\r\n        this.zrenderGroup.attr('position', [x, y]);\r\n    }\r\n}\r\nexports.GlobalShape = GlobalShape;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9WaWV3L2dsb2JhbFNoYXBlLmpzPzc0ZWIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RCxtQkFBbUIsbUJBQU8sQ0FBQyxDQUFZO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjE5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgcmVuZGVyZXJfMSA9IHJlcXVpcmUoXCIuL3JlbmRlcmVyXCIpO1xyXG5jbGFzcyBHbG9iYWxTaGFwZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuenJlbmRlckdyb3VwID0gbnVsbDtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICAgICAgdGhpcy56cmVuZGVyR3JvdXAgPSBuZXcgcmVuZGVyZXJfMS5SZW5kZXJlci56cmVuZGVyLkdyb3VwKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOa3u+WKoOWbvuW9olxyXG4gICAgICogQHBhcmFtIHNoYXBlXHJcbiAgICAgKi9cclxuICAgIGFkZChzaGFwZSkge1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNoYXBlKSkge1xyXG4gICAgICAgICAgICBzaGFwZS5tYXAoaXRlbSA9PiB0aGlzLmFkZChpdGVtKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzaGFwZS5wYXJlbnRTaGFwZSA9PT0gbnVsbCAmJiB0aGlzLnpyZW5kZXJHcm91cC5hZGQoc2hhcGUuenJlbmRlclNoYXBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOenu+mZpOWbvuW9olxyXG4gICAgICogQHBhcmFtIHNoYXBlXHJcbiAgICAgKi9cclxuICAgIHJlbW92ZShzaGFwZSkge1xyXG4gICAgICAgIGlmIChzaGFwZSBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICAgIHNoYXBlLm1hcChpdGVtID0+IHRoaXMucmVtb3ZlKGl0ZW0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuenJlbmRlckdyb3VwLnJlbW92ZShzaGFwZS56cmVuZGVyU2hhcGUpO1xyXG4gICAgICAgICAgICBzaGFwZS56cmVuZGVyU2hhcGUgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5riF56m65omA5Lul5a2Q5Zu+5b2iXHJcbiAgICAgKi9cclxuICAgIGNsZWFyKCkge1xyXG4gICAgICAgIHRoaXMuenJlbmRlckdyb3VwLnJlbW92ZUFsbCgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDnvKnmlL5cclxuICAgICAqIC0g5q+P5qyh57yp5pS+6YO96KaB6YeN5paw6K6+572u57yp5pS+5Y6f54K5XHJcbiAgICAgKiBAcGFyYW0geFxyXG4gICAgICogQHBhcmFtIHlcclxuICAgICAqIEBwYXJhbSBhbmltYXRpb25cclxuICAgICAqL1xyXG4gICAgc2NhbGUoeCwgeSwgYW5pbWF0aW9uID0gZmFsc2UpIHtcclxuICAgICAgICBsZXQgW3B4LCBweV0gPSB0aGlzLmdldFBvc2l0aW9uKCksIGJvdW5kID0gdGhpcy5nZXRCb3VuZCgpLCBvcmlnaW5YID0gYm91bmQueCArIGJvdW5kLndpZHRoIC8gMiAtIHB4LCBvcmlnaW5ZID0gYm91bmQueSArIGJvdW5kLmhlaWdodCAvIDIgLSBweSwgcHJvcCA9IHtcclxuICAgICAgICAgICAgc2NhbGU6IFt4LCB5XVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5zZXRPcmlnaW4ob3JpZ2luWCwgb3JpZ2luWSk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRBdHRyaWJ1dGUodGhpcy56cmVuZGVyR3JvdXAsIHByb3AsIGFuaW1hdGlvbik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOS9jeenu1xyXG4gICAgICogQHBhcmFtIGR4XHJcbiAgICAgKiBAcGFyYW0gZHlcclxuICAgICAqIEBwYXJhbSBhbmltYXRpb25cclxuICAgICAqL1xyXG4gICAgdHJhbnNsYXRlKGR4LCBkeSwgYW5pbWF0aW9uID0gZmFsc2UpIHtcclxuICAgICAgICBsZXQgcG9zaXRpb24gPSB0aGlzLmdldFBvc2l0aW9uKCksIHByb3AgPSB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBbcG9zaXRpb25bMF0gKyBkeCwgcG9zaXRpb25bMV0gKyBkeV1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0QXR0cmlidXRlKHRoaXMuenJlbmRlckdyb3VwLCBwcm9wLCBhbmltYXRpb24pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5YgenJlbmRlciDlm77lvaLnmoQgcG9zaXRpb25cclxuICAgICAqL1xyXG4gICAgZ2V0UG9zaXRpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIFt0aGlzLnpyZW5kZXJHcm91cC5wb3NpdGlvblswXSwgdGhpcy56cmVuZGVyR3JvdXAucG9zaXRpb25bMV1dO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5YgenJlbmRlciDlm77lvaLnmoQgc2NhbGVcclxuICAgICAqL1xyXG4gICAgZ2V0U2NhbGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuenJlbmRlckdyb3VwLnNjYWxlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5bljIXlm7Tnm5JcclxuICAgICAqL1xyXG4gICAgZ2V0Qm91bmQoKSB7XHJcbiAgICAgICAgbGV0IGJvdW5kID0gdGhpcy56cmVuZGVyR3JvdXAuZ2V0Qm91bmRpbmdSZWN0KCk7XHJcbiAgICAgICAgdGhpcy56cmVuZGVyR3JvdXAudXBkYXRlVHJhbnNmb3JtKCk7XHJcbiAgICAgICAgYm91bmQuYXBwbHlUcmFuc2Zvcm0odGhpcy56cmVuZGVyR3JvdXAudHJhbnNmb3JtKTtcclxuICAgICAgICByZXR1cm4gYm91bmQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPliB6cmVuZGVyIOWbvuW9olxyXG4gICAgICovXHJcbiAgICBnZXRacmVuZGVyU2hhcGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuenJlbmRlckdyb3VwO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDorr7nva7ljp/ngrlcclxuICAgICAqIEBwYXJhbSB4XHJcbiAgICAgKiBAcGFyYW0geVxyXG4gICAgICovXHJcbiAgICBzZXRPcmlnaW4oeCwgeSkge1xyXG4gICAgICAgIHRoaXMuenJlbmRlckdyb3VwLmF0dHIoJ29yaWdpbicsIFt4LCB5XSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOiuvue9rnBvc2l0aW9uXHJcbiAgICAgKiBAcGFyYW0geFxyXG4gICAgICogQHBhcmFtIHlcclxuICAgICAqL1xyXG4gICAgc2V0UG9zaXRpb24oeCwgeSkge1xyXG4gICAgICAgIHRoaXMuenJlbmRlckdyb3VwLmF0dHIoJ3Bvc2l0aW9uJywgW3gsIHldKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLkdsb2JhbFNoYXBlID0gR2xvYmFsU2hhcGU7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///19\n")},function(module,exports,__webpack_require__){eval('!function(t,e){ true?e(exports):undefined}(this,function(t){"use strict";function r(){return e++}var e=2311,_="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:function(t){var e={},i=t.match(/Firefox\\/([\\d.]+)/),r=t.match(/MSIE\\s([\\d.]+)/)||t.match(/Trident\\/.+?rv:(([\\d.]+))/),n=t.match(/Edge\\/([\\d.]+)/),a=/micromessenger/i.test(t);i&&(e.firefox=!0,e.version=i[1]);r&&(e.ie=!0,e.version=r[1]);n&&(e.edge=!0,e.version=n[1]);a&&(e.weChat=!0);return{browser:e,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!e.ie&&!e.edge,pointerEventsSupported:"onpointerdown"in window&&(e.edge||e.ie&&11<=e.version),domSupported:"undefined"!=typeof document}}(navigator.userAgent);var s={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},h={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},l=Object.prototype.toString,i=Array.prototype,o=i.forEach,u=i.filter,n=i.slice,c=i.map,f=i.reduce,a={};function d(t){if(null==t||"object"!=typeof t)return t;var e=t,i=l.call(t);if("[object Array]"===i){if(!H(t)){e=[];for(var r=0,n=t.length;r<n;r++)e[r]=d(t[r])}}else if(h[i]){if(!H(t)){var a=t.constructor;if(t.constructor.from)e=a.from(t);else{e=new a(t.length);for(r=0,n=t.length;r<n;r++)e[r]=d(t[r])}}}else if(!s[i]&&!H(t)&&!B(t))for(var o in e={},t)t.hasOwnProperty(o)&&(e[o]=d(t[o]));return e}function p(t,e,i){if(!L(e)||!L(t))return i?d(e):t;for(var r in e)if(e.hasOwnProperty(r)){var n=t[r],a=e[r];!L(a)||!L(n)||M(a)||M(n)||B(a)||B(n)||z(a)||z(n)||H(a)||H(n)?!i&&r in t||(t[r]=d(e[r])):p(n,a,i)}return t}function v(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function g(t,e,i){for(var r in e)e.hasOwnProperty(r)&&(i?null!=e[r]:null==t[r])&&(t[r]=e[r]);return t}function m(){return a.createCanvas()}var y;function x(){return y=y||m().getContext("2d")}function w(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var i=0,r=t.length;i<r;i++)if(t[i]===e)return i}return-1}function b(t,e){var i=t.prototype;function r(){}for(var n in r.prototype=e.prototype,t.prototype=new r,i)i.hasOwnProperty(n)&&(t.prototype[n]=i[n]);(t.prototype.constructor=t).superClass=e}function k(t,e,i){g(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,i)}function D(t){if(t)return"string"!=typeof t&&"number"==typeof t.length}function T(t,e,i){if(t&&e)if(t.forEach&&t.forEach===o)t.forEach(e,i);else if(t.length===+t.length)for(var r=0,n=t.length;r<n;r++)e.call(i,t[r],r,t);else for(var a in t)t.hasOwnProperty(a)&&e.call(i,t[a],a,t)}function S(t,e,i){if(t&&e){if(t.map&&t.map===c)return t.map(e,i);for(var r=[],n=0,a=t.length;n<a;n++)r.push(e.call(i,t[n],n,t));return r}}function C(t,e){var i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}function M(t){return"[object Array]"===l.call(t)}function P(t){return"function"==typeof t}function A(t){return"[object String]"===l.call(t)}function L(t){var e=typeof t;return"function"==e||!!t&&"object"==e}function z(t){return!!s[l.call(t)]}function B(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function I(t,e){return null!=t?t:e}function O(t,e,i){return null!=t?t:null!=e?e:i}function E(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function R(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,"")}a.createCanvas=function(){return document.createElement("canvas")};var F="__ec_primitive__";function H(t){return t[F]}function N(t){var i=M(t);this.data={};var r=this;function e(t,e){i?r.set(t,e):r.set(e,t)}t instanceof N?t.each(e):t&&T(t,e)}function W(){}N.prototype={constructor:N,get:function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},set:function(t,e){return this.data[t]=e},each:function(t,e){for(var i in void 0!==e&&(t=C(t,e)),this.data)this.data.hasOwnProperty(i)&&t(this.data[i],i)},removeKey:function(t){delete this.data[t]}};var V=(Object.freeze||Object)({$override:function(t,e){"createCanvas"===t&&(y=null),a[t]=e},clone:d,merge:p,mergeAll:function(t,e){for(var i=t[0],r=1,n=t.length;r<n;r++)i=p(i,t[r],e);return i},extend:v,defaults:g,createCanvas:m,getContext:x,indexOf:w,inherits:b,mixin:k,isArrayLike:D,each:T,map:S,reduce:function(t,e,i,r){if(t&&e){if(t.reduce&&t.reduce===f)return t.reduce(e,i,r);for(var n=0,a=t.length;n<a;n++)i=e.call(r,i,t[n],n,t);return i}},filter:function(t,e,i){if(t&&e){if(t.filter&&t.filter===u)return t.filter(e,i);for(var r=[],n=0,a=t.length;n<a;n++)e.call(i,t[n],n,t)&&r.push(t[n]);return r}},find:function(t,e,i){if(t&&e)for(var r=0,n=t.length;r<n;r++)if(e.call(i,t[r],r,t))return t[r]},bind:C,curry:function(t){var e=n.call(arguments,1);return function(){return t.apply(this,e.concat(n.call(arguments)))}},isArray:M,isFunction:P,isString:A,isObject:L,isBuiltInObject:z,isTypedArray:function(t){return!!h[l.call(t)]},isDom:B,eqNaN:function(t){return t!=t},retrieve:function(t){for(var e=0,i=arguments.length;e<i;e++)if(null!=arguments[e])return arguments[e]},retrieve2:I,retrieve3:O,slice:function(){return Function.call.apply(n,arguments)},normalizeCssArray:E,assert:function(t,e){if(!t)throw new Error(e)},trim:R,setAsPrimitive:function(t){t[F]=!0},isPrimitive:H,createHashMap:function(t){return new N(t)},concatArray:function(t,e){for(var i=new t.constructor(t.length+e.length),r=0;r<t.length;r++)i[r]=t[r];var n=t.length;for(r=0;r<e.length;r++)i[r+n]=e[r];return i},noop:W}),X="undefined"==typeof Float32Array?Array:Float32Array;function q(t,e){var i=new X(2);return null==t&&(t=0),null==e&&(e=0),i[0]=t,i[1]=e,i}function j(t){var e=new X(2);return e[0]=t[0],e[1]=t[1],e}function Y(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t}function U(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function G(t){return Math.sqrt(Q(t))}var Z=G;function Q(t){return t[0]*t[0]+t[1]*t[1]}var $=Q;function K(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t}function J(t,e){var i=G(e);return 0===i?(t[0]=0,t[1]=0):(t[0]=e[0]/i,t[1]=e[1]/i),t}function tt(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var et=tt;function it(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var rt=it;function nt(t,e,i){var r=e[0],n=e[1];return t[0]=i[0]*r+i[2]*n+i[4],t[1]=i[1]*r+i[3]*n+i[5],t}function at(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t}function ot(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}var st=(Object.freeze||Object)({create:q,copy:function(t,e){return t[0]=e[0],t[1]=e[1],t},clone:j,set:function(t,e,i){return t[0]=e,t[1]=i,t},add:Y,scaleAndAdd:function(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t},sub:U,len:G,length:Z,lenSquare:Q,lengthSquare:$,mul:function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t},div:function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},scale:K,normalize:J,distance:tt,dist:et,distanceSquare:it,distSquare:rt,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},lerp:function(t,e,i,r){return t[0]=e[0]+r*(i[0]-e[0]),t[1]=e[1]+r*(i[1]-e[1]),t},applyTransform:nt,min:at,max:ot});function ht(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this)}function lt(t,e){return{target:t,topTarget:e&&e.topTarget}}ht.prototype={constructor:ht,_dragStart:function(t){var e=t.target;e&&e.draggable&&((this._draggingTarget=e).dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(lt(e,t),"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var i=t.offsetX,r=t.offsetY,n=i-this._x,a=r-this._y;this._x=i,this._y=r,e.drift(n,a,t),this.dispatchToElement(lt(e,t),"drag",t.event);var o=this.findHover(i,r,e).target,s=this._dropTarget;e!==(this._dropTarget=o)&&(s&&o!==s&&this.dispatchToElement(lt(s,t),"dragleave",t.event),o&&o!==s&&this.dispatchToElement(lt(o,t),"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(lt(e,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(lt(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null}};function ut(t){this._$handlers={},this._$eventProcessor=t}var ct=Array.prototype.slice;function ft(t,e,i,r,n,a){var o=t._$handlers;if("function"==typeof i&&(n=r,r=i,i=null),!r||!e)return t;i=function(t,e){var i=t._$eventProcessor;return null!=e&&i&&i.normalizeQuery&&(e=i.normalizeQuery(e)),e}(t,i),o[e]||(o[e]=[]);for(var s=0;s<o[e].length;s++)if(o[e][s].h===r)return t;var h={h:r,one:a,query:i,ctx:n||t,callAtLast:r.zrEventfulCallAtLast},l=o[e].length-1,u=o[e][l];return u&&u.callAtLast?o[e].splice(l,0,h):o[e].push(h),t}ut.prototype={constructor:ut,one:function(t,e,i,r){return ft(this,t,e,i,r,!0)},on:function(t,e,i,r){return ft(this,t,e,i,r,!1)},isSilent:function(t){var e=this._$handlers;return!e[t]||!e[t].length},off:function(t,e){var i=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(i[t]){for(var r=[],n=0,a=i[t].length;n<a;n++)i[t][n].h!==e&&r.push(i[t][n]);i[t]=r}i[t]&&0===i[t].length&&delete i[t]}else delete i[t];return this},trigger:function(t){var e=this._$handlers[t],i=this._$eventProcessor;if(e){var r=arguments,n=r.length;3<n&&(r=ct.call(r,1));for(var a=e.length,o=0;o<a;){var s=e[o];if(i&&i.filter&&null!=s.query&&!i.filter(t,s.query))o++;else{switch(n){case 1:s.h.call(s.ctx);break;case 2:s.h.call(s.ctx,r[1]);break;case 3:s.h.call(s.ctx,r[1],r[2]);break;default:s.h.apply(s.ctx,r)}s.one?(e.splice(o,1),a--):o++}}}return i&&i.afterTrigger&&i.afterTrigger(t),this},triggerWithContext:function(t){var e=this._$handlers[t],i=this._$eventProcessor;if(e){var r=arguments,n=r.length;4<n&&(r=ct.call(r,1,r.length-1));for(var a=r[r.length-1],o=e.length,s=0;s<o;){var h=e[s];if(i&&i.filter&&null!=h.query&&!i.filter(t,h.query))s++;else{switch(n){case 1:h.h.call(a);break;case 2:h.h.call(a,r[1]);break;case 3:h.h.call(a,r[1],r[2]);break;default:h.h.apply(a,r)}h.one?(e.splice(s,1),o--):s++}}}return i&&i.afterTrigger&&i.afterTrigger(t),this}};var dt=Math.log(2);function pt(t,e,i,r,n,a){var o=r+"-"+n,s=t.length;if(a.hasOwnProperty(o))return a[o];if(1===e){var h=Math.round(Math.log((1<<s)-1&~n)/dt);return t[i][h]}for(var l=r|1<<i,u=i+1;r&1<<u;)u++;for(var c=0,f=0,d=0;f<s;f++){var p=1<<f;p&n||(c+=(d%2?-1:1)*t[i][f]*pt(t,e-1,u,l,n|p,a),d++)}return a[o]=c}var vt="undefined"!=typeof window&&!!window.addEventListener,gt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_t="___zrEVENTSAVED",mt=[];function yt(t,e,i,r){return i=i||{},r||!_.canvasSupported?xt(t,e,i):_.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(i.zrX=e.layerX,i.zrY=e.layerY):null!=e.offsetX?(i.zrX=e.offsetX,i.zrY=e.offsetY):xt(t,e,i),i}function xt(t,e,i){if(t.getBoundingClientRect&&_.domSupported){var r=e.clientX,n=e.clientY;if("CANVAS"===t.nodeName.toUpperCase()){var a=t.getBoundingClientRect();return i.zrX=r-a.left,void(i.zrY=n-a.top)}var o=t[_t]||(t[_t]={}),s=function(t,e){for(var i=e.transformer,r=e.srcCoords,n=!0,a=[],o=[],s=0;s<4;s++){var h=t[s].getBoundingClientRect(),l=2*s,u=h.left,c=h.top;a.push(u,c),n&=r&&u===r[l]&&c===r[1+l],o.push(t[s].offsetLeft,t[s].offsetTop)}return n?i:(e.srcCoords=a,e.transformer=function(t,e){var i=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],r={},n=pt(i,8,0,0,0,r);if(0!==n){for(var a=[],o=0;o<8;o++)for(var s=0;s<8;s++)null==a[s]&&(a[s]=0),a[s]+=((o+s)%2?-1:1)*pt(i,7,0===o?1:0,1<<o,1<<s,r)/n*e[o];return function(t,e,i){var r=e*a[6]+i*a[7]+1;t[0]=(e*a[0]+i*a[1]+a[2])/r,t[1]=(e*a[3]+i*a[4]+a[5])/r}}}(a,o))}(function(t,e){var i=e.markers;if(i)return i;i=e.markers=[];for(var r=["left","right"],n=["top","bottom"],a=0;a<4;a++){var o=document.createElement("div"),s=o.style,h=a%2,l=(a>>1)%2;s.cssText=["position:absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","width:0","height:0",r[h]+":0",n[l]+":0",r[1-h]+":auto",n[1-l]+":auto",""].join("!important;"),t.appendChild(o),i.push(o)}return i}(t,o),o);if(s)return s(mt,r,n),i.zrX=mt[0],void(i.zrY=mt[1])}i.zrX=i.zrY=0}function wt(t){return t||window.event}function bt(t,e,i){if(null!=(e=wt(e)).zrX)return e;var r=e.type;if(r&&0<=r.indexOf("touch")){var n="touchend"!==r?e.targetTouches[0]:e.changedTouches[0];n&&yt(t,n,e,i)}else yt(t,e,e,i),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var a=e.button;return null==e.which&&void 0!==a&&gt.test(e.type)&&(e.which=1&a?1:2&a?3:4&a?2:0),e}function kt(){this._track=[]}var Tt=vt?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};function St(t){var e=t[1][0]-t[0][0],i=t[1][1]-t[0][1];return Math.sqrt(e*e+i*i)}kt.prototype={constructor:kt,recognize:function(t,e,i){return this._doTrack(t,e,i),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,i){var r=t.touches;if(r){for(var n={points:[],touches:[],target:e,event:t},a=0,o=r.length;a<o;a++){var s=r[a],h=yt(i,s,{});n.points.push([h.zrX,h.zrY]),n.touches.push(s)}this._track.push(n)}},_recognize:function(t){for(var e in Ct)if(Ct.hasOwnProperty(e)){var i=Ct[e](this._track,t);if(i)return i}}};var Ct={pinch:function(t,e){var i=t.length;if(i){var r=(t[i-1]||{}).points,n=(t[i-2]||{}).points||r;if(n&&1<n.length&&r&&1<r.length){var a=St(r)/St(n);isFinite(a)||(a=1),e.pinchScale=a;var o=function(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}(r);return e.pinchX=o[0],e.pinchY=o[1],{type:"pinch",target:t[0].target,event:e}}}}},Mt="silent";function Pt(){Tt(this.event)}function At(){}At.prototype.dispose=function(){};function Lt(t,e,i,r){ut.call(this),this.storage=t,this.painter=e,this.painterRoot=r,i=i||new At,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,ht.call(this),this.setHandlerProxy(i)}var zt=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];function Dt(t,e,i){if(t[t.rectHover?"rectContain":"contain"](e,i)){for(var r,n=t;n;){if(n.clipPath&&!n.clipPath.contain(e,i))return!1;n.silent&&(r=!0),n=n.parent}return!r||Mt}return!1}function Bt(t,e,i){var r=t.painter;return e<0||e>r.getWidth()||i<0||i>r.getHeight()}Lt.prototype={constructor:Lt,setHandlerProxy:function(e){this.proxy&&this.proxy.dispose(),e&&(T(zt,function(t){e.on&&e.on(t,this[t],this)},this),e.handler=this),this.proxy=e},mousemove:function(t){var e=t.zrX,i=t.zrY,r=Bt(this,e,i),n=this._hovered,a=n.target;a&&!a.__zr&&(a=(n=this.findHover(n.x,n.y)).target);var o=this._hovered=r?{x:e,y:i}:this.findHover(e,i),s=o.target,h=this.proxy;h.setCursor&&h.setCursor(s?s.cursor:"default"),a&&s!==a&&this.dispatchToElement(n,"mouseout",t),this.dispatchToElement(o,"mousemove",t),s&&s!==a&&this.dispatchToElement(o,"mouseover",t)},mouseout:function(t){var e=t.zrEventControl,i=t.zrIsToLocalDOM;"only_globalout"!==e&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==e&&(i||this.trigger("globalout",{type:"globalout",event:t}))},resize:function(t){this._hovered={}},dispatch:function(t,e){var i=this[t];i&&i.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,i){var r=(t=t||{}).target;if(!r||!r.silent){for(var n="on"+e,a=function(t,e,i){return{type:t,event:i,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch,which:i.which,stop:Pt}}(e,t,i);r&&(r[n]&&(a.cancelBubble=r[n].call(r,a)),r.trigger(e,a),r=r.parent,!a.cancelBubble););a.cancelBubble||(this.trigger(e,a),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[n]&&t[n].call(t,a),t.trigger&&t.trigger(e,a)}))}},findHover:function(t,e,i){for(var r=this.storage.getDisplayList(),n={x:t,y:e},a=r.length-1;0<=a;a--){var o;if(r[a]!==i&&!r[a].ignore&&(o=Dt(r[a],t,e))&&(n.topTarget||(n.topTarget=r[a]),o!==Mt)){n.target=r[a];break}}return n},processGesture:function(t,e){this._gestureMgr||(this._gestureMgr=new kt);var i=this._gestureMgr;"start"===e&&i.clear();var r=i.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&i.clear(),r){var n=r.type;t.gestureEvent=n,this.dispatchToElement({target:r.target},n,r.event)}}},T(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(o){Lt.prototype[o]=function(t){var e,i,r=t.zrX,n=t.zrY,a=Bt(this,r,n);if("mouseup"===o&&a||(i=(e=this.findHover(r,n)).target),"mousedown"===o)this._downEl=i,this._downPoint=[t.zrX,t.zrY],this._upEl=i;else if("mouseup"===o)this._upEl=i;else if("click"===o){if(this._downEl!==this._upEl||!this._downPoint||4<et(this._downPoint,[t.zrX,t.zrY]))return;this._downPoint=null}this.dispatchToElement(e,o,t)}}),k(Lt,ut),k(Lt,ht);var It="undefined"==typeof Float32Array?Array:Float32Array;function Ot(){var t=new It(6);return Et(t),t}function Et(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function Rt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Ft(t,e,i){var r=e[0]*i[0]+e[2]*i[1],n=e[1]*i[0]+e[3]*i[1],a=e[0]*i[2]+e[2]*i[3],o=e[1]*i[2]+e[3]*i[3],s=e[0]*i[4]+e[2]*i[5]+e[4],h=e[1]*i[4]+e[3]*i[5]+e[5];return t[0]=r,t[1]=n,t[2]=a,t[3]=o,t[4]=s,t[5]=h,t}function Ht(t,e,i){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+i[0],t[5]=e[5]+i[1],t}function Nt(t,e,i){var r=e[0],n=e[2],a=e[4],o=e[1],s=e[3],h=e[5],l=Math.sin(i),u=Math.cos(i);return t[0]=r*u+o*l,t[1]=-r*l+o*u,t[2]=n*u+s*l,t[3]=-n*l+u*s,t[4]=u*a+l*h,t[5]=u*h-l*a,t}function Wt(t,e,i){var r=i[0],n=i[1];return t[0]=e[0]*r,t[1]=e[1]*n,t[2]=e[2]*r,t[3]=e[3]*n,t[4]=e[4]*r,t[5]=e[5]*n,t}function Vt(t,e){var i=e[0],r=e[2],n=e[4],a=e[1],o=e[3],s=e[5],h=i*o-a*r;return h?(h=1/h,t[0]=o*h,t[1]=-a*h,t[2]=-r*h,t[3]=i*h,t[4]=(r*s-o*n)*h,t[5]=(a*n-i*s)*h,t):null}var Xt=(Object.freeze||Object)({create:Ot,identity:Et,copy:Rt,mul:Ft,translate:Ht,rotate:Nt,scale:Wt,invert:Vt,clone:function(t){var e=Ot();return Rt(e,t),e}}),qt=Et;function jt(t){return 5e-5<t||t<-5e-5}function Yt(t){(t=t||{}).position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null}var Ut=Yt.prototype;Ut.transform=null,Ut.needLocalTransform=function(){return jt(this.rotation)||jt(this.position[0])||jt(this.position[1])||jt(this.scale[0]-1)||jt(this.scale[1]-1)};var Gt=[];Ut.updateTransform=function(){var t=this.parent,e=t&&t.transform,i=this.needLocalTransform(),r=this.transform;if(i||e){r=r||Ot(),i?this.getLocalTransform(r):qt(r),e&&(i?Ft(r,t.transform,r):Rt(r,t.transform)),this.transform=r;var n=this.globalScaleRatio;if(null!=n&&1!==n){this.getGlobalScale(Gt);var a=Gt[0]<0?-1:1,o=Gt[1]<0?-1:1,s=((Gt[0]-a)*n+a)/Gt[0]||0,h=((Gt[1]-o)*n+o)/Gt[1]||0;r[0]*=s,r[1]*=s,r[2]*=h,r[3]*=h}this.invTransform=this.invTransform||Ot(),Vt(this.invTransform,r)}else r&&qt(r)},Ut.getLocalTransform=function(t){return Yt.getLocalTransform(this,t)},Ut.setTransform=function(t){var e=this.transform,i=t.dpr||1;e?t.setTransform(i*e[0],i*e[1],i*e[2],i*e[3],i*e[4],i*e[5]):t.setTransform(i,0,0,i,0,0)},Ut.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var Zt=[],Qt=Ot();Ut.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],i=t[2]*t[2]+t[3]*t[3],r=this.position,n=this.scale;jt(e-1)&&(e=Math.sqrt(e)),jt(i-1)&&(i=Math.sqrt(i)),t[0]<0&&(e=-e),t[3]<0&&(i=-i),r[0]=t[4],r[1]=t[5],n[0]=e,n[1]=i,this.rotation=Math.atan2(-t[1]/i,t[0]/e)}},Ut.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(Ft(Zt,t.invTransform,e),e=Zt);var i=this.origin;i&&(i[0]||i[1])&&(Qt[4]=i[0],Qt[5]=i[1],Ft(Zt,e,Qt),Zt[4]-=i[0],Zt[5]-=i[1],e=Zt),this.setLocalTransform(e)}},Ut.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1])):(t[0]=1,t[1]=1),t},Ut.transformCoordToLocal=function(t,e){var i=[t,e],r=this.invTransform;return r&&nt(i,i,r),i},Ut.transformCoordToGlobal=function(t,e){var i=[t,e],r=this.transform;return r&&nt(i,i,r),i},Yt.getLocalTransform=function(t,e){qt(e=e||[]);var i=t.origin,r=t.scale||[1,1],n=t.rotation||0,a=t.position||[0,0];return i&&(e[4]-=i[0],e[5]-=i[1]),Wt(e,e,r),n&&Nt(e,e,n),i&&(e[4]+=i[0],e[5]+=i[1]),e[4]+=a[0],e[5]+=a[1],e};var $t={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,i=.1;return 0===t?0:1===t?1:(e=!i||i<1?(i=1,.1):.4*Math.asin(1/i)/(2*Math.PI),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(e=!i||i<1?(i=1,.1):.4*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(e=!i||i<1?(i=1,.1):.4*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){return t*t*(2.70158*t-1.70158)},backOut:function(t){return--t*t*(2.70158*t+1.70158)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((1+e)*t-e)*.5:.5*((t-=2)*t*((1+e)*t+e)+2)},bounceIn:function(t){return 1-$t.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*$t.bounceIn(2*t):.5*$t.bounceOut(2*t-1)+.5}};function Kt(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}Kt.prototype={constructor:Kt,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var i=(t-this._startTime-this._pausedTime)/this._life;if(!(i<0)){i=Math.min(i,1);var r=this.easing,n="string"==typeof r?$t[r]:r,a="function"==typeof n?n(i):i;return this.fire("frame",a),1===i?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){this[t="on"+t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};function Jt(){this.head=null,this.tail=null,this._len=0}var te=Jt.prototype;te.insert=function(t){var e=new ie(t);return this.insertEntry(e),e},te.insertEntry=function(t){this.head?((this.tail.next=t).prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},te.remove=function(t){var e=t.prev,i=t.next;e?e.next=i:this.head=i,i?i.prev=e:this.tail=e,t.next=t.prev=null,this._len--},te.len=function(){return this._len},te.clear=function(){this.head=this.tail=null,this._len=0};function ee(t){this._list=new Jt,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null}var ie=function(t){this.value=t,this.next,this.prev},re=ee.prototype;re.put=function(t,e){var i=this._list,r=this._map,n=null;if(null==r[t]){var a=i.len(),o=this._lastRemovedEntry;if(a>=this._maxSize&&0<a){var s=i.head;i.remove(s),delete r[s.key],n=s.value,this._lastRemovedEntry=s}o?o.value=e:o=new ie(e),o.key=t,i.insertEntry(o),r[t]=o}return n},re.get=function(t){var e=this._map[t],i=this._list;if(null!=e)return e!==i.tail&&(i.remove(e),i.insertEntry(e)),e.value},re.clear=function(){this._list.clear(),this._map={}};var ne={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ae(t){return(t=Math.round(t))<0?0:255<t?255:t}function oe(t){return t<0?0:1<t?1:t}function se(t){return t.length&&"%"===t.charAt(t.length-1)?ae(parseFloat(t)/100*255):ae(parseInt(t,10))}function he(t){return t.length&&"%"===t.charAt(t.length-1)?oe(parseFloat(t)/100):oe(parseFloat(t))}function le(t,e,i){return i<0?i+=1:1<i&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function ue(t,e,i){return t+(e-t)*i}function ce(t,e,i,r,n){return t[0]=e,t[1]=i,t[2]=r,t[3]=n,t}function fe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var de=new ee(20),pe=null;function ve(t,e){pe&&fe(pe,e),pe=de.put(t,pe||e.slice())}function ge(t,e){if(t){e=e||[];var i=de.get(t);if(i)return fe(e,i);var r,n=(t+="").replace(/ /g,"").toLowerCase();if(n in ne)return fe(e,ne[n]),ve(t,e),e;if("#"===n.charAt(0))return 4===n.length?0<=(r=parseInt(n.substr(1),16))&&r<=4095?(ce(e,(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,1),ve(t,e),e):void ce(e,0,0,0,1):7===n.length?0<=(r=parseInt(n.substr(1),16))&&r<=16777215?(ce(e,(16711680&r)>>16,(65280&r)>>8,255&r,1),ve(t,e),e):void ce(e,0,0,0,1):void 0;var a=n.indexOf("("),o=n.indexOf(")");if(-1!==a&&o+1===n.length){var s=n.substr(0,a),h=n.substr(a+1,o-(a+1)).split(","),l=1;switch(s){case"rgba":if(4!==h.length)return void ce(e,0,0,0,1);l=he(h.pop());case"rgb":return 3!==h.length?void ce(e,0,0,0,1):(ce(e,se(h[0]),se(h[1]),se(h[2]),l),ve(t,e),e);case"hsla":return 4!==h.length?void ce(e,0,0,0,1):(h[3]=he(h[3]),_e(h,e),ve(t,e),e);case"hsl":return 3!==h.length?void ce(e,0,0,0,1):(_e(h,e),ve(t,e),e);default:return}}ce(e,0,0,0,1)}}function _e(t,e){var i=(parseFloat(t[0])%360+360)%360/360,r=he(t[1]),n=he(t[2]),a=n<=.5?n*(r+1):n+r-n*r,o=2*n-a;return ce(e=e||[],ae(255*le(o,a,i+1/3)),ae(255*le(o,a,i)),ae(255*le(o,a,i-1/3)),1),4===t.length&&(e[3]=t[3]),e}function me(t){var e=ge(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function ye(t,e,i){if(e&&e.length&&0<=t&&t<=1){i=i||[];var r=t*(e.length-1),n=Math.floor(r),a=Math.ceil(r),o=e[n],s=e[a],h=r-n;return i[0]=ae(ue(o[0],s[0],h)),i[1]=ae(ue(o[1],s[1],h)),i[2]=ae(ue(o[2],s[2],h)),i[3]=oe(ue(o[3],s[3],h)),i}}var xe=ye;function we(t,e,i){if(e&&e.length&&0<=t&&t<=1){var r=t*(e.length-1),n=Math.floor(r),a=Math.ceil(r),o=ge(e[n]),s=ge(e[a]),h=r-n,l=ke([ae(ue(o[0],s[0],h)),ae(ue(o[1],s[1],h)),ae(ue(o[2],s[2],h)),oe(ue(o[3],s[3],h))],"rgba");return i?{color:l,leftIndex:n,rightIndex:a,value:r}:l}}var be=we;function ke(t,e){if(t&&t.length){var i=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(i+=","+t[3]),e+"("+i+")"}}var Te=(Object.freeze||Object)({parse:ge,lift:function(t,e){var i=ge(t);if(i){for(var r=0;r<3;r++)i[r]=e<0?i[r]*(1-e)|0:(255-i[r])*e+i[r]|0,255<i[r]?i[r]=255:t[r]<0&&(i[r]=0);return ke(i,4===i.length?"rgba":"rgb")}},toHex:me,fastLerp:ye,fastMapToColor:xe,lerp:we,mapToColor:be,modifyHSL:function(t,e,i,r){if(t=ge(t))return t=function(t){if(t){var e,i,r=t[0]/255,n=t[1]/255,a=t[2]/255,o=Math.min(r,n,a),s=Math.max(r,n,a),h=s-o,l=(s+o)/2;if(0==h)i=e=0;else{i=l<.5?h/(s+o):h/(2-s-o);var u=((s-r)/6+h/2)/h,c=((s-n)/6+h/2)/h,f=((s-a)/6+h/2)/h;r===s?e=f-c:n===s?e=1/3+u-f:a===s&&(e=2/3+c-u),e<0&&(e+=1),1<e&&(e-=1)}var d=[360*e,i,l];return null!=t[3]&&d.push(t[3]),d}}(t),null!=e&&(t[0]=function(t){return(t=Math.round(t))<0?0:360<t?360:t}(e)),null!=i&&(t[1]=he(i)),null!=r&&(t[2]=he(r)),ke(_e(t),"rgba")},modifyAlpha:function(t,e){if((t=ge(t))&&null!=e)return t[3]=oe(e),ke(t,"rgba")},stringify:ke}),Se=Array.prototype.slice;function Ce(t,e){return t[e]}function Me(t,e,i){t[e]=i}function Pe(t,e,i){return(e-t)*i+t}function Ae(t,e,i){return.5<i?e:t}function Le(t,e,i,r,n){var a=t.length;if(1===n)for(var o=0;o<a;o++)r[o]=Pe(t[o],e[o],i);else{var s=a&&t[0].length;for(o=0;o<a;o++)for(var h=0;h<s;h++)r[o][h]=Pe(t[o][h],e[o][h],i)}}function ze(t,e,i){var r=t.length,n=e.length;if(r!==n)if(n<r)t.length=n;else for(var a=r;a<n;a++)t.push(1===i?e[a]:Se.call(e[a]));var o=t[0]&&t[0].length;for(a=0;a<t.length;a++)if(1===i)isNaN(t[a])&&(t[a]=e[a]);else for(var s=0;s<o;s++)isNaN(t[a][s])&&(t[a][s]=e[a][s])}function De(t,e,i){if(t===e)return!0;var r=t.length;if(r!==e.length)return!1;if(1===i){for(var n=0;n<r;n++)if(t[n]!==e[n])return!1}else{var a=t[0].length;for(n=0;n<r;n++)for(var o=0;o<a;o++)if(t[n][o]!==e[n][o])return!1}return!0}function Be(t,e,i,r,n,a,o,s,h){var l=t.length;if(1===h)for(var u=0;u<l;u++)s[u]=Ie(t[u],e[u],i[u],r[u],n,a,o);else{var c=t[0].length;for(u=0;u<l;u++)for(var f=0;f<c;f++)s[u][f]=Ie(t[u][f],e[u][f],i[u][f],r[u][f],n,a,o)}}function Ie(t,e,i,r,n,a,o){var s=.5*(i-t),h=.5*(r-e);return(2*(e-i)+s+h)*o+(-3*(e-i)-2*s-h)*a+s*n+e}function Oe(t){if(D(t)){var e=t.length;if(D(t[0])){for(var i=[],r=0;r<e;r++)i.push(Se.call(t[r]));return i}return Se.call(t)}return t}function Ee(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function Re(t,e,i,r,a,n){var o=t._getter,s=t._setter,h="spline"===e,l=r.length;if(l){var u,c=D(r[0].value),f=!1,d=!1,p=c?function(t){var e=t[t.length-1].value;return D(e&&e[0])?2:1}(r):0;r.sort(function(t,e){return t.time-e.time}),u=r[l-1].time;for(var v=[],g=[],_=r[0].value,m=!0,y=0;y<l;y++){v.push(r[y].time/u);var x=r[y].value;if(c&&De(x,_,p)||!c&&x===_||(m=!1),"string"==typeof(_=x)){var w=ge(x);w?(x=w,f=!0):d=!0}g.push(x)}if(n||!m){var b=g[l-1];for(y=0;y<l-1;y++)c?ze(g[y],b,p):!isNaN(g[y])||isNaN(b)||d||f||(g[y]=b);c&&ze(o(t._target,a),b,p);var k,T,S,C,M,P=0,A=0;if(f)var L=[0,0,0,0];var z=new Kt({target:t._target,life:u,loop:t._loop,delay:t._delay,onframe:function(t,e){var i;if(e<0)i=0;else if(e<A){for(i=Math.min(P+1,l-1);0<=i&&!(v[i]<=e);i--);i=Math.min(i,l-2)}else{for(i=P;i<l&&!(v[i]>e);i++);i=Math.min(i-1,l-2)}A=e;var r=v[(P=i)+1]-v[i];if(0!=r)if(k=(e-v[i])/r,h)if(S=g[i],T=g[0===i?i:i-1],C=g[l-2<i?l-1:i+1],M=g[l-3<i?l-1:i+2],c)Be(T,S,C,M,k,k*k,k*k*k,o(t,a),p);else{if(f)n=Be(T,S,C,M,k,k*k,k*k*k,L,1),n=Ee(L);else{if(d)return Ae(S,C,k);n=Ie(T,S,C,M,k,k*k,k*k*k)}s(t,a,n)}else if(c)Le(g[i],g[i+1],k,o(t,a),p);else{var n;if(f)Le(g[i],g[i+1],k,L,1),n=Ee(L);else{if(d)return Ae(g[i],g[i+1],k);n=Pe(g[i],g[i+1],k)}s(t,a,n)}},ondestroy:i});return e&&"spline"!==e&&(z.easing=e),z}}}function Fe(t,e,i,r){this._tracks={},this._target=t,this._loop=e||!1,this._getter=i||Ce,this._setter=r||Me,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]}Fe.prototype={when:function(t,e){var i=this._tracks;for(var r in e)if(e.hasOwnProperty(r)){if(!i[r]){i[r]=[];var n=this._getter(this._target,r);if(null==n)continue;0!==t&&i[r].push({time:0,value:Oe(n)})}i[r].push({time:t,value:e[r]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,i=0;i<e;i++)t[i].call(this)},start:function(t,e){function i(){--a||n._doneCallback()}var r,n=this,a=0;for(var o in this._tracks)if(this._tracks.hasOwnProperty(o)){var s=Re(this,t,i,this._tracks[o],o,e);s&&(this._clipList.push(s),a++,this.animation&&this.animation.addClip(s),r=s)}if(r){var h=r.onframe;r.onframe=function(t,e){h(t,e);for(var i=0;i<n._onframeList.length;i++)n._onframeList[i](t,e)}}return a||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,i=this.animation,r=0;r<e.length;r++){var n=e[r];t&&n.onframe(this._target,1),i&&i.removeClip(n)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};var He=1;"undefined"!=typeof window&&(He=Math.max(window.devicePixelRatio||1,1));var Ne=He,We=function(){};function Ve(){this.animators=[]}var Xe=We;function qe(t,e,i,r,n,a,o,s){A(r)?(a=n,n=r,r=0):P(n)?(a=n,n="linear",r=0):P(r)?(a=r,r=0):i=P(i)?(a=i,500):i||500,t.stopAnimation(),function t(e,i,r,n,a,o,s){var h={};var l=0;for(var u in n)n.hasOwnProperty(u)&&(null!=r[u]?L(n[u])&&!D(n[u])?t(e,i?i+"."+u:u,r[u],n[u],a,o,s):(s?(h[u]=r[u],je(e,i,u,n[u])):h[u]=n[u],l++):null==n[u]||s||je(e,i,u,n[u]));0<l&&e.animate(i,!1).when(null==a?500:a,h).delay(o||0)}(t,"",t,e,i,r,s);var h=t.animators.slice(),l=h.length;function u(){--l||a&&a()}l||a&&a();for(var c=0;c<h.length;c++)h[c].done(u).start(n,o)}function je(t,e,i,r){if(e){var n={};n[e]={},n[e][i]=r,t.attr(n)}else t.attr(i,r)}Ve.prototype={constructor:Ve,animate:function(t,e){var i,r=!1,n=this,a=this.__zr;if(t){var o=t.split("."),s=n;r="shape"===o[0];for(var h=0,l=o.length;h<l;h++)s=s&&s[o[h]];s&&(i=s)}else i=n;if(i){var u=n.animators,c=new Fe(i,e);return c.during(function(t){n.dirty(r)}).done(function(){u.splice(w(u,c),1)}),u.push(c),a&&a.animation.addAnimator(c),c}Xe(\'Property "\'+t+\'" is not existed in element \'+n.id)},stopAnimation:function(t){for(var e=this.animators,i=e.length,r=0;r<i;r++)e[r].stop(t);return e.length=0,this},animateTo:function(t,e,i,r,n,a){qe(this,t,e,i,r,n,a)},animateFrom:function(t,e,i,r,n,a){qe(this,t,e,i,r,n,a,!0)}};var Ye=function(t){Yt.call(this,t),ut.call(this,t),Ve.call(this,t),this.id=t.id||r()};Ye.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var i=this.transform;(i=i||(this.transform=[1,0,0,1,0,0]))[4]+=t,i[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var i=this[t];(i=i||(this[t]=[]))[0]=e[0],i[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(L(t))for(var i in t)t.hasOwnProperty(i)&&this.attrKV(i,t[i]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),(this.clipPath=t).__zr=e,(t.__clipTarget=this).dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.addAnimator(e[i]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.removeAnimator(e[i]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},k(Ye,Ve),k(Ye,Yt),k(Ye,ut);var Ue,Ge,Ze,Qe,$e=nt,Ke=Math.min,Je=Math.max;function ti(t,e,i,r){i<0&&(t+=i,i=-i),r<0&&(e+=r,r=-r),this.x=t,this.y=e,this.width=i,this.height=r}ti.prototype={constructor:ti,union:function(t){var e=Ke(t.x,this.x),i=Ke(t.y,this.y);this.width=Je(t.x+t.width,this.x+this.width)-e,this.height=Je(t.y+t.height,this.y+this.height)-i,this.x=e,this.y=i},applyTransform:(Ue=[],Ge=[],Ze=[],Qe=[],function(t){if(t){Ue[0]=Ze[0]=this.x,Ue[1]=Qe[1]=this.y,Ge[0]=Qe[0]=this.x+this.width,Ge[1]=Ze[1]=this.y+this.height,$e(Ue,Ue,t),$e(Ge,Ge,t),$e(Ze,Ze,t),$e(Qe,Qe,t),this.x=Ke(Ue[0],Ge[0],Ze[0],Qe[0]),this.y=Ke(Ue[1],Ge[1],Ze[1],Qe[1]);var e=Je(Ue[0],Ge[0],Ze[0],Qe[0]),i=Je(Ue[1],Ge[1],Ze[1],Qe[1]);this.width=e-this.x,this.height=i-this.y}}),calculateTransform:function(t){var e=t.width/this.width,i=t.height/this.height,r=Ot();return Ht(r,r,[-this.x,-this.y]),Wt(r,r,[e,i]),Ht(r,r,[t.x,t.y]),r},intersect:function(t){if(!t)return!1;t instanceof ti||(t=ti.create(t));var e=this,i=e.x,r=e.x+e.width,n=e.y,a=e.y+e.height,o=t.x,s=t.x+t.width,h=t.y,l=t.y+t.height;return!(r<o||s<i||a<h||l<n)},contain:function(t,e){var i=this;return t>=i.x&&t<=i.x+i.width&&e>=i.y&&e<=i.y+i.height},clone:function(){return new ti(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}};function ei(t){for(var e in t=t||{},Ye.call(this,t),t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0}ei.prototype={constructor:ei,isGroup:!0,type:"group",silent:!(ti.create=function(t){return new ti(t.x,t.y,t.width,t.height)}),children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,i=0;i<e.length;i++)if(e[i].name===t)return e[i]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var i=this._children,r=i.indexOf(e);0<=r&&(i.splice(r,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t);var e=(t.parent=this).__storage,i=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof ei&&t.addChildrenToStorage(e)),i&&i.refresh()},remove:function(t){var e=this.__zr,i=this.__storage,r=this._children,n=w(r,t);return n<0||(r.splice(n,1),t.parent=null,i&&(i.delFromStorage(t),t instanceof ei&&t.delChildrenFromStorage(i)),e&&e.refresh()),this},removeAll:function(){var t,e,i=this._children,r=this.__storage;for(e=0;e<i.length;e++)t=i[e],r&&(r.delFromStorage(t),t instanceof ei&&t.delChildrenFromStorage(r)),t.parent=null;return i.length=0,this},eachChild:function(t,e){for(var i=this._children,r=0;r<i.length;r++){var n=i[r];t.call(e,n,r)}return this},traverse:function(t,e){for(var i=0;i<this._children.length;i++){var r=this._children[i];t.call(e,r),"group"===r.type&&r.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.addToStorage(i),i instanceof ei&&i.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.delFromStorage(i),i instanceof ei&&i.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,i=new ti(0,0,0,0),r=t||this._children,n=[],a=0;a<r.length;a++){var o=r[a];if(!o.ignore&&!o.invisible){var s=o.getBoundingRect(),h=o.getLocalTransform(n);h?(i.copy(s),i.applyTransform(h),(e=e||i.clone()).union(i)):(e=e||s.clone()).union(s)}}return e||i}},b(ei,Ye);var ii=32,ri=7;function ni(t,e,i,r){var n=e+1;if(n===i)return 1;if(r(t[n++],t[e])<0){for(;n<i&&r(t[n],t[n-1])<0;)n++;!function(t,e,i){i--;for(;e<i;){var r=t[e];t[e++]=t[i],t[i--]=r}}(t,e,n)}else for(;n<i&&0<=r(t[n],t[n-1]);)n++;return n-e}function ai(t,e,i,r,n){for(r===e&&r++;r<i;r++){for(var a,o=t[r],s=e,h=r;s<h;)n(o,t[a=s+h>>>1])<0?h=a:s=1+a;var l=r-s;switch(l){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;0<l;)t[s+l]=t[s+l-1],l--}t[s]=o}}function oi(t,e,i,r,n,a){var o=0,s=0,h=1;if(0<a(t,e[i+n])){for(s=r-n;h<s&&0<a(t,e[i+n+h]);)(h=1+((o=h)<<1))<=0&&(h=s);s<h&&(h=s),o+=n,h+=n}else{for(s=n+1;h<s&&a(t,e[i+n-h])<=0;)(h=1+((o=h)<<1))<=0&&(h=s);s<h&&(h=s);var l=o;o=n-h,h=n-l}for(o++;o<h;){var u=o+(h-o>>>1);0<a(t,e[i+u])?o=u+1:h=u}return h}function si(t,e,i,r,n,a){var o=0,s=0,h=1;if(a(t,e[i+n])<0){for(s=n+1;h<s&&a(t,e[i+n-h])<0;)(h=1+((o=h)<<1))<=0&&(h=s);s<h&&(h=s);var l=o;o=n-h,h=n-l}else{for(s=r-n;h<s&&0<=a(t,e[i+n+h]);)(h=1+((o=h)<<1))<=0&&(h=s);s<h&&(h=s),o+=n,h+=n}for(o++;o<h;){var u=o+(h-o>>>1);a(t,e[i+u])<0?h=u:o=u+1}return h}function hi(p,v){var o,s,g=ri,h=0,_=[];function e(t){var e=o[t],i=s[t],r=o[t+1],n=s[t+1];s[t]=i+n,t===h-3&&(o[t+1]=o[t+2],s[t+1]=s[t+2]),h--;var a=si(p[r],p,e,i,0,v);e+=a,0!==(i-=a)&&0!==(n=oi(p[e+i-1],p,r,n,n-1,v))&&(i<=n?function(t,e,i,r){var n=0;for(n=0;n<e;n++)_[n]=p[t+n];var a=0,o=i,s=t;if(p[s++]=p[o++],0==--r){for(n=0;n<e;n++)p[s+n]=_[a+n];return}if(1===e){for(n=0;n<r;n++)p[s+n]=p[o+n];return p[s+r]=_[a]}var h,l,u,c=g;for(;;){l=h=0,u=!1;do{if(v(p[o],_[a])<0){if(p[s++]=p[o++],l++,(h=0)==--r){u=!0;break}}else if(p[s++]=_[a++],h++,l=0,1==--e){u=!0;break}}while((h|l)<c);if(u)break;do{if(0!==(h=si(p[o],_,a,e,0,v))){for(n=0;n<h;n++)p[s+n]=_[a+n];if(s+=h,a+=h,(e-=h)<=1){u=!0;break}}if(p[s++]=p[o++],0==--r){u=!0;break}if(0!==(l=oi(_[a],p,o,r,0,v))){for(n=0;n<l;n++)p[s+n]=p[o+n];if(s+=l,o+=l,0===(r-=l)){u=!0;break}}if(p[s++]=_[a++],1==--e){u=!0;break}c--}while(ri<=h||ri<=l);if(u)break;c<0&&(c=0),c+=2}if((g=c)<1&&(g=1),1===e){for(n=0;n<r;n++)p[s+n]=p[o+n];p[s+r]=_[a]}else{if(0===e)throw new Error;for(n=0;n<e;n++)p[s+n]=_[a+n]}}(e,i,r,n):function(t,e,i,r){var n=0;for(n=0;n<r;n++)_[n]=p[i+n];var a=t+e-1,o=r-1,s=i+r-1,h=0,l=0;if(p[s--]=p[a--],0==--e){for(h=s-(r-1),n=0;n<r;n++)p[h+n]=_[n];return}if(1===r){for(l=(s-=e)+1,h=(a-=e)+1,n=e-1;0<=n;n--)p[l+n]=p[h+n];return p[s]=_[o]}var u=g;for(;;){var c=0,f=0,d=!1;do{if(v(_[o],p[a])<0){if(p[s--]=p[a--],c++,(f=0)==--e){d=!0;break}}else if(p[s--]=_[o--],f++,c=0,1==--r){d=!0;break}}while((c|f)<u);if(d)break;do{if(0!==(c=e-si(_[o],p,t,e,e-1,v))){for(e-=c,l=(s-=c)+1,h=(a-=c)+1,n=c-1;0<=n;n--)p[l+n]=p[h+n];if(0===e){d=!0;break}}if(p[s--]=_[o--],1==--r){d=!0;break}if(0!==(f=r-oi(p[a],_,0,r,r-1,v))){for(r-=f,l=(s-=f)+1,h=(o-=f)+1,n=0;n<f;n++)p[l+n]=_[h+n];if(r<=1){d=!0;break}}if(p[s--]=p[a--],0==--e){d=!0;break}u--}while(ri<=c||ri<=f);if(d)break;u<0&&(u=0),u+=2}(g=u)<1&&(g=1);if(1===r){for(l=(s-=e)+1,h=(a-=e)+1,n=e-1;0<=n;n--)p[l+n]=p[h+n];p[s]=_[o]}else{if(0===r)throw new Error;for(h=s-(r-1),n=0;n<r;n++)p[h+n]=_[n]}}(e,i,r,n))}o=[],s=[],this.mergeRuns=function(){for(;1<h;){var t=h-2;if(1<=t&&s[t-1]<=s[t]+s[t+1]||2<=t&&s[t-2]<=s[t]+s[t-1])s[t-1]<s[t+1]&&t--;else if(s[t]>s[t+1])break;e(t)}},this.forceMergeRuns=function(){for(;1<h;){var t=h-2;0<t&&s[t-1]<s[t+1]&&t--,e(t)}},this.pushRun=function(t,e){o[h]=t,s[h]=e,h+=1}}function li(t,e,i,r){i=i||0;var n=(r=r||t.length)-i;if(!(n<2)){var a=0;if(n<ii)ai(t,i,r,i+(a=ni(t,i,r,e)),e);else{var o=new hi(t,e),s=function(t){for(var e=0;ii<=t;)e|=1&t,t>>=1;return t+e}(n);do{if((a=ni(t,i,r,e))<s){var h=n;s<h&&(h=s),ai(t,i,i+h,i+a,e),a=h}o.pushRun(i,a),o.mergeRuns(),n-=a,i+=a}while(0!==n);o.forceMergeRuns()}}}function ui(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}function ci(){this._roots=[],this._displayList=[],this._displayListLen=0}ci.prototype={constructor:ci,traverse:function(t,e){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,i=this._displayList,r=0,n=e.length;r<n;r++)this._updateAndAddDisplayable(e[r],null,t);i.length=this._displayListLen,_.canvasSupported&&li(i,ui)},_updateAndAddDisplayable:function(t,e,i){if(!t.ignore||i){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var r=t.clipPath;if(r){e=e?e.slice():[];for(var n=r,a=t;n;)n.parent=a,n.updateTransform(),e.push(n),n=(a=n).clipPath}if(t.isGroup){for(var o=t._children,s=0;s<o.length;s++){var h=o[s];t.__dirty&&(h.__dirty=!0),this._updateAndAddDisplayable(h,e,i)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof ei&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var e=0;e<this._roots.length;e++){var i=this._roots[e];i instanceof ei&&i.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array){e=0;for(var r=t.length;e<r;e++)this.delRoot(t[e])}else{var n=w(this._roots,t);0<=n&&(this.delFromStorage(t),this._roots.splice(n,1),t instanceof ei&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t&&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:ui};var fi={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},di=function(t,e,i){return fi.hasOwnProperty(e)?i*t.dpr:i},pi={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},vi=9,gi=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],_i=function(t){this.extendFrom(t,!1)};function mi(t,e,i){var r=null==e.x?0:e.x,n=null==e.x2?1:e.x2,a=null==e.y?0:e.y,o=null==e.y2?0:e.y2;return e.global||(r=r*i.width+i.x,n=n*i.width+i.x,a=a*i.height+i.y,o=o*i.height+i.y),r=isNaN(r)?0:r,n=isNaN(n)?1:n,a=isNaN(a)?0:a,o=isNaN(o)?0:o,t.createLinearGradient(r,a,n,o)}function yi(t,e,i){var r=i.width,n=i.height,a=Math.min(r,n),o=null==e.x?.5:e.x,s=null==e.y?.5:e.y,h=null==e.r?.5:e.r;return e.global||(o=o*r+i.x,s=s*n+i.y,h*=a),t.createRadialGradient(o,s,0,o,s,h)}_i.prototype={constructor:_i,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,i){var r=this,n=i&&i.style,a=!n||t.__attrCachedBy!==pi.STYLE_BIND;t.__attrCachedBy=pi.STYLE_BIND;for(var o=0;o<gi.length;o++){var s=gi[o],h=s[0];!a&&r[h]===n[h]||(t[h]=di(t,h,r[h]||s[1]))}if(!a&&r.fill===n.fill||(t.fillStyle=r.fill),!a&&r.stroke===n.stroke||(t.strokeStyle=r.stroke),!a&&r.opacity===n.opacity||(t.globalAlpha=null==r.opacity?1:r.opacity),!a&&r.blend===n.blend||(t.globalCompositeOperation=r.blend||"source-over"),this.hasStroke()){var l=r.lineWidth;t.lineWidth=l/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&0<this.lineWidth},extendFrom:function(t,e){if(t)for(var i in t)!t.hasOwnProperty(i)||!0!==e&&(!1===e?this.hasOwnProperty(i):null==t[i])||(this[i]=t[i])},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,i){for(var r=("radial"===e.type?yi:mi)(t,e,i),n=e.colorStops,a=0;a<n.length;a++)r.addColorStop(n[a].offset,n[a].color);return r}};for(var xi=_i.prototype,wi=0;wi<gi.length;wi++){var bi=gi[wi];bi[0]in xi||(xi[bi[0]]=bi[1])}_i.getGradient=xi.getGradient;function ki(t,e){this.image=t,this.repeat=e,this.type="pattern"}function Ti(){return!1}function Si(t,e,i){var r=m(),n=e.getWidth(),a=e.getHeight(),o=r.style;return o&&(o.position="absolute",o.left=0,o.top=0,o.width=n+"px",o.height=a+"px",r.setAttribute("data-zr-dom-id",t)),r.width=n*i,r.height=a*i,r}function Ci(t,e,i){var r;i=i||Ne,"string"==typeof t?r=Si(t,e,i):L(t)&&(t=(r=t).id),this.id=t;var n=(this.dom=r).style;n&&(r.onselectstart=Ti,n["-webkit-user-select"]="none",n["user-select"]="none",n["-webkit-touch-callout"]="none",n["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",n.padding=0,n.margin=0,n["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=i}Ci.prototype={constructor:Ci,__dirty:!0,__used:!(ki.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")}),__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=Si("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},resize:function(t,e){var i=this.dpr,r=this.dom,n=r.style,a=this.domBack;n&&(n.width=t+"px",n.height=e+"px"),r.width=t*i,r.height=e*i,a&&(a.width=t*i,a.height=e*i,1!==i&&this.ctxBack.scale(i,i))},clear:function(t,e){var i,r=this.dom,n=this.ctx,a=r.width,o=r.height,s=(e=e||this.clearColor,this.motionBlur&&!t),h=this.lastFrameAlpha,l=this.dpr;s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(r,0,0,a/l,o/l)),n.clearRect(0,0,a,o),e&&"transparent"!==e&&(e.colorStops?(i=e.__canvasGradient||_i.getGradient(n,e,{x:0,y:0,width:a,height:o}),e.__canvasGradient=i):e.image&&(i=ki.prototype.getCanvasPattern.call(e,n)),n.save(),n.fillStyle=i||e,n.fillRect(0,0,a,o),n.restore());if(s){var u=this.domBack;n.save(),n.globalAlpha=h,n.drawImage(u,0,0,a,o),n.restore()}}};var Mi="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)},Pi=new ee(50);function Ai(t){if("string"!=typeof t)return t;var e=Pi.get(t);return e&&e.image}function Li(t,e,i,r,n){if(t){if("string"!=typeof t)return t;if(e&&e.__zrImageSrc===t||!i)return e;var a=Pi.get(t),o={hostEl:i,cb:r,cbPayload:n};return a?Di(e=a.image)||a.pending.push(o):((e=new Image).onload=e.onerror=zi,Pi.put(t,e.__cachedImgObj={image:e,pending:[o]}),e.src=e.__zrImageSrc=t),e}return e}function zi(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var i=t.pending[e],r=i.cb;r&&r(this,i.cbPayload),i.hostEl.dirty()}t.pending.length=0}function Di(t){return t&&t.width&&t.height}var Bi={},Ii=0,Oi=5e3,Ei=/\\{([a-zA-Z0-9_]+)\\|([^}]*)\\}/g,Ri="12px sans-serif",Fi={};function Hi(t,e){var i=t+":"+(e=e||Ri);if(Bi[i])return Bi[i];for(var r,n,a=(t+"").split("\\n"),o=0,s=0,h=a.length;s<h;s++)o=Math.max((r=a[s],n=e,Fi.measureText(r,n)).width,o);return Oi<Ii&&(Ii=0,Bi={}),Ii++,Bi[i]=o}function Ni(t,e,i,r,n,a,o,s){return o?function(t,e,i,r,n,a,o,s){var h=Qi(t,{rich:o,truncate:s,font:e,textAlign:i,textPadding:n,textLineHeight:a}),l=h.outerWidth,u=h.outerHeight,c=Wi(0,l,i),f=Vi(0,u,r);return new ti(c,f,l,u)}(t,e,i,r,n,a,o,s):function(t,e,i,r,n,a,o){var s=Zi(t,e,n,a,o),h=Hi(t,e);n&&(h+=n[1]+n[3]);var l=s.outerHeight,u=Wi(0,h,i),c=Vi(0,l,r),f=new ti(u,c,h,l);return f.lineHeight=s.lineHeight,f}(t,e,i,r,n,a,s)}function Wi(t,e,i){return"right"===i?t-=e:"center"===i&&(t-=e/2),t}function Vi(t,e,i){return"middle"===i?t-=e/2:"bottom"===i&&(t-=e),t}function Xi(t,e,i){var r=e.textPosition,n=e.textDistance,a=i.x,o=i.y;n=n||0;var s=i.height,h=i.width,l=s/2,u="left",c="top";switch(r){case"left":a-=n,o+=l,u="right",c="middle";break;case"right":a+=n+h,o+=l,c="middle";break;case"top":a+=h/2,o-=n,u="center",c="bottom";break;case"bottom":a+=h/2,o+=s+n,u="center";break;case"inside":a+=h/2,o+=l,u="center",c="middle";break;case"insideLeft":a+=n,o+=l,c="middle";break;case"insideRight":a+=h-n,o+=l,u="right",c="middle";break;case"insideTop":a+=h/2,o+=n,u="center";break;case"insideBottom":a+=h/2,o+=s-n,u="center",c="bottom";break;case"insideTopLeft":a+=n,o+=n;break;case"insideTopRight":a+=h-n,o+=n,u="right";break;case"insideBottomLeft":a+=n,o+=s-n,c="bottom";break;case"insideBottomRight":a+=h-n,o+=s-n,u="right",c="bottom"}return(t=t||{}).x=a,t.y=o,t.textAlign=u,t.textVerticalAlign=c,t}function qi(t,e,i,r,n){if(!e)return"";var a=(t+"").split("\\n");n=ji(e,i,r,n);for(var o=0,s=a.length;o<s;o++)a[o]=Yi(a[o],n);return a.join("\\n")}function ji(t,e,i,r){(r=v({},r)).font=e;i=I(i,"...");r.maxIterations=I(r.maxIterations,2);var n=r.minChar=I(r.minChar,0);r.cnCharWidth=Hi("国",e);var a=r.ascCharWidth=Hi("a",e);r.placeholder=I(r.placeholder,"");for(var o=t=Math.max(0,t-1),s=0;s<n&&a<=o;s++)o-=a;var h=Hi(i,e);return o<h&&(i="",h=0),o=t-h,r.ellipsis=i,r.ellipsisWidth=h,r.contentWidth=o,r.containerWidth=t,r}function Yi(t,e){var i=e.containerWidth,r=e.font,n=e.contentWidth;if(!i)return"";var a=Hi(t,r);if(a<=i)return t;for(var o=0;;o++){if(a<=n||o>=e.maxIterations){t+=e.ellipsis;break}var s=0===o?Ui(t,n,e.ascCharWidth,e.cnCharWidth):0<a?Math.floor(t.length*n/a):0;a=Hi(t=t.substr(0,s),r)}return""===t&&(t=e.placeholder),t}function Ui(t,e,i,r){for(var n=0,a=0,o=t.length;a<o&&n<e;a++){var s=t.charCodeAt(a);n+=0<=s&&s<=127?i:r}return a}function Gi(t){return Hi("国",t)}function Zi(t,e,i,r,n){null!=t&&(t+="");var a=I(r,Gi(e)),o=t?t.split("\\n"):[],s=o.length*a,h=s,l=!0;if(i&&(h+=i[0]+i[2]),t&&n){l=!1;var u=n.outerHeight,c=n.outerWidth;if(null!=u&&u<h)t="",o=[];else if(null!=c)for(var f=ji(c-(i?i[1]+i[3]:0),e,n.ellipsis,{minChar:n.minChar,placeholder:n.placeholder}),d=0,p=o.length;d<p;d++)o[d]=Yi(o[d],f)}return{lines:o,height:s,outerHeight:h,lineHeight:a,canCacheByTextString:l}}function Qi(t,e){var i={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return i;for(var r,n=Ei.lastIndex=0;null!=(r=Ei.exec(t));){var a=r.index;n<a&&$i(i,t.substring(n,a)),$i(i,r[2],r[1]),n=Ei.lastIndex}n<t.length&&$i(i,t.substring(n,t.length));var o=i.lines,s=0,h=0,l=[],u=e.textPadding,c=e.truncate,f=c&&c.outerWidth,d=c&&c.outerHeight;u&&(null!=f&&(f-=u[1]+u[3]),null!=d&&(d-=u[0]+u[2]));for(var p=0;p<o.length;p++){for(var v=o[p],g=0,_=0,m=0;m<v.tokens.length;m++){var y=(A=v.tokens[m]).styleName&&e.rich[A.styleName]||{},x=A.textPadding=y.textPadding,w=A.font=y.font||e.font,b=A.textHeight=I(y.textHeight,Gi(w));if(x&&(b+=x[0]+x[2]),A.height=b,A.lineHeight=O(y.textLineHeight,e.textLineHeight,b),A.textAlign=y&&y.textAlign||e.textAlign,A.textVerticalAlign=y&&y.textVerticalAlign||"middle",null!=d&&s+A.lineHeight>d)return{lines:[],width:0,height:0};A.textWidth=Hi(A.text,w);var k=y.textWidth,T=null==k||"auto"===k;if("string"==typeof k&&"%"===k.charAt(k.length-1))A.percentWidth=k,l.push(A),k=0;else{if(T){k=A.textWidth;var S=y.textBackgroundColor,C=S&&S.image;C&&Di(C=Ai(C))&&(k=Math.max(k,C.width*b/C.height))}var M=x?x[1]+x[3]:0;k+=M;var P=null!=f?f-_:null;null!=P&&P<k&&(!T||P<M?(A.text="",A.textWidth=k=0):(A.text=qi(A.text,P-M,w,c.ellipsis,{minChar:c.minChar}),A.textWidth=Hi(A.text,w),k=A.textWidth+M))}_+=A.width=k,y&&(g=Math.max(g,A.lineHeight))}v.width=_,s+=v.lineHeight=g,h=Math.max(h,_)}i.outerWidth=i.width=I(e.textWidth,h),i.outerHeight=i.height=I(e.textHeight,s),u&&(i.outerWidth+=u[1]+u[3],i.outerHeight+=u[0]+u[2]);for(p=0;p<l.length;p++){var A,L=(A=l[p]).percentWidth;A.width=parseInt(L,10)/100*h}return i}function $i(t,e,i){for(var r=""===e,n=e.split("\\n"),a=t.lines,o=0;o<n.length;o++){var s=n[o],h={styleName:i,text:s,isLineHolder:!s&&!r};if(o)a.push({tokens:[h]});else{var l=(a[a.length-1]||(a[0]={tokens:[]})).tokens,u=l.length;1===u&&l[0].isLineHolder?l[0]=h:!s&&u&&!r||l.push(h)}}}function Ki(t,e){var i,r,n,a,o,s=e.x,h=e.y,l=e.width,u=e.height,c=e.r;l<0&&(s+=l,l=-l),u<0&&(h+=u,u=-u),"number"==typeof c?i=r=n=a=c:c instanceof Array?1===c.length?i=r=n=a=c[0]:2===c.length?(i=n=c[0],r=a=c[1]):3===c.length?(i=c[0],r=a=c[1],n=c[2]):(i=c[0],r=c[1],n=c[2],a=c[3]):i=r=n=a=0,l<i+r&&(i*=l/(o=i+r),r*=l/o),l<n+a&&(n*=l/(o=n+a),a*=l/o),u<r+n&&(r*=u/(o=r+n),n*=u/o),u<i+a&&(i*=u/(o=i+a),a*=u/o),t.moveTo(s+i,h),t.lineTo(s+l-r,h),0!==r&&t.arc(s+l-r,h+r,r,-Math.PI/2,0),t.lineTo(s+l,h+u-n),0!==n&&t.arc(s+l-n,h+u-n,n,0,Math.PI/2),t.lineTo(s+a,h+u),0!==a&&t.arc(s+a,h+u-a,a,Math.PI/2,Math.PI),t.lineTo(s,h+i),0!==i&&t.arc(s+i,h+i,i,Math.PI,1.5*Math.PI)}Fi.measureText=function(t,e){var i=x();return i.font=e||Ri,i.measureText(t)};var Ji=Ri,tr={left:1,right:1,center:1},er={top:1,bottom:1,middle:1},ir=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],rr={},nr={};function ar(t){return or(t),T(t.rich,or),t}function or(t){if(t){t.font=function(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ");return e&&R(e)||t.textFont||t.font}(t);var e=t.textAlign;"middle"===e&&(e="center"),t.textAlign=null==e||tr[e]?e:"left";var i=t.textVerticalAlign||t.textBaseline;"center"===i&&(i="middle"),t.textVerticalAlign=null==i||er[i]?i:"top",t.textPadding&&(t.textPadding=E(t.textPadding))}}function sr(t,e,i,r,n,a){r.rich?function(t,e,i,r,n,a){a!==vi&&(e.__attrCachedBy=pi.NONE);var o=t.__textCotentBlock;o&&!t.__dirtyText||(o=t.__textCotentBlock=Qi(i,r));!function(t,e,i,r,n){var a=i.width,o=i.outerWidth,s=i.outerHeight,h=r.textPadding,l=dr(nr,t,r,n),u=l.baseX,c=l.baseY,f=l.textAlign,d=l.textVerticalAlign;hr(e,r,n,u,c);var p=Wi(u,o,f),v=Vi(c,s,d),g=p,_=v;h&&(g+=h[3],_+=h[0]);var m=g+a;ur(r)&&cr(t,e,r,p,v,o,s);for(var y=0;y<i.lines.length;y++){for(var x,w=i.lines[y],b=w.tokens,k=b.length,T=w.lineHeight,S=w.width,C=0,M=g,P=m,A=k-1;C<k&&(!(x=b[C]).textAlign||"left"===x.textAlign);)lr(t,e,x,r,T,_,M,"left"),S-=x.width,M+=x.width,C++;for(;0<=A&&"right"===(x=b[A]).textAlign;)lr(t,e,x,r,T,_,P,"right"),S-=x.width,P-=x.width,A--;for(M+=(a-(M-g)-(m-P)-S)/2;C<=A;)x=b[C],lr(t,e,x,r,T,_,M+x.width/2,"center"),M+=x.width,C++;_+=T}}(t,e,o,r,n)}(t,e,i,r,n,a):function(t,e,i,r,n,a){var o,s=ur(r),h=!1,l=e.__attrCachedBy===pi.PLAIN_TEXT;a!==vi?(a&&(o=a.style,h=!s&&l&&o),e.__attrCachedBy=s?pi.NONE:pi.PLAIN_TEXT):l&&(e.__attrCachedBy=pi.NONE);var u=r.font||Ji;h&&u===(o.font||Ji)||(e.font=u);var c=t.__computedFont;t.__styleFont!==u&&(t.__styleFont=u,c=t.__computedFont=e.font);var f=r.textPadding,d=r.textLineHeight,p=t.__textCotentBlock;p&&!t.__dirtyText||(p=t.__textCotentBlock=Zi(i,c,f,d,r.truncate));var v=p.outerHeight,g=p.lines,_=p.lineHeight,m=dr(nr,t,r,n),y=m.baseX,x=m.baseY,w=m.textAlign||"left",b=m.textVerticalAlign;hr(e,r,n,y,x);var k=Vi(x,v,b),T=y,S=k;if(s||f){var C=Hi(i,c);f&&(C+=f[1]+f[3]);var M=Wi(y,C,w);s&&cr(t,e,r,M,k,C,v),f&&(T=mr(y,w,f),S+=f[0])}e.textAlign=w,e.textBaseline="middle",e.globalAlpha=r.opacity||1;for(var P=0;P<ir.length;P++){var A=ir[P],L=A[0],z=A[1],D=r[L];h&&D===o[L]||(e[z]=di(e,z,D||A[2]))}S+=_/2;var B=r.textStrokeWidth,I=h?o.textStrokeWidth:null,O=!h||B!==I,E=!h||O||r.textStroke!==o.textStroke,R=vr(r.textStroke,B),F=gr(r.textFill);R&&(O&&(e.lineWidth=B),E&&(e.strokeStyle=R));F&&(h&&r.textFill===o.textFill||(e.fillStyle=F));if(1===g.length)R&&e.strokeText(g[0],T,S),F&&e.fillText(g[0],T,S);else for(P=0;P<g.length;P++)R&&e.strokeText(g[P],T,S),F&&e.fillText(g[P],T,S),S+=_}(t,e,i,r,n,a)}function hr(t,e,i,r,n){if(i&&e.textRotation){var a=e.textOrigin;"center"===a?(r=i.width/2+i.x,n=i.height/2+i.y):a&&(r=a[0]+i.x,n=a[1]+i.y),t.translate(r,n),t.rotate(-e.textRotation),t.translate(-r,-n)}}function lr(t,e,i,r,n,a,o,s){var h=r.rich[i.styleName]||{};h.text=i.text;var l=i.textVerticalAlign,u=a+n/2;"top"===l?u=a+i.height/2:"bottom"===l&&(u=a+n-i.height/2),!i.isLineHolder&&ur(h)&&cr(t,e,h,"right"===s?o-i.width:"center"===s?o-i.width/2:o,u-i.height/2,i.width,i.height);var c=i.textPadding;c&&(o=mr(o,s,c),u-=i.height/2-c[2]-i.textHeight/2),pr(e,"shadowBlur",O(h.textShadowBlur,r.textShadowBlur,0)),pr(e,"shadowColor",h.textShadowColor||r.textShadowColor||"transparent"),pr(e,"shadowOffsetX",O(h.textShadowOffsetX,r.textShadowOffsetX,0)),pr(e,"shadowOffsetY",O(h.textShadowOffsetY,r.textShadowOffsetY,0)),pr(e,"textAlign",s),pr(e,"textBaseline","middle"),pr(e,"font",i.font||Ji);var f=vr(h.textStroke||r.textStroke,p),d=gr(h.textFill||r.textFill),p=I(h.textStrokeWidth,r.textStrokeWidth);f&&(pr(e,"lineWidth",p),pr(e,"strokeStyle",f),e.strokeText(i.text,o,u)),d&&(pr(e,"fillStyle",d),e.fillText(i.text,o,u))}function ur(t){return!!(t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor)}function cr(t,e,i,r,n,a,o){var s=i.textBackgroundColor,h=i.textBorderWidth,l=i.textBorderColor,u=A(s);if(pr(e,"shadowBlur",i.textBoxShadowBlur||0),pr(e,"shadowColor",i.textBoxShadowColor||"transparent"),pr(e,"shadowOffsetX",i.textBoxShadowOffsetX||0),pr(e,"shadowOffsetY",i.textBoxShadowOffsetY||0),u||h&&l){e.beginPath();var c=i.textBorderRadius;c?Ki(e,{x:r,y:n,width:a,height:o,r:c}):e.rect(r,n,a,o),e.closePath()}if(u)if(pr(e,"fillStyle",s),null!=i.fillOpacity){var f=e.globalAlpha;e.globalAlpha=i.fillOpacity*i.opacity,e.fill(),e.globalAlpha=f}else e.fill();else if(L(s)){var d=s.image;(d=Li(d,null,t,fr,s))&&Di(d)&&e.drawImage(d,r,n,a,o)}if(h&&l)if(pr(e,"lineWidth",h),pr(e,"strokeStyle",l),null!=i.strokeOpacity){f=e.globalAlpha;e.globalAlpha=i.strokeOpacity*i.opacity,e.stroke(),e.globalAlpha=f}else e.stroke()}function fr(t,e){e.image=t}function dr(t,e,i,r){var n=i.x||0,a=i.y||0,o=i.textAlign,s=i.textVerticalAlign;if(r){var h=i.textPosition;if(h instanceof Array)n=r.x+_r(h[0],r.width),a=r.y+_r(h[1],r.height);else{var l=e&&e.calculateTextPosition?e.calculateTextPosition(rr,i,r):Xi(rr,i,r);n=l.x,a=l.y,o=o||l.textAlign,s=s||l.textVerticalAlign}var u=i.textOffset;u&&(n+=u[0],a+=u[1])}return(t=t||{}).baseX=n,t.baseY=a,t.textAlign=o,t.textVerticalAlign=s,t}function pr(t,e,i){return t[e]=di(t,e,i),t[e]}function vr(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function gr(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function _r(t,e){return"string"==typeof t?0<=t.lastIndexOf("%")?parseFloat(t)/100*e:parseFloat(t):t}function mr(t,e,i){return"right"===e?t-i[1]:"center"===e?t+i[3]/2-i[1]/2:t+i[3]}function yr(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}function xr(){}var wr=new ti;function br(t){for(var e in t=t||{},Ye.call(this,t),t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new _i(t.style,this),this._rect=null,this.__clipPaths=null}function kr(t){br.call(this,t)}br.prototype={constructor:br,type:"displayable",__dirty:!0,invisible:!(xr.prototype={constructor:xr,drawRectText:function(t,e){var i=this.style;e=i.textRect||e,this.__dirty&&ar(i);var r=i.text;if(null!=r&&(r+=""),yr(r,i)){t.save();var n=this.transform;i.transformText?this.setTransform(t):n&&(wr.copy(e),wr.applyTransform(n),e=wr),sr(this,t,r,i,e,vi),t.restore()}}}),z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var i=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(i[0],i[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?Ye.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new _i(t,this),this.dirty(!1),this},calculateTextPosition:null},b(br,Ye),k(br,xr),kr.prototype={constructor:kr,type:"image",brush:function(t,e){var i=this.style,r=i.image;i.bind(t,this,e);var n=this._image=Li(r,this._image,this,this.onload);if(n&&Di(n)){var a=i.x||0,o=i.y||0,s=i.width,h=i.height,l=n.width/n.height;if(null==s&&null!=h?s=h*l:null==h&&null!=s?h=s/l:null==s&&null==h&&(s=n.width,h=n.height),this.setTransform(t),i.sWidth&&i.sHeight){var u=i.sx||0,c=i.sy||0;t.drawImage(n,u,c,i.sWidth,i.sHeight,a,o,s,h)}else if(i.sx&&i.sy){var f=s-(u=i.sx),d=h-(c=i.sy);t.drawImage(n,u,c,f,d,a,o,s,h)}else t.drawImage(n,a,o,s,h);null!=i.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new ti(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},b(kr,br);var Tr=314159;function Sr(t){return parseInt(t,10)}var Cr=new ti(0,0,0,0),Mr=new ti(0,0,0,0);function Pr(t,e,i){this.type="canvas";var r=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=i=v({},i||{}),this.dpr=i.devicePixelRatio||Ne,this._singleCanvas=r;var n=(this.root=t).style;n&&(n["-webkit-tap-highlight-color"]="transparent",n["-webkit-user-select"]=n["user-select"]=n["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var a=this._zlevelList=[],o=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,r){var s=t.width,h=t.height;null!=i.width&&(s=i.width),null!=i.height&&(h=i.height),this.dpr=i.devicePixelRatio||1,t.width=s*this.dpr,t.height=h*this.dpr,this._width=s,this._height=h;var l=new Ci(t,this,this.dpr);l.__builtin__=!0,l.initContext(),(o[Tr]=l).zlevel=Tr,a.push(Tr),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var u=this._domRoot=function(t,e){var i=document.createElement("div");return i.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",i}(this._width,this._height);t.appendChild(u)}this._hoverlayer=null,this._hoverElements=[]}Pr.prototype={constructor:Pr,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(t){var e=this.storage.getDisplayList(!0),i=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var r=0;r<i.length;r++){var n=i[r],a=this._layers[n];if(!a.__builtin__&&a.refresh){var o=0===r?this._backgroundColor:null;a.refresh(o)}}return this.refreshHover(),this},addHover:function(t,e){if(!t.__hoverMir){var i=new t.constructor({style:t.style,shape:t.shape,z:t.z,z2:t.z2,silent:t.silent});return(i.__from=t).__hoverMir=i,e&&i.setStyle(e),this._hoverElements.push(i),i}},removeHover:function(t){var e=t.__hoverMir,i=this._hoverElements,r=w(i,e);0<=r&&i.splice(r,1),t.__hoverMir=null},clearHover:function(t){for(var e=this._hoverElements,i=0;i<e.length;i++){var r=e[i].__from;r&&(r.__hoverMir=null)}e.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,i=this._hoverlayer;if(i&&i.clear(),e){li(t,this.storage.displayableSortFunc);var r={};(i=i||(this._hoverlayer=this.getLayer(1e5))).ctx.save();for(var n=0;n<e;){var a=t[n],o=a.__from;o&&o.__zr?(n++,o.invisible||(a.transform=o.transform,a.invTransform=o.invTransform,a.__clipPaths=o.__clipPaths,this._doPaintEl(a,i,!0,r))):(t.splice(n,1),o.__hoverMir=null,e--)}i.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(t,e,i){if(this._redrawId===i){e=e||!1,this._updateLayerStatus(t);var r=this._doPaintList(t,e);if(this._needsManuallyCompositing&&this._compositeManually(),!r){var n=this;Mi(function(){n._paintList(t,e,i)})}}},_compositeManually:function(){var e=this.getLayer(Tr).ctx,i=this._domRoot.width,r=this._domRoot.height;e.clearRect(0,0,i,r),this.eachBuiltinLayer(function(t){t.virtual&&e.drawImage(t.dom,0,0,i,r)})},_doPaintList:function(t,e){for(var i=[],r=0;r<this._zlevelList.length;r++){var n=this._zlevelList[r];(s=this._layers[n]).__builtin__&&s!==this._hoverlayer&&(s.__dirty||e)&&i.push(s)}for(var a=!0,o=0;o<i.length;o++){var s,h=(s=i[o]).ctx,l={};h.save();var u=e?s.__startIndex:s.__drawIndex,c=!e&&s.incremental&&Date.now,f=c&&Date.now(),d=s.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(s.__startIndex===s.__endIndex)s.clear(!1,d);else if(u===s.__startIndex){var p=t[u];p.incremental&&p.notClear&&!e||s.clear(!1,d)}-1===u&&(console.error("For some unknown reason. drawIndex is -1"),u=s.__startIndex);for(var v=u;v<s.__endIndex;v++){var g=t[v];if(this._doPaintEl(g,s,e,l),g.__dirty=g.__dirtyText=!1,c)if(15<Date.now()-f)break}s.__drawIndex=v,s.__drawIndex<s.__endIndex&&(a=!1),l.prevElClipPaths&&h.restore(),h.restore()}return _.wxa&&T(this._layers,function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()}),a},_doPaintEl:function(t,e,i,r){var n=e.ctx,a=t.transform;if((e.__dirty||i)&&!t.invisible&&0!==t.style.opacity&&(!a||a[0]||a[3])&&(!t.culling||!function(t,e,i){return Cr.copy(t.getBoundingRect()),t.transform&&Cr.applyTransform(t.transform),Mr.width=e,Mr.height=i,!Cr.intersect(Mr)}(t,this._width,this._height))){var o=t.__clipPaths,s=r.prevElClipPaths;s&&!function(t,e){if(t===e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!0;return!1}(o,s)||(s&&(n.restore(),r.prevElClipPaths=null,r.prevEl=null),o&&(n.save(),function(t,e){for(var i=0;i<t.length;i++){var r=t[i];r.setTransform(e),e.beginPath(),r.buildPath(e,r.shape),e.clip(),r.restoreTransform(e)}}(o,n),r.prevElClipPaths=o)),t.beforeBrush&&t.beforeBrush(n),t.brush(n,r.prevEl||null),(r.prevEl=t).afterBrush&&t.afterBrush(n)}},getLayer:function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=Tr);var i=this._layers[t];return i||((i=new Ci("zr_"+t,this,this.dpr)).zlevel=t,i.__builtin__=!0,this._layerConfig[t]&&p(i,this._layerConfig[t],!0),e&&(i.virtual=e),this.insertLayer(t,i),i.initContext()),i},insertLayer:function(t,e){var i=this._layers,r=this._zlevelList,n=r.length,a=null,o=-1,s=this._domRoot;if(i[t])Xe("ZLevel "+t+" has been used already");else if(function(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh)}(e)){if(0<n&&t>r[0]){for(o=0;o<n-1&&!(r[o]<t&&r[o+1]>t);o++);a=i[r[o]]}if(r.splice(o+1,0,t),!(i[t]=e).virtual)if(a){var h=a.dom;h.nextSibling?s.insertBefore(e.dom,h.nextSibling):s.appendChild(e.dom)}else s.firstChild?s.insertBefore(e.dom,s.firstChild):s.appendChild(e.dom)}else Xe("Layer of zlevel "+t+" is not valid")},eachLayer:function(t,e){var i,r,n=this._zlevelList;for(r=0;r<n.length;r++)i=n[r],t.call(e,this._layers[i],i)},eachBuiltinLayer:function(t,e){var i,r,n,a=this._zlevelList;for(n=0;n<a.length;n++)r=a[n],(i=this._layers[r]).__builtin__&&t.call(e,i,r)},eachOtherLayer:function(t,e){var i,r,n,a=this._zlevelList;for(n=0;n<a.length;n++)r=a[n],(i=this._layers[r]).__builtin__||t.call(e,i,r)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){function e(t){r&&(r.__endIndex!==t&&(r.__dirty=!0),r.__endIndex=t)}if(this.eachBuiltinLayer(function(t,e){t.__dirty=t.__used=!1}),this._singleCanvas)for(var i=1;i<t.length;i++){if((a=t[i]).zlevel!==t[i-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}}var r=null,n=0;for(i=0;i<t.length;i++){var a,o,s=(a=t[i]).zlevel;a.incremental?((o=this.getLayer(s+.001,this._needsManuallyCompositing)).incremental=!0,n=1):o=this.getLayer(s+(0<n?.01:0),this._needsManuallyCompositing),o.__builtin__||Xe("ZLevel "+s+" has been used by unkown layer "+o.id),o!==r&&(o.__used=!0,o.__startIndex!==i&&(o.__dirty=!0),o.__startIndex=i,o.incremental?o.__drawIndex=-1:o.__drawIndex=i,e(i),r=o),a.__dirty&&(o.__dirty=!0,o.incremental&&o.__drawIndex<0&&(o.__drawIndex=i))}e(i),this.eachBuiltinLayer(function(t,e){!t.__used&&0<t.getElementCount()&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},setBackgroundColor:function(t){this._backgroundColor=t},configLayer:function(t,e){if(e){var i=this._layerConfig;i[t]?p(i[t],e,!0):i[t]=e;for(var r=0;r<this._zlevelList.length;r++){var n=this._zlevelList[r];if(n===t||n===t+.01)p(this._layers[n],i[t],!0)}}},delLayer:function(t){var e=this._layers,i=this._zlevelList,r=e[t];r&&(r.dom.parentNode.removeChild(r.dom),delete e[t],i.splice(w(i,t),1))},resize:function(e,i){if(this._domRoot.style){var t=this._domRoot;t.style.display="none";var r=this._opts;if(null!=e&&(r.width=e),null!=i&&(r.height=i),e=this._getSize(0),i=this._getSize(1),t.style.display="",this._width!==e||i!==this._height){for(var n in t.style.width=e+"px",t.style.height=i+"px",this._layers)this._layers.hasOwnProperty(n)&&this._layers[n].resize(e,i);T(this._progressiveLayers,function(t){t.resize(e,i)}),this.refresh(!0)}this._width=e,this._height=i}else{if(null==e||null==i)return;this._width=e,this._height=i,this.getLayer(Tr).resize(e,i)}return this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[Tr].dom;var e=new Ci("image",this,t.pixelRatio||this.dpr);if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var i=e.dom.width,r=e.dom.height,n=e.ctx;this.eachLayer(function(t){t.__builtin__?n.drawImage(t.dom,0,0,i,r):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())})}else for(var a={},o=this.storage.getDisplayList(!0),s=0;s<o.length;s++){var h=o[s];this._doPaintEl(h,e,!0,a)}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,i=["width","height"][t],r=["clientWidth","clientHeight"][t],n=["paddingLeft","paddingTop"][t],a=["paddingRight","paddingBottom"][t];if(null!=e[i]&&"auto"!==e[i])return parseFloat(e[i]);var o=this.root,s=document.defaultView.getComputedStyle(o);return(o[r]||Sr(s[i])||Sr(o.style[i]))-(Sr(s[n])||0)-(Sr(s[a])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var i=document.createElement("canvas"),r=i.getContext("2d"),n=t.getBoundingRect(),a=t.style,o=a.shadowBlur*e,s=a.shadowOffsetX*e,h=a.shadowOffsetY*e,l=a.hasStroke()?a.lineWidth:0,u=Math.max(l/2,o-s),c=Math.max(l/2,s+o),f=Math.max(l/2,o-h),d=Math.max(l/2,h+o),p=n.width+u+c,v=n.height+f+d;i.width=p*e,i.height=v*e,r.scale(e,e),r.clearRect(0,0,p,v),r.dpr=e;var g={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[u-n.x,f-n.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(r);var _=new kr({style:{x:0,y:0,image:i}});return null!=g.position&&(_.position=t.position=g.position),null!=g.rotation&&(_.rotation=t.rotation=g.rotation),null!=g.scale&&(_.scale=t.scale=g.scale),_}};function Ar(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,ut.call(this)}Ar.prototype={constructor:Ar,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),i=0;i<e.length;i++)this.addClip(e[i])},removeClip:function(t){var e=w(this._clips,t);0<=e&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),i=0;i<e.length;i++)this.removeClip(e[i]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,i=this._clips,r=i.length,n=[],a=[],o=0;o<r;o++){var s=i[o],h=s.step(t,e);h&&(n.push(h),a.push(s))}for(o=0;o<r;)i[o]._needsRemove?(i[o]=i[r-1],i.pop(),r--):o++;r=n.length;for(o=0;o<r;o++)a[o].fire(n[o]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},_startLoop:function(){var e=this;this._running=!0,Mi(function t(){e._running&&(Mi(t),e._paused||e._update())})},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(t,e){var i=new Fe(t,(e=e||{}).loop,e.getter,e.setter);return this.addAnimator(i),i}},k(Ar,ut);var Lr,zr,Dr=_.domSupported,Br=(zr={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:Lr=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:S(Lr,function(t){var e=t.replace("mouse","pointer");return zr.hasOwnProperty(e)?e:t})}),Ir={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]};function Or(t){return"mousewheel"===t&&_.browser.firefox?"DOMMouseScroll":t}function Er(t){var e=t.pointerType;return"pen"===e||"touch"===e}function Rr(t){t&&(t.zrByTouch=!0)}function Fr(t,e){for(var i=!1;(e=e&&e.parentNode)&&9!==e.nodeType&&!(i=e===t.painterRoot););return i}function Hr(t,e){this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY}var Nr=Hr.prototype;Nr.stopPropagation=Nr.stopImmediatePropagation=Nr.preventDefault=W;var Wr={mousedown:function(t){t=bt(this.dom,t),this._mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=bt(this.dom,t);var e=this._mayPointerCapture;!e||t.zrX===e[0]&&t.zrY===e[1]||Ur(this,!0),this.trigger("mousemove",t)},mouseup:function(t){t=bt(this.dom,t),Ur(this,!1),this.trigger("mouseup",t)},mouseout:function(t){t=bt(this.dom,t),this._pointerCapturing&&(t.zrEventControl="no_globalout");var e=t.toElement||t.relatedTarget;t.zrIsToLocalDOM=Fr(this,e),this.trigger("mouseout",t)},touchstart:function(t){Rr(t=bt(this.dom,t)),this._lastTouchMoment=new Date,this.handler.processGesture(t,"start"),Wr.mousemove.call(this,t),Wr.mousedown.call(this,t)},touchmove:function(t){Rr(t=bt(this.dom,t)),this.handler.processGesture(t,"change"),Wr.mousemove.call(this,t)},touchend:function(t){Rr(t=bt(this.dom,t)),this.handler.processGesture(t,"end"),Wr.mouseup.call(this,t),+new Date-this._lastTouchMoment<300&&Wr.click.call(this,t)},pointerdown:function(t){Wr.mousedown.call(this,t)},pointermove:function(t){Er(t)||Wr.mousemove.call(this,t)},pointerup:function(t){Wr.mouseup.call(this,t)},pointerout:function(t){Er(t)||Wr.mouseout.call(this,t)}};T(["click","mousewheel","dblclick","contextmenu"],function(e){Wr[e]=function(t){t=bt(this.dom,t),this.trigger(e,t)}});var Vr={pointermove:function(t){Er(t)||Vr.mousemove.call(this,t)},pointerup:function(t){Vr.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this._pointerCapturing;Ur(this,!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function Xr(i,r){var n=r.domHandlers;_.pointerEventsSupported?T(Br.pointer,function(e){jr(r,e,function(t){n[e].call(i,t)})}):(_.touchEventsSupported&&T(Br.touch,function(e){jr(r,e,function(t){n[e].call(i,t),function(t){t.touching=!0,null!=t.touchTimer&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout(function(){t.touching=!1,t.touchTimer=null},700)}(r)})}),T(Br.mouse,function(e){jr(r,e,function(t){t=wt(t),r.touching||n[e].call(i,t)})}))}function qr(i,r){function t(e){jr(r,e,function(t){t=wt(t),Fr(i,t.target)||(t=function(t,e){return bt(t.dom,new Hr(t,e),!0)}(i,t),r.domHandlers[e].call(i,t))},{capture:!0})}_.pointerEventsSupported?T(Ir.pointer,t):_.touchEventsSupported||T(Ir.mouse,t)}function jr(t,e,i,r){t.mounted[e]=i,t.listenerOpts[e]=r,function(t,e,i,r){vt?t.addEventListener(e,i,r):t.attachEvent("on"+e,i)}(t.domTarget,Or(e),i,r)}function Yr(t){var e,i,r,n,a=t.mounted;for(var o in a)a.hasOwnProperty(o)&&(e=t.domTarget,i=Or(o),r=a[o],n=t.listenerOpts[o],vt?e.removeEventListener(i,r,n):e.detachEvent("on"+i,r));t.mounted={}}function Ur(t,e){if(t._mayPointerCapture=null,Dr&&t._pointerCapturing^e){t._pointerCapturing=e;var i=t._globalHandlerScope;e?qr(t,i):Yr(i)}}function Gr(t,e){this.domTarget=t,this.domHandlers=e,this.mounted={},this.listenerOpts={},this.touchTimer=null,this.touching=!1}function Zr(t,e){ut.call(this),this.dom=t,this.painterRoot=e,this._localHandlerScope=new Gr(t,Wr),Dr&&(this._globalHandlerScope=new Gr(document,Vr)),this._pointerCapturing=!1,this._mayPointerCapture=null,Xr(this,this._localHandlerScope)}var Qr=Zr.prototype;Qr.dispose=function(){Yr(this._localHandlerScope),Dr&&Yr(this._globalHandlerScope)},Qr.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},k(Zr,ut);var $r=!_.canvasSupported,Kr={canvas:Pr},Jr={};function tn(t,e){Kr[t]=e}function en(t,e,i){i=i||{},this.dom=e,this.id=t;var r=this,n=new ci,a=i.renderer;if($r){if(!Kr.vml)throw new Error("You need to require \'zrender/vml/vml\' to support IE8");a="vml"}else a&&Kr[a]||(a="canvas");var o=new Kr[a](e,n,i,t);this.storage=n,this.painter=o;var s=_.node||_.worker?null:new Zr(o.getViewportRoot(),o.root);this.handler=new Lt(n,o,s,o.root),this.animation=new Ar({stage:{update:C(this.flush,this)}}),this.animation.start(),this._needsRefresh;var h=n.delFromStorage,l=n.addToStorage;n.delFromStorage=function(t){h.call(n,t),t&&t.removeSelfFromZr(r)},n.addToStorage=function(t){l.call(n,t),t.addSelfToZr(r)}}en.prototype={constructor:en,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this._needsRefresh=!0},setBackgroundColor:function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1,this.painter.refresh(),this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var t;this._needsRefresh&&(t=!0,this.refreshImmediately()),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately()),t&&this.trigger("rendered")},addHover:function(t,e){if(this.painter.addHover){var i=this.painter.addHover(t,e);return this.refreshHover(),i}},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,i){this.handler.on(t,e,i)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,function(t){delete Jr[t]}(this.id)}};var rn=Math.pow,nn=Math.sqrt,an=1e-8,on=1e-4,sn=nn(3),hn=1/3,ln=q(),un=q(),cn=q();function fn(t){return-an<t&&t<an}function dn(t){return an<t||t<-an}function pn(t,e,i,r,n){var a=1-n;return a*a*(a*t+3*n*e)+n*n*(n*r+3*a*i)}function vn(t,e,i,r,n){var a=1-n;return 3*(((e-t)*a+2*(i-e)*n)*a+(r-i)*n*n)}function gn(t,e,i,r,n){var a=6*i-12*e+6*t,o=9*e+3*r-3*t-9*i,s=3*e-3*t,h=0;if(fn(o)){if(dn(a))0<=(u=-s/a)&&u<=1&&(n[h++]=u)}else{var l=a*a-4*o*s;if(fn(l))n[0]=-a/(2*o);else if(0<l){var u,c=nn(l),f=(-a-c)/(2*o);0<=(u=(-a+c)/(2*o))&&u<=1&&(n[h++]=u),0<=f&&f<=1&&(n[h++]=f)}}return h}function _n(t,e,i,r,n,a){var o=(e-t)*n+t,s=(i-e)*n+e,h=(r-i)*n+i,l=(s-o)*n+o,u=(h-s)*n+s,c=(u-l)*n+l;a[0]=t,a[1]=o,a[2]=l,a[3]=c,a[4]=c,a[5]=u,a[6]=h,a[7]=r}function mn(t,e,i,r){var n=1-r;return n*(n*t+2*r*e)+r*r*i}function yn(t,e,i,r){return 2*((1-r)*(e-t)+r*(i-e))}function xn(t,e,i){var r=t+i-2*e;return 0==r?.5:(t-e)/r}function wn(t,e,i,r,n){var a=(e-t)*r+t,o=(i-e)*r+e,s=(o-a)*r+a;n[0]=t,n[1]=a,n[2]=s,n[3]=s,n[4]=o,n[5]=i}var bn=Math.min,kn=Math.max,Tn=Math.sin,Sn=Math.cos,Cn=2*Math.PI,Mn=q(),Pn=q(),An=q();function Ln(t,e,i,r,n,a){n[0]=bn(t,i),n[1]=bn(e,r),a[0]=kn(t,i),a[1]=kn(e,r)}var zn=[],Dn=[];function Bn(t,e,i,r,n,a,o,s,h,l){var u,c=gn,f=pn,d=c(t,i,n,o,zn);for(h[0]=1/0,h[1]=1/0,l[0]=-1/0,l[1]=-1/0,u=0;u<d;u++){var p=f(t,i,n,o,zn[u]);h[0]=bn(p,h[0]),l[0]=kn(p,l[0])}for(d=c(e,r,a,s,Dn),u=0;u<d;u++){var v=f(e,r,a,s,Dn[u]);h[1]=bn(v,h[1]),l[1]=kn(v,l[1])}h[0]=bn(t,h[0]),l[0]=kn(t,l[0]),h[0]=bn(o,h[0]),l[0]=kn(o,l[0]),h[1]=bn(e,h[1]),l[1]=kn(e,l[1]),h[1]=bn(s,h[1]),l[1]=kn(s,l[1])}function In(t,e,i,r,n,a,o,s,h){var l=at,u=ot,c=Math.abs(n-a);if(c%Cn<1e-4&&1e-4<c)return s[0]=t-i,s[1]=e-r,h[0]=t+i,void(h[1]=e+r);if(Mn[0]=Sn(n)*i+t,Mn[1]=Tn(n)*r+e,Pn[0]=Sn(a)*i+t,Pn[1]=Tn(a)*r+e,l(s,Mn,Pn),u(h,Mn,Pn),(n%=Cn)<0&&(n+=Cn),(a%=Cn)<0&&(a+=Cn),a<n&&!o?a+=Cn:n<a&&o&&(n+=Cn),o){var f=a;a=n,n=f}for(var d=0;d<a;d+=Math.PI/2)n<d&&(An[0]=Sn(d)*i+t,An[1]=Tn(d)*r+e,l(s,An,s),u(h,An,h))}var On={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},En=[],Rn=[],Fn=[],Hn=[],Nn=Math.min,Wn=Math.max,Vn=Math.cos,Xn=Math.sin,qn=Math.sqrt,jn=Math.abs,Yn="undefined"!=typeof Float32Array,Un=function(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};function Gn(t,e,i,r,n,a,o){if(0===n)return!1;var s=n,h=0;if(e+s<o&&r+s<o||o<e-s&&o<r-s||t+s<a&&i+s<a||a<t-s&&a<i-s)return!1;if(t===i)return Math.abs(a-t)<=s/2;var l=(h=(e-r)/(t-i))*a-o+(t*r-i*e)/(t-i);return l*l/(h*h+1)<=s/2*s/2}function Zn(t,e,i,r,n,a,o,s,h,l,u){if(0===h)return!1;var c=h;return!(e+c<u&&r+c<u&&a+c<u&&s+c<u||u<e-c&&u<r-c&&u<a-c&&u<s-c||t+c<l&&i+c<l&&n+c<l&&o+c<l||l<t-c&&l<i-c&&l<n-c&&l<o-c)&&function(t,e,i,r,n,a,o,s,h,l,u){var c,f,d,p,v,g=.005,_=1/0;ln[0]=h,ln[1]=l;for(var m=0;m<1;m+=.05)un[0]=pn(t,i,n,o,m),un[1]=pn(e,r,a,s,m),(p=rt(ln,un))<_&&(c=m,_=p);_=1/0;for(var y=0;y<32&&!(g<on);y++)f=c-g,d=c+g,un[0]=pn(t,i,n,o,f),un[1]=pn(e,r,a,s,f),p=rt(un,ln),0<=f&&p<_?(c=f,_=p):(cn[0]=pn(t,i,n,o,d),cn[1]=pn(e,r,a,s,d),v=rt(cn,ln),d<=1&&v<_?(c=d,_=v):g*=.5);return u&&(u[0]=pn(t,i,n,o,c),u[1]=pn(e,r,a,s,c)),nn(_)}(t,e,i,r,n,a,o,s,l,u,null)<=c/2}function Qn(t,e,i,r,n,a,o,s,h){if(0===o)return!1;var l=o;return!(e+l<h&&r+l<h&&a+l<h||h<e-l&&h<r-l&&h<a-l||t+l<s&&i+l<s&&n+l<s||s<t-l&&s<i-l&&s<n-l)&&function(t,e,i,r,n,a,o,s,h){var l,u=.005,c=1/0;ln[0]=o,ln[1]=s;for(var f=0;f<1;f+=.05){un[0]=mn(t,i,n,f),un[1]=mn(e,r,a,f),(g=rt(ln,un))<c&&(l=f,c=g)}c=1/0;for(var d=0;d<32&&!(u<on);d++){var p=l-u,v=l+u;un[0]=mn(t,i,n,p),un[1]=mn(e,r,a,p);var g=rt(un,ln);if(0<=p&&g<c)l=p,c=g;else{cn[0]=mn(t,i,n,v),cn[1]=mn(e,r,a,v);var _=rt(cn,ln);v<=1&&_<c?(l=v,c=_):u*=.5}}return h&&(h[0]=mn(t,i,n,l),h[1]=mn(e,r,a,l)),nn(c)}(t,e,i,r,n,a,s,h,null)<=l/2}Un.prototype={constructor:Un,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e,i){i=i||0,this._ux=jn(i/Ne/t)||0,this._uy=jn(i/Ne/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return(this._ctx=t)&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(On.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var i=jn(t-this._xi)>this._ux||jn(e-this._yi)>this._uy||this._len<5;return this.addData(On.L,t,e),this._ctx&&i&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),i&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,i,r,n,a){return this.addData(On.C,t,e,i,r,n,a),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,i,r,n,a):this._ctx.bezierCurveTo(t,e,i,r,n,a)),this._xi=n,this._yi=a,this},quadraticCurveTo:function(t,e,i,r){return this.addData(On.Q,t,e,i,r),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,i,r):this._ctx.quadraticCurveTo(t,e,i,r)),this._xi=i,this._yi=r,this},arc:function(t,e,i,r,n,a){return this.addData(On.A,t,e,i,i,r,n-r,0,a?0:1),this._ctx&&this._ctx.arc(t,e,i,r,n,a),this._xi=Vn(n)*i+t,this._yi=Xn(n)*i+e,this},arcTo:function(t,e,i,r,n){return this._ctx&&this._ctx.arcTo(t,e,i,r,n),this},rect:function(t,e,i,r){return this._ctx&&this._ctx.rect(t,e,i,r),this.addData(On.R,t,e,i,r),this},closePath:function(){this.addData(On.Z);var t=this._ctx,e=this._x0,i=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,i),t.closePath()),this._xi=e,this._yi=i,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t;for(var e=this._dashIdx=0,i=0;i<t.length;i++)e+=t[i];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length===e||!Yn||(this.data=new Float32Array(e));for(var i=0;i<e;i++)this.data[i]=t[i];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,i=0,r=this._len,n=0;n<e;n++)i+=t[n].len();Yn&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+i));for(n=0;n<e;n++)for(var a=t[n].data,o=0;o<a.length;o++)this.data[r++]=a[o];this._len=r},addData:function(t){if(this._saveData){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var i=0;i<arguments.length;i++)e[this._len++]=arguments[i];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var i,r,n=this._dashSum,a=this._dashOffset,o=this._lineDash,s=this._ctx,h=this._xi,l=this._yi,u=t-h,c=e-l,f=qn(u*u+c*c),d=h,p=l,v=o.length;for(a<0&&(a=n+a),d-=(a%=n)*(u/=f),p-=a*(c/=f);0<u&&d<=t||u<0&&t<=d||0===u&&(0<c&&p<=e||c<0&&e<=p);)d+=u*(i=o[r=this._dashIdx]),p+=c*i,this._dashIdx=(r+1)%v,0<u&&d<h||u<0&&h<d||0<c&&p<l||c<0&&l<p||s[r%2?"moveTo":"lineTo"](0<=u?Nn(d,t):Wn(d,t),0<=c?Nn(p,e):Wn(p,e));u=d-t,c=p-e,this._dashOffset=-qn(u*u+c*c)},_dashedBezierTo:function(t,e,i,r,n,a){var o,s,h,l,u,c=this._dashSum,f=this._dashOffset,d=this._lineDash,p=this._ctx,v=this._xi,g=this._yi,_=pn,m=0,y=this._dashIdx,x=d.length,w=0;for(f<0&&(f=c+f),f%=c,o=0;o<1;o+=.1)s=_(v,t,i,n,o+.1)-_(v,t,i,n,o),h=_(g,e,r,a,o+.1)-_(g,e,r,a,o),m+=qn(s*s+h*h);for(;y<x&&!(f<(w+=d[y]));y++);for(o=(w-f)/m;o<=1;)l=_(v,t,i,n,o),u=_(g,e,r,a,o),y%2?p.moveTo(l,u):p.lineTo(l,u),o+=d[y]/m,y=(y+1)%x;y%2!=0&&p.lineTo(n,a),s=n-l,h=a-u,this._dashOffset=-qn(s*s+h*h)},_dashedQuadraticTo:function(t,e,i,r){var n=i,a=r;i=(i+2*t)/3,r=(r+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,i,r,n,a)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,Yn&&(this.data=new Float32Array(t)))},getBoundingRect:function(){En[0]=En[1]=Fn[0]=Fn[1]=Number.MAX_VALUE,Rn[0]=Rn[1]=Hn[0]=Hn[1]=-Number.MAX_VALUE;for(var t,e,i,r,n,a,o,s,h,l,u,c,f,d,p=this.data,v=0,g=0,_=0,m=0,y=0;y<p.length;){var x=p[y++];switch(1===y&&(_=v=p[y],m=g=p[y+1]),x){case On.M:v=_=p[y++],g=m=p[y++],Fn[0]=_,Fn[1]=m,Hn[0]=_,Hn[1]=m;break;case On.L:Ln(v,g,p[y],p[y+1],Fn,Hn),v=p[y++],g=p[y++];break;case On.C:Bn(v,g,p[y++],p[y++],p[y++],p[y++],p[y],p[y+1],Fn,Hn),v=p[y++],g=p[y++];break;case On.Q:t=v,e=g,i=p[y++],r=p[y++],n=p[y],a=p[y+1],o=Fn,s=Hn,l=h=void 0,l=mn,u=kn(bn((h=xn)(t,i,n),1),0),c=kn(bn(h(e,r,a),1),0),f=l(t,i,n,u),d=l(e,r,a,c),o[0]=bn(t,n,f),o[1]=bn(e,a,d),s[0]=kn(t,n,f),s[1]=kn(e,a,d),v=p[y++],g=p[y++];break;case On.A:var w=p[y++],b=p[y++],k=p[y++],T=p[y++],S=p[y++],C=p[y++]+S;y+=1;var M=1-p[y++];1===y&&(_=Vn(S)*k+w,m=Xn(S)*T+b),In(w,b,k,T,S,C,M,Fn,Hn),v=Vn(C)*k+w,g=Xn(C)*T+b;break;case On.R:Ln(_=v=p[y++],m=g=p[y++],_+p[y++],m+p[y++],Fn,Hn);break;case On.Z:v=_,g=m}at(En,En,Fn),ot(Rn,Rn,Hn)}return 0===y&&(En[0]=En[1]=Rn[0]=Rn[1]=0),new ti(En[0],En[1],Rn[0]-En[0],Rn[1]-En[1])},rebuildPath:function(t){for(var e,i,r,n,a,o,s=this.data,h=this._ux,l=this._uy,u=this._len,c=0;c<u;){var f=s[c++];switch(1===c&&(e=r=s[c],i=n=s[c+1]),f){case On.M:e=r=s[c++],i=n=s[c++],t.moveTo(r,n);break;case On.L:a=s[c++],o=s[c++],(jn(a-r)>h||jn(o-n)>l||c===u-1)&&(t.lineTo(a,o),r=a,n=o);break;case On.C:t.bezierCurveTo(s[c++],s[c++],s[c++],s[c++],s[c++],s[c++]),r=s[c-2],n=s[c-1];break;case On.Q:t.quadraticCurveTo(s[c++],s[c++],s[c++],s[c++]),r=s[c-2],n=s[c-1];break;case On.A:var d=s[c++],p=s[c++],v=s[c++],g=s[c++],_=s[c++],m=s[c++],y=s[c++],x=s[c++],w=g<v?v:g,b=g<v?1:v/g,k=g<v?g/v:1,T=_+m;.001<Math.abs(v-g)?(t.translate(d,p),t.rotate(y),t.scale(b,k),t.arc(0,0,w,_,T,1-x),t.scale(1/b,1/k),t.rotate(-y),t.translate(-d,-p)):t.arc(d,p,w,_,T,1-x),1===c&&(e=Vn(_)*v+d,i=Xn(_)*g+p),r=Vn(T)*v+d,n=Xn(T)*g+p;break;case On.R:e=r=s[c],i=n=s[c+1],t.rect(s[c++],s[c++],s[c++],s[c++]);break;case On.Z:t.closePath(),r=e,n=i}}}},Un.CMD=On;var $n=2*Math.PI;function Kn(t){return(t%=$n)<0&&(t+=$n),t}var Jn=2*Math.PI;function ta(t,e,i,r,n,a,o,s,h){if(0===o)return!1;var l=o;s-=t,h-=e;var u=Math.sqrt(s*s+h*h);if(i<u-l||u+l<i)return!1;if(Math.abs(r-n)%Jn<1e-4)return!0;if(a){var c=r;r=Kn(n),n=Kn(c)}else r=Kn(r),n=Kn(n);n<r&&(n+=Jn);var f=Math.atan2(h,s);return f<0&&(f+=Jn),r<=f&&f<=n||r<=f+Jn&&f+Jn<=n}function ea(t,e,i,r,n,a){if(e<a&&r<a||a<e&&a<r)return 0;if(r===e)return 0;var o=r<e?1:-1,s=(a-e)/(r-e);1!=s&&0!=s||(o=r<e?.5:-.5);var h=s*(i-t)+t;return h===n?1/0:n<h?o:0}var ia=Un.CMD,ra=2*Math.PI,na=1e-4;var aa=[-1,-1,-1],oa=[-1,-1];function sa(t,e,i,r,n,a,o,s,h,l){if(e<l&&r<l&&a<l&&s<l||l<e&&l<r&&l<a&&l<s)return 0;var u,c=function(t,e,i,r,n,a){var o=r+3*(e-i)-t,s=3*(i-2*e+t),h=3*(e-t),l=t-n,u=s*s-3*o*h,c=s*h-9*o*l,f=h*h-3*s*l,d=0;if(fn(u)&&fn(c)){if(fn(s))a[0]=0;else 0<=(T=-h/s)&&T<=1&&(a[d++]=T)}else{var p=c*c-4*u*f;if(fn(p)){var v=c/u,g=-v/2;0<=(T=-s/o+v)&&T<=1&&(a[d++]=T),0<=g&&g<=1&&(a[d++]=g)}else if(0<p){var _=nn(p),m=u*s+1.5*o*(-c+_),y=u*s+1.5*o*(-c-_);0<=(T=(-s-((m=m<0?-rn(-m,hn):rn(m,hn))+(y=y<0?-rn(-y,hn):rn(y,hn))))/(3*o))&&T<=1&&(a[d++]=T)}else{var x=(2*u*s-3*o*c)/(2*nn(u*u*u)),w=Math.acos(x)/3,b=nn(u),k=Math.cos(w),T=(-s-2*b*k)/(3*o),S=(g=(-s+b*(k+sn*Math.sin(w)))/(3*o),(-s+b*(k-sn*Math.sin(w)))/(3*o));0<=T&&T<=1&&(a[d++]=T),0<=g&&g<=1&&(a[d++]=g),0<=S&&S<=1&&(a[d++]=S)}}return d}(e,r,a,s,l,aa);if(0===c)return 0;for(var f,d,p=0,v=-1,g=0;g<c;g++){var _=aa[g],m=0===_||1===_?.5:1;pn(t,i,n,o,_)<h||(v<0&&(v=gn(e,r,a,s,oa),oa[1]<oa[0]&&1<v&&(void 0,u=oa[0],oa[0]=oa[1],oa[1]=u),f=pn(e,r,a,s,oa[0]),1<v&&(d=pn(e,r,a,s,oa[1]))),2===v?_<oa[0]?p+=f<e?m:-m:_<oa[1]?p+=d<f?m:-m:p+=s<d?m:-m:_<oa[0]?p+=f<e?m:-m:p+=s<f?m:-m)}return p}function ha(t,e,i,r,n,a,o,s){if(e<s&&r<s&&a<s||s<e&&s<r&&s<a)return 0;var h=function(t,e,i,r,n){var a=t-2*e+i,o=2*(e-t),s=t-r,h=0;if(fn(a)){if(dn(o))0<=(u=-s/o)&&u<=1&&(n[h++]=u)}else{var l=o*o-4*a*s;if(fn(l))0<=(u=-o/(2*a))&&u<=1&&(n[h++]=u);else if(0<l){var u,c=nn(l),f=(-o-c)/(2*a);0<=(u=(-o+c)/(2*a))&&u<=1&&(n[h++]=u),0<=f&&f<=1&&(n[h++]=f)}}return h}(e,r,a,s,aa);if(0===h)return 0;var l=xn(e,r,a);if(0<=l&&l<=1){for(var u=0,c=mn(e,r,a,l),f=0;f<h;f++){var d=0===aa[f]||1===aa[f]?.5:1;mn(t,i,n,aa[f])<o||(aa[f]<l?u+=c<e?d:-d:u+=a<c?d:-d)}return u}d=0===aa[0]||1===aa[0]?.5:1;return mn(t,i,n,aa[0])<o?0:a<e?d:-d}function la(t,e,i,r,n,a,o,s){if(i<(s-=e)||s<-i)return 0;var h=Math.sqrt(i*i-s*s);aa[0]=-h,aa[1]=h;var l=Math.abs(r-n);if(l<1e-4)return 0;if(l%ra<1e-4){n=ra;var u=a?1:-1;return o>=aa[r=0]+t&&o<=aa[1]+t?u:0}if(a){h=r;r=Kn(n),n=Kn(h)}else r=Kn(r),n=Kn(n);n<r&&(n+=ra);for(var c=0,f=0;f<2;f++){var d=aa[f];if(o<d+t){var p=Math.atan2(s,d);u=a?1:-1;p<0&&(p=ra+p),(r<=p&&p<=n||r<=p+ra&&p+ra<=n)&&(p>Math.PI/2&&p<1.5*Math.PI&&(u=-u),c+=u)}}return c}function ua(t,e,i,r,n){for(var a=0,o=0,s=0,h=0,l=0,u=0;u<t.length;){var c=t[u++];switch(c===ia.M&&1<u&&(i||(a+=ea(o,s,h,l,r,n))),1===u&&(h=o=t[u],l=s=t[u+1]),c){case ia.M:o=h=t[u++],s=l=t[u++];break;case ia.L:if(i){if(Gn(o,s,t[u],t[u+1],e,r,n))return!0}else a+=ea(o,s,t[u],t[u+1],r,n)||0;o=t[u++],s=t[u++];break;case ia.C:if(i){if(Zn(o,s,t[u++],t[u++],t[u++],t[u++],t[u],t[u+1],e,r,n))return!0}else a+=sa(o,s,t[u++],t[u++],t[u++],t[u++],t[u],t[u+1],r,n)||0;o=t[u++],s=t[u++];break;case ia.Q:if(i){if(Qn(o,s,t[u++],t[u++],t[u],t[u+1],e,r,n))return!0}else a+=ha(o,s,t[u++],t[u++],t[u],t[u+1],r,n)||0;o=t[u++],s=t[u++];break;case ia.A:var f=t[u++],d=t[u++],p=t[u++],v=t[u++],g=t[u++],_=t[u++];u+=1;var m=1-t[u++],y=Math.cos(g)*p+f,x=Math.sin(g)*v+d;1<u?a+=ea(o,s,y,x,r,n):(h=y,l=x);var w=(r-f)*v/p+f;if(i){if(ta(f,d,v,g,g+_,m,e,w,n))return!0}else a+=la(f,d,v,g,g+_,m,w,n);o=Math.cos(g+_)*p+f,s=Math.sin(g+_)*v+d;break;case ia.R:h=o=t[u++],l=s=t[u++];y=h+t[u++],x=l+t[u++];if(i){if(Gn(h,l,y,l,e,r,n)||Gn(y,l,y,x,e,r,n)||Gn(y,x,h,x,e,r,n)||Gn(h,x,h,l,e,r,n))return!0}else a+=ea(y,l,y,x,r,n),a+=ea(h,x,h,l,r,n);break;case ia.Z:if(i){if(Gn(o,s,h,l,e,r,n))return!0}else a+=ea(o,s,h,l,r,n);o=h,s=l}}return i||function(t,e){return Math.abs(t-e)<na}(s,l)||(a+=ea(o,s,h,l,r,n)||0),0!==a}var ca=ki.prototype.getCanvasPattern,fa=Math.abs,da=new Un(!0);function pa(t){br.call(this,t),this.path=null}pa.prototype={constructor:pa,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(t,e){var i,r=this.style,n=this.path||da,a=r.hasStroke(),o=r.hasFill(),s=r.fill,h=r.stroke,l=o&&!!s.colorStops,u=a&&!!h.colorStops,c=o&&!!s.image,f=a&&!!h.image;r.bind(t,this,e),this.setTransform(t),this.__dirty&&(l&&(i=i||this.getBoundingRect(),this._fillGradient=r.getGradient(t,s,i)),u&&(i=i||this.getBoundingRect(),this._strokeGradient=r.getGradient(t,h,i)));l?t.fillStyle=this._fillGradient:c&&(t.fillStyle=ca.call(s,t)),u?t.strokeStyle=this._strokeGradient:f&&(t.strokeStyle=ca.call(h,t));var d=r.lineDash,p=r.lineDashOffset,v=!!t.setLineDash,g=this.getGlobalScale();if(n.setScale(g[0],g[1],this.segmentIgnoreThreshold),this.__dirtyPath||d&&!v&&a?(n.beginPath(t),d&&!v&&(n.setLineDash(d),n.setLineDashOffset(p)),this.buildPath(n,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),o)if(null!=r.fillOpacity){var _=t.globalAlpha;t.globalAlpha=r.fillOpacity*r.opacity,n.fill(t),t.globalAlpha=_}else n.fill(t);if(d&&v&&(t.setLineDash(d),t.lineDashOffset=p),a)if(null!=r.strokeOpacity){_=t.globalAlpha;t.globalAlpha=r.strokeOpacity*r.opacity,n.stroke(t),t.globalAlpha=_}else n.stroke(t);d&&v&&t.setLineDash([]),null!=r.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},buildPath:function(t,e,i){},createPathProxy:function(){this.path=new Un},getBoundingRect:function(){var t=this._rect,e=this.style,i=!t;if(i){var r=this.path;r=r||(this.path=new Un),this.__dirtyPath&&(r.beginPath(),this.buildPath(r,this.shape,!1)),t=r.getBoundingRect()}if(this._rect=t,e.hasStroke()){var n=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||i){n.copy(t);var a=e.lineWidth,o=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(a=Math.max(a,this.strokeContainThreshold||4)),1e-10<o&&(n.width+=a/o,n.height+=a/o,n.x-=a/o/2,n.y-=a/o/2)}return n}return t},contain:function(t,e){var i=this.transformCoordToLocal(t,e),r=this.getBoundingRect(),n=this.style;if(t=i[0],e=i[1],r.contain(t,e)){var a=this.path.data;if(n.hasStroke()){var o=n.lineWidth,s=n.strokeNoScale?this.getLineScale():1;if(1e-10<s&&(n.hasFill()||(o=Math.max(o,this.strokeContainThreshold)),function(t,e,i,r){return ua(t,e,!0,i,r)}(a,o/s,t,e)))return!0}if(n.hasFill())return function(t,e,i){return ua(t,0,!1,e,i)}(a,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):br.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var i=this.shape;if(i){if(L(t))for(var r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);else i[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&1e-10<fa(t[0]-1)&&1e-10<fa(t[3]-1)?Math.sqrt(fa(t[0]*t[3]-t[2]*t[1])):1}},pa.extend=function(n){function t(t){pa.call(this,t),n.style&&this.style.extendFrom(n.style,!1);var e=n.shape;if(e){this.shape=this.shape||{};var i=this.shape;for(var r in e)!i.hasOwnProperty(r)&&e.hasOwnProperty(r)&&(i[r]=e[r])}n.init&&n.init.call(this,t)}for(var e in b(t,pa),n)"style"!==e&&"shape"!==e&&(t.prototype[e]=n[e]);return t},b(pa,br);function va(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}var ga=Un.CMD,_a=[[],[],[]],ma=Math.sqrt,ya=Math.atan2,xa=function(t,e){var i,r,n,a,o,s=t.data,h=ga.M,l=ga.C,u=ga.L,c=ga.R,f=ga.A,d=ga.Q;for(a=n=0;n<s.length;){switch(i=s[n++],a=n,r=0,i){case h:case u:r=1;break;case l:r=3;break;case d:r=2;break;case f:var p=e[4],v=e[5],g=ma(e[0]*e[0]+e[1]*e[1]),_=ma(e[2]*e[2]+e[3]*e[3]),m=ya(-e[1]/_,e[0]/g);s[n]*=g,s[n++]+=p,s[n]*=_,s[n++]+=v,s[n++]*=g,s[n++]*=_,s[n++]+=m,s[n++]+=m,a=n+=2;break;case c:y[0]=s[n++],y[1]=s[n++],nt(y,y,e),s[a++]=y[0],s[a++]=y[1],y[0]+=s[n++],y[1]+=s[n++],nt(y,y,e),s[a++]=y[0],s[a++]=y[1]}for(o=0;o<r;o++){var y;(y=_a[o])[0]=s[n++],y[1]=s[n++],nt(y,y,e),s[a++]=y[0],s[a++]=y[1]}}},wa=Math.sqrt,ba=Math.sin,ka=Math.cos,Ta=Math.PI,Sa=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(va(t)*va(e))},Ca=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Sa(t,e))};function Ma(t,e,i,r,n,a,o,s,h,l,u){var c=h*(Ta/180),f=ka(c)*(t-i)/2+ba(c)*(e-r)/2,d=-1*ba(c)*(t-i)/2+ka(c)*(e-r)/2,p=f*f/(o*o)+d*d/(s*s);1<p&&(o*=wa(p),s*=wa(p));var v=(n===a?-1:1)*wa((o*o*(s*s)-o*o*(d*d)-s*s*(f*f))/(o*o*(d*d)+s*s*(f*f)))||0,g=v*o*d/s,_=v*-s*f/o,m=(t+i)/2+ka(c)*g-ba(c)*_,y=(e+r)/2+ba(c)*g+ka(c)*_,x=Ca([1,0],[(f-g)/o,(d-_)/s]),w=[(f-g)/o,(d-_)/s],b=[(-1*f-g)/o,(-1*d-_)/s],k=Ca(w,b);Sa(w,b)<=-1&&(k=Ta),1<=Sa(w,b)&&(k=0),0===a&&0<k&&(k-=2*Ta),1===a&&k<0&&(k+=2*Ta),u.addData(l,m,y,o,s,x,k,c,a)}var Pa=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,Aa=/-?([0-9]*\\.)?[0-9]+([eE]-?[0-9]+)?/g;function La(t,e){var i=function(t){if(!t)return new Un;for(var e,i=0,r=0,n=i,a=r,o=new Un,s=Un.CMD,h=t.match(Pa),l=0;l<h.length;l++){for(var u,c=h[l],f=c.charAt(0),d=c.match(Aa)||[],p=d.length,v=0;v<p;v++)d[v]=parseFloat(d[v]);for(var g=0;g<p;){var _,m,y,x,w,b,k,T=i,S=r;switch(f){case"l":i+=d[g++],r+=d[g++],u=s.L,o.addData(u,i,r);break;case"L":i=d[g++],r=d[g++],u=s.L,o.addData(u,i,r);break;case"m":i+=d[g++],r+=d[g++],u=s.M,o.addData(u,i,r),n=i,a=r,f="l";break;case"M":i=d[g++],r=d[g++],u=s.M,o.addData(u,i,r),n=i,a=r,f="L";break;case"h":i+=d[g++],u=s.L,o.addData(u,i,r);break;case"H":i=d[g++],u=s.L,o.addData(u,i,r);break;case"v":r+=d[g++],u=s.L,o.addData(u,i,r);break;case"V":r=d[g++],u=s.L,o.addData(u,i,r);break;case"C":u=s.C,o.addData(u,d[g++],d[g++],d[g++],d[g++],d[g++],d[g++]),i=d[g-2],r=d[g-1];break;case"c":u=s.C,o.addData(u,d[g++]+i,d[g++]+r,d[g++]+i,d[g++]+r,d[g++]+i,d[g++]+r),i+=d[g-2],r+=d[g-1];break;case"S":_=i,m=r;var C=o.len(),M=o.data;e===s.C&&(_+=i-M[C-4],m+=r-M[C-3]),u=s.C,T=d[g++],S=d[g++],i=d[g++],r=d[g++],o.addData(u,_,m,T,S,i,r);break;case"s":_=i,m=r;C=o.len(),M=o.data;e===s.C&&(_+=i-M[C-4],m+=r-M[C-3]),u=s.C,T=i+d[g++],S=r+d[g++],i+=d[g++],r+=d[g++],o.addData(u,_,m,T,S,i,r);break;case"Q":T=d[g++],S=d[g++],i=d[g++],r=d[g++],u=s.Q,o.addData(u,T,S,i,r);break;case"q":T=d[g++]+i,S=d[g++]+r,i+=d[g++],r+=d[g++],u=s.Q,o.addData(u,T,S,i,r);break;case"T":_=i,m=r;C=o.len(),M=o.data;e===s.Q&&(_+=i-M[C-4],m+=r-M[C-3]),i=d[g++],r=d[g++],u=s.Q,o.addData(u,_,m,i,r);break;case"t":_=i,m=r;C=o.len(),M=o.data;e===s.Q&&(_+=i-M[C-4],m+=r-M[C-3]),i+=d[g++],r+=d[g++],u=s.Q,o.addData(u,_,m,i,r);break;case"A":y=d[g++],x=d[g++],w=d[g++],b=d[g++],k=d[g++],Ma(T=i,S=r,i=d[g++],r=d[g++],b,k,y,x,w,u=s.A,o);break;case"a":y=d[g++],x=d[g++],w=d[g++],b=d[g++],k=d[g++],Ma(T=i,S=r,i+=d[g++],r+=d[g++],b,k,y,x,w,u=s.A,o)}}"z"!==f&&"Z"!==f||(u=s.Z,o.addData(u),i=n,r=a),e=u}return o.toStatic(),o}(t);return(e=e||{}).buildPath=function(t){if(t.setData){t.setData(i.data),(e=t.getContext())&&t.rebuildPath(e)}else{var e=t;i.rebuildPath(e)}},e.applyTransform=function(t){xa(i,t),this.dirty(!0)},e}function za(t,e){return new pa(La(t,e))}var Da=(Object.freeze||Object)({createFromString:za,extendFromString:function(t,e){return pa.extend(La(t,e))},mergePath:function(t,e){for(var i=[],r=t.length,n=0;n<r;n++){var a=t[n];a.path||a.createPathProxy(),a.__dirtyPath&&a.buildPath(a.path,a.shape,!0),i.push(a.path)}var o=new pa(e);return o.createPathProxy(),o.buildPath=function(t){t.appendPath(i);var e=t.getContext();e&&t.rebuildPath(e)},o}}),Ba=function(t){br.call(this,t)};Ba.prototype={constructor:Ba,type:"text",brush:function(t,e){var i=this.style;this.__dirty&&ar(i),i.fill=i.stroke=i.shadowBlur=i.shadowColor=i.shadowOffsetX=i.shadowOffsetY=null;var r=i.text;null!=r&&(r+=""),yr(r,i)?(this.setTransform(t),sr(this,t,r,i,null,e),this.restoreTransform(t)):t.__attrCachedBy=pi.NONE},getBoundingRect:function(){var t=this.style;if(this.__dirty&&ar(t),!this._rect){var e=t.text;null!=e?e+="":e="";var i=Ni(t.text+"",t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich);if(i.x+=t.x||0,i.y+=t.y||0,vr(t.textStroke,t.textStrokeWidth)){var r=t.textStrokeWidth;i.x-=r/2,i.y-=r/2,i.width+=r,i.height+=r}this._rect=i}return this._rect}},b(Ba,br);var Ia=pa.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,i){i&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}}),Oa=Math.round;function Ea(t,e,i){var r=Oa(2*t);return(r+Oa(e))%2==0?r/2:(r+(i?1:-1))/2}var Ra={},Fa=pa.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var i,r,n,a;this.subPixelOptimize?(function(t,e,i){var r=i&&i.lineWidth;if(e&&r){var n=e.x,a=e.y,o=e.width,s=e.height;t.x=Ea(n,r,!0),t.y=Ea(a,r,!0),t.width=Math.max(Ea(n+o,r,!1)-t.x,0===o?0:1),t.height=Math.max(Ea(a+s,r,!1)-t.y,0===s?0:1)}}(Ra,e,this.style),i=Ra.x,r=Ra.y,n=Ra.width,a=Ra.height,Ra.r=e.r,e=Ra):(i=e.x,r=e.y,n=e.width,a=e.height),e.r?Ki(t,e):t.rect(i,r,n,a),t.closePath()}}),Ha=pa.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(t,e){var i=e.cx,r=e.cy,n=e.rx,a=e.ry,o=.5522848*n,s=.5522848*a;t.moveTo(i-n,r),t.bezierCurveTo(i-n,r-s,i-o,r-a,i,r-a),t.bezierCurveTo(i+o,r-a,i+n,r-s,i+n,r),t.bezierCurveTo(i+n,r+s,i+o,r+a,i,r+a),t.bezierCurveTo(i-o,r+a,i-n,r+s,i-n,r),t.closePath()}}),Na={},Wa=pa.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i,r,n,a;a=this.subPixelOptimize?(function(t,e,i){var r=i&&i.lineWidth;if(e&&r){var n=e.x1,a=e.x2,o=e.y1,s=e.y2;Oa(2*n)===Oa(2*a)?t.x1=t.x2=Ea(n,r,!0):(t.x1=n,t.x2=a),Oa(2*o)===Oa(2*s)?t.y1=t.y2=Ea(o,r,!0):(t.y1=o,t.y2=s)}}(Na,e,this.style),i=Na.x1,r=Na.y1,n=Na.x2,Na.y2):(i=e.x1,r=e.y1,n=e.x2,e.y2);var o=e.percent;0!==o&&(t.moveTo(i,r),o<1&&(n=i*(1-o)+n*o,a=r*(1-o)+a*o),t.lineTo(n,a))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}});function Va(t,e,i,r,n,a,o){var s=.5*(i-t),h=.5*(r-e);return(2*(e-i)+s+h)*o+(-3*(e-i)-2*s-h)*a+s*n+e}function Xa(t,e,i){var r=e.points,n=e.smooth;if(r&&2<=r.length){if(n&&"spline"!==n){var a=function(t,e,i,r){var n,a,o,s,h=[],l=[],u=[],c=[];if(r){o=[1/0,1/0],s=[-1/0,-1/0];for(var f=0,d=t.length;f<d;f++)at(o,o,t[f]),ot(s,s,t[f]);at(o,o,r[0]),ot(s,s,r[1])}for(f=0,d=t.length;f<d;f++){var p=t[f];if(i)n=t[f?f-1:d-1],a=t[(f+1)%d];else{if(0===f||f===d-1){h.push(j(t[f]));continue}n=t[f-1],a=t[f+1]}U(l,a,n),K(l,l,e);var v=tt(p,n),g=tt(p,a),_=v+g;0!==_&&(v/=_,g/=_),K(u,l,-v),K(c,l,g);var m=Y([],p,u),y=Y([],p,c);r&&(ot(m,m,o),at(m,m,s),ot(y,y,o),at(y,y,s)),h.push(m),h.push(y)}return i&&h.push(h.shift()),h}(r,n,i,e.smoothConstraint);t.moveTo(r[0][0],r[0][1]);for(var o=r.length,s=0;s<(i?o:o-1);s++){var h=a[2*s],l=a[2*s+1],u=r[(s+1)%o];t.bezierCurveTo(h[0],h[1],l[0],l[1],u[0],u[1])}}else{"spline"===n&&(r=function(t,e){for(var i=t.length,r=[],n=0,a=1;a<i;a++)n+=tt(t[a-1],t[a]);var o=n/2;o=o<i?i:o;for(a=0;a<o;a++){var s,h,l,u=a/(o-1)*(e?i:i-1),c=Math.floor(u),f=u-c,d=t[c%i];l=e?(s=t[(c-1+i)%i],h=t[(c+1)%i],t[(c+2)%i]):(s=t[0===c?c:c-1],h=t[i-2<c?i-1:c+1],t[i-3<c?i-1:c+2]);var p=f*f,v=f*p;r.push([Va(s[0],d[0],h[0],l[0],f,p,v),Va(s[1],d[1],h[1],l[1],f,p,v)])}return r}(r,i)),t.moveTo(r[0][0],r[0][1]);s=1;for(var c=r.length;s<c;s++)t.lineTo(r[s][0],r[s][1])}i&&t.closePath()}}function qa(t){this.colorStops=t||[]}var ja=pa.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){Xa(t,e,!0)}}),Ya=pa.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){Xa(t,e,!1)}});qa.prototype={constructor:qa,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};function Ua(t,e,i,r,n,a){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==i?1:i,this.y2=null==r?0:r,this.type="linear",this.global=a||!1,qa.call(this,n)}Ua.prototype={constructor:Ua},b(Ua,qa);var Ga=/[\\s,]+/;function Za(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}Za.prototype.parse=function(t,e){e=e||{};var i=function(t){for(A(t)&&(t=(new DOMParser).parseFromString(t,"text/xml")),9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}(t);if(!i)throw new Error("Illegal svg");var r=new ei;this._root=r;var n=i.getAttribute("viewBox")||"",a=parseFloat(i.getAttribute("width")||e.width),o=parseFloat(i.getAttribute("height")||e.height);isNaN(a)&&(a=null),isNaN(o)&&(o=null),eo(i,r,null,!0);for(var s,h,l=i.firstChild;l;)this._parseNode(l,r),l=l.nextSibling;if(n){var u=R(n).split(Ga);4<=u.length&&(s={x:parseFloat(u[0]||0),y:parseFloat(u[1]||0),width:parseFloat(u[2]),height:parseFloat(u[3])})}if(s&&null!=a&&null!=o&&(h=function(t,e,i){var r=e/t.width,n=i/t.height,a=Math.min(r,n),o=[a,a],s=[-(t.x+t.width/2)*a+e/2,-(t.y+t.height/2)*a+i/2];return{scale:o,position:s}}(s,a,o),!e.ignoreViewBox)){var c=r;(r=new ei).add(c),c.scale=h.scale.slice(),c.position=h.position.slice()}return e.ignoreRootClip||null==a||null==o||r.setClipPath(new Fa({shape:{x:0,y:0,width:a,height:o}})),{root:r,width:a,height:o,viewBoxRect:s,viewBoxTransform:h}},Za.prototype._parseNode=function(t,e){var i,r,n=t.nodeName.toLowerCase();if("defs"===n?this._isDefine=!0:"text"===n&&(this._isText=!0),this._isDefine){if(r=$a[n]){var a=r.call(this,t),o=t.getAttribute("id");o&&(this._defs[o]=a)}}else(r=Qa[n])&&(i=r.call(this,t,e),e.add(i));for(var s=t.firstChild;s;)1===s.nodeType&&this._parseNode(s,i),3===s.nodeType&&this._isText&&this._parseText(s,i),s=s.nextSibling;"defs"===n?this._isDefine=!1:"text"===n&&(this._isText=!1)},Za.prototype._parseText=function(t,e){if(1===t.nodeType){var i=t.getAttribute("dx")||0,r=t.getAttribute("dy")||0;this._textX+=parseFloat(i),this._textY+=parseFloat(r)}var n=new Ba({style:{text:t.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});Ka(e,n),eo(t,n,this._defs);var a=n.style.fontSize;a&&a<9&&(n.style.fontSize=9,n.scale=n.scale||[1,1],n.scale[0]*=a/9,n.scale[1]*=a/9);var o=n.getBoundingRect();return this._textX+=o.width,e.add(n),n};var Qa={g:function(t,e){var i=new ei;return Ka(e,i),eo(t,i,this._defs),i},rect:function(t,e){var i=new Fa;return Ka(e,i),eo(t,i,this._defs),i.setShape({x:parseFloat(t.getAttribute("x")||0),y:parseFloat(t.getAttribute("y")||0),width:parseFloat(t.getAttribute("width")||0),height:parseFloat(t.getAttribute("height")||0)}),i},circle:function(t,e){var i=new Ia;return Ka(e,i),eo(t,i,this._defs),i.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),r:parseFloat(t.getAttribute("r")||0)}),i},line:function(t,e){var i=new Wa;return Ka(e,i),eo(t,i,this._defs),i.setShape({x1:parseFloat(t.getAttribute("x1")||0),y1:parseFloat(t.getAttribute("y1")||0),x2:parseFloat(t.getAttribute("x2")||0),y2:parseFloat(t.getAttribute("y2")||0)}),i},ellipse:function(t,e){var i=new Ha;return Ka(e,i),eo(t,i,this._defs),i.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),rx:parseFloat(t.getAttribute("rx")||0),ry:parseFloat(t.getAttribute("ry")||0)}),i},polygon:function(t,e){var i=t.getAttribute("points");i=i&&Ja(i);var r=new ja({shape:{points:i||[]}});return Ka(e,r),eo(t,r,this._defs),r},polyline:function(t,e){var i=new pa;Ka(e,i),eo(t,i,this._defs);var r=t.getAttribute("points");return r=r&&Ja(r),new Ya({shape:{points:r||[]}})},image:function(t,e){var i=new kr;return Ka(e,i),eo(t,i,this._defs),i.setStyle({image:t.getAttribute("xlink:href"),x:t.getAttribute("x"),y:t.getAttribute("y"),width:t.getAttribute("width"),height:t.getAttribute("height")}),i},text:function(t,e){var i=t.getAttribute("x")||0,r=t.getAttribute("y")||0,n=t.getAttribute("dx")||0,a=t.getAttribute("dy")||0;this._textX=parseFloat(i)+parseFloat(n),this._textY=parseFloat(r)+parseFloat(a);var o=new ei;return Ka(e,o),eo(t,o,this._defs),o},tspan:function(t,e){var i=t.getAttribute("x"),r=t.getAttribute("y");null!=i&&(this._textX=parseFloat(i)),null!=r&&(this._textY=parseFloat(r));var n=t.getAttribute("dx")||0,a=t.getAttribute("dy")||0,o=new ei;return Ka(e,o),eo(t,o,this._defs),this._textX+=n,this._textY+=a,o},path:function(t,e){var i=za(t.getAttribute("d")||"");return Ka(e,i),eo(t,i,this._defs),i}},$a={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||0,10),i=parseInt(t.getAttribute("y1")||0,10),r=parseInt(t.getAttribute("x2")||10,10),n=parseInt(t.getAttribute("y2")||0,10),a=new Ua(e,i,r,n);return function(t,e){var i=t.firstChild;for(;i;){if(1===i.nodeType){var r=i.getAttribute("offset");r=0<r.indexOf("%")?parseInt(r,10)/100:r?parseFloat(r):0;var n=i.getAttribute("stop-color")||"#000000";e.addColorStop(r,n)}i=i.nextSibling}}(t,a),a},radialgradient:function(t){}};function Ka(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),g(e.__inheritedStyle,t.__inheritedStyle))}function Ja(t){for(var e=R(t).split(Ga),i=[],r=0;r<e.length;r+=2){var n=parseFloat(e[r]),a=parseFloat(e[r+1]);i.push([n,a])}return i}var to={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"};function eo(t,e,i,r){var n=e.__inheritedStyle||{},a="text"===e.type;if(1===t.nodeType&&(function(t,e){var i=t.getAttribute("transform");if(i){i=i.replace(/,/g," ");var r=null,n=[];i.replace(no,function(t,e,i){n.push(e,i)});for(var a=n.length-1;0<a;a-=2){var o=n[a],s=n[a-1];switch(r=r||Ot(),s){case"translate":o=R(o).split(Ga),Ht(r,r,[parseFloat(o[0]),parseFloat(o[1]||0)]);break;case"scale":o=R(o).split(Ga),Wt(r,r,[parseFloat(o[0]),parseFloat(o[1]||o[0])]);break;case"rotate":o=R(o).split(Ga),Nt(r,r,parseFloat(o[0]));break;case"skew":o=R(o).split(Ga),console.warn("Skew transform is not supported yet");break;case"matrix":o=R(o).split(Ga);r[0]=parseFloat(o[0]),r[1]=parseFloat(o[1]),r[2]=parseFloat(o[2]),r[3]=parseFloat(o[3]),r[4]=parseFloat(o[4]),r[5]=parseFloat(o[5])}}e.setLocalTransform(r)}}(t,e),v(n,function(t){var e=t.getAttribute("style"),i={};if(!e)return i;var r,n={};ao.lastIndex=0;for(;null!=(r=ao.exec(e));)n[r[1]]=r[2];for(var a in to)to.hasOwnProperty(a)&&null!=n[a]&&(i[to[a]]=n[a]);return i}(t)),!r))for(var o in to)if(to.hasOwnProperty(o)){var s=t.getAttribute(o);null!=s&&(n[to[o]]=s)}var h=a?"textFill":"fill",l=a?"textStroke":"stroke";e.style=e.style||new _i;var u=e.style;null!=n.fill&&u.set(h,ro(n.fill,i)),null!=n.stroke&&u.set(l,ro(n.stroke,i)),T(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(t){var e="lineWidth"===t&&a?"textStrokeWidth":t;null!=n[t]&&u.set(e,parseFloat(n[t]))}),n.textBaseline&&"auto"!==n.textBaseline||(n.textBaseline="alphabetic"),"alphabetic"===n.textBaseline&&(n.textBaseline="bottom"),"start"===n.textAlign&&(n.textAlign="left"),"end"===n.textAlign&&(n.textAlign="right"),T(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],function(t){null!=n[t]&&u.set(t,n[t])}),n.lineDash&&(e.style.lineDash=R(n.lineDash).split(Ga)),u[l]&&"none"!==u[l]&&(e[l]=!0),e.__inheritedStyle=n}var io=/url\\(\\s*#(.*?)\\)/;function ro(t,e){var i=e&&t&&t.match(io);return i?e[R(i[1])]:t}var no=/(translate|scale|rotate|skewX|skewY|matrix)\\(([\\-\\s0-9\\.e,]*)\\)/g;var ao=/([^\\s:;]+)\\s*:\\s*([^:;]+)/g;var oo=pa.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,i=0;i<e.length;i++)t=t||e[i].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(e[0],e[1],t[i].segmentIgnoreThreshold)},buildPath:function(t,e){for(var i=e.paths||[],r=0;r<i.length;r++)i[r].buildPath(t,i[r].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),pa.prototype.getBoundingRect.call(this)}});function so(t){br.call(this,t),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}so.prototype.incremental=!0,so.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},so.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.dirty()},so.prototype.addDisplayables=function(t,e){e=e||!1;for(var i=0;i<t.length;i++)this.addDisplayable(t[i],e)},so.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},so.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){(e=this._displayables[t]).parent=this,e.update(),e.parent=null}for(t=0;t<this._temporaryDisplayables.length;t++){var e;(e=this._temporaryDisplayables[t]).parent=this,e.update(),e.parent=null}},so.prototype.brush=function(t,e){for(var i=this._cursor;i<this._displayables.length;i++){(r=this._displayables[i]).beforeBrush&&r.beforeBrush(t),r.brush(t,i===this._cursor?null:this._displayables[i-1]),r.afterBrush&&r.afterBrush(t)}this._cursor=i;for(i=0;i<this._temporaryDisplayables.length;i++){var r;(r=this._temporaryDisplayables[i]).beforeBrush&&r.beforeBrush(t),r.brush(t,0===i?null:this._temporaryDisplayables[i-1]),r.afterBrush&&r.afterBrush(t)}this._temporaryDisplayables=[],this.notClear=!0};var ho=[];so.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new ti(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var i=this._displayables[e],r=i.getBoundingRect().clone();i.needLocalTransform()&&r.applyTransform(i.getLocalTransform(ho)),t.union(r)}this._rect=t}return this._rect},so.prototype.contain=function(t,e){var i=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(i[0],i[1]))for(var r=0;r<this._displayables.length;r++){if(this._displayables[r].contain(t,e))return!0}return!1},b(so,br);var lo=pa.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.cx,r=e.cy,n=Math.max(e.r,0),a=e.startAngle,o=e.endAngle,s=e.clockwise,h=Math.cos(a),l=Math.sin(a);t.moveTo(h*n+i,l*n+r),t.arc(i,r,n,a,o,!s)}}),uo=[];function co(t,e,i){var r=t.cpx2,n=t.cpy2;return null===r||null===n?[(i?vn:pn)(t.x1,t.cpx1,t.cpx2,t.x2,e),(i?vn:pn)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(i?yn:mn)(t.x1,t.cpx1,t.x2,e),(i?yn:mn)(t.y1,t.cpy1,t.y2,e)]}function fo(t,e,i,r,n){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==i?.5:i,this.type="radial",this.global=n||!1,qa.call(this,r)}var po,vo=pa.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.x1,r=e.y1,n=e.x2,a=e.y2,o=e.cpx1,s=e.cpy1,h=e.cpx2,l=e.cpy2,u=e.percent;0!==u&&(t.moveTo(i,r),null==h||null==l?(u<1&&(wn(i,o,n,u,uo),o=uo[1],n=uo[2],wn(r,s,a,u,uo),s=uo[1],a=uo[2]),t.quadraticCurveTo(o,s,n,a)):(u<1&&(_n(i,o,h,n,u,uo),o=uo[1],h=uo[2],n=uo[3],_n(r,s,l,a,u,uo),s=uo[1],l=uo[2],a=uo[3]),t.bezierCurveTo(o,s,h,l,n,a)))},pointAt:function(t){return co(this.shape,t,!1)},tangentAt:function(t){var e=co(this.shape,t,!0);return J(e,e)}}),go=pa.extend({type:"droplet",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,r=e.cy,n=e.width,a=e.height;t.moveTo(i,r+n),t.bezierCurveTo(i+n,r+n,i+3*n/2,r-n/3,i,r-a),t.bezierCurveTo(i-3*n/2,r-n/3,i-n,r+n,i,r+n),t.closePath()}}),_o=pa.extend({type:"heart",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,r=e.cy,n=e.width,a=e.height;t.moveTo(i,r),t.bezierCurveTo(i+n/2,r-2*a/3,i+2*n,r+a/3,i,r+a),t.bezierCurveTo(i-2*n,r+a/3,i-n/2,r-2*a/3,i,r)}}),mo=Math.PI,yo=Math.sin,xo=Math.cos,wo=pa.extend({type:"isogon",shape:{x:0,y:0,r:0,n:0},buildPath:function(t,e){var i=e.n;if(i&&!(i<2)){var r=e.x,n=e.y,a=e.r,o=2*mo/i,s=-mo/2;t.moveTo(r+a*xo(s),n+a*yo(s));for(var h=0,l=i-1;h<l;h++)s+=o,t.lineTo(r+a*xo(s),n+a*yo(s));t.closePath()}}}),bo=pa.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var i=e.cx,r=e.cy,n=2*Math.PI;t.moveTo(i+e.r,r),t.arc(i,r,e.r,0,n,!1),t.moveTo(i+e.r0,r),t.arc(i,r,e.r0,0,n,!0)}}),ko=Math.sin,To=Math.cos,So=Math.PI/180,Co=pa.extend({type:"rose",shape:{cx:0,cy:0,r:[],k:0,n:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i,r,n,a=e.r,o=e.k,s=e.n,h=e.cx,l=e.cy;t.moveTo(h,l);for(var u=0,c=a.length;u<c;u++){n=a[u];for(var f=0;f<=360*s;f++)i=n*ko(o/s*f%360*So)*To(f*So)+h,r=n*ko(o/s*f%360*So)*ko(f*So)+l,t.lineTo(i,r)}}}),Mo=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],Po=pa.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:(po=pa.prototype.brush,_.browser.ie&&11<=_.browser.version?function(){var t,e=this.__clipPaths,i=this.style;if(e)for(var r=0;r<e.length;r++){var n=e[r],a=n&&n.shape,o=n&&n.type;if(a&&("sector"===o&&a.startAngle===a.endAngle||"rect"===o&&(!a.width||!a.height))){for(var s=0;s<Mo.length;s++)Mo[s][2]=i[Mo[s][0]],i[Mo[s][0]]=Mo[s][1];t=!0;break}}if(po.apply(this,arguments),t)for(s=0;s<Mo.length;s++)i[Mo[s][0]]=Mo[s][2]}:po),buildPath:function(t,e){var i=e.cx,r=e.cy,n=Math.max(e.r0||0,0),a=Math.max(e.r,0),o=e.startAngle,s=e.endAngle,h=e.clockwise,l=Math.cos(o),u=Math.sin(o);t.moveTo(l*n+i,u*n+r),t.lineTo(l*a+i,u*a+r),t.arc(i,r,a,o,s,!h),t.lineTo(Math.cos(s)*n+i,Math.sin(s)*n+r),0!==n&&t.arc(i,r,n,s,o,h),t.closePath()}}),Ao=Math.PI,Lo=Math.cos,zo=Math.sin,Do=pa.extend({type:"star",shape:{cx:0,cy:0,n:3,r0:null,r:0},buildPath:function(t,e){var i=e.n;if(i&&!(i<2)){var r=e.cx,n=e.cy,a=e.r,o=e.r0;null==o&&(o=4<i?a*Lo(2*Ao/i)/Lo(Ao/i):a/3);var s=Ao/i,h=-Ao/2,l=r+a*Lo(h),u=n+a*zo(h);h+=s,t.moveTo(l,u);for(var c,f=0,d=2*i-1;f<d;f++)c=f%2==0?o:a,t.lineTo(r+c*Lo(h),n+c*zo(h)),h+=s;t.closePath()}}}),Bo=Math.cos,Io=Math.sin,Oo=pa.extend({type:"trochoid",shape:{cx:0,cy:0,r:0,r0:0,d:0,location:"out"},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i,r,n,a,o=e.r,s=e.r0,h=e.d,l=e.cx,u=e.cy,c="out"===e.location?1:-1;if(!(e.location&&o<=s)){var f,d=0,p=1;for(i=(o+c*s)*Bo(0)-c*h*Bo(0)+l,r=(o+c*s)*Io(0)-h*Io(0)+u,t.moveTo(i,r);s*++d%(o+c*s)!=0;);for(;f=Math.PI/180*p,n=(o+c*s)*Bo(f)-c*h*Bo((o/s+c)*f)+l,a=(o+c*s)*Io(f)-h*Io((o/s+c)*f)+u,t.lineTo(n,a),++p<=s*d/(o+c*s)*360;);}}});fo.prototype={constructor:fo},b(fo,qa);function Eo(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}var Ro=Un.CMD,Fo=Array.prototype.join,Ho="none",No=Math.round,Wo=Math.sin,Vo=Math.cos,Xo=Math.PI,qo=2*Math.PI,jo=180/Xo,Yo=1e-4;function Uo(t){return No(1e4*t)/1e4}function Go(t){return t<Yo&&-Yo<t}function Zo(t,e){e&&Qo(t,"transform","matrix("+Fo.call(e,",")+")")}function Qo(t,e,i){i&&("linear"===i.type||"radial"===i.type)||t.setAttribute(e,i)}function $o(t,e,i,r){if(function(t,e){var i=e?t.textFill:t.fill;return null!=i&&i!==Ho}(e,i)){var n=i?e.textFill:e.fill;Qo(t,"fill",n="transparent"===n?Ho:n),Qo(t,"fill-opacity",null!=e.fillOpacity?e.fillOpacity*e.opacity:e.opacity)}else Qo(t,"fill",Ho);if(function(t,e){var i=e?t.textStroke:t.stroke;return null!=i&&i!==Ho}(e,i)){var a=i?e.textStroke:e.stroke;Qo(t,"stroke",a="transparent"===a?Ho:a),Qo(t,"stroke-width",(i?e.textStrokeWidth:e.lineWidth)/(!i&&e.strokeNoScale?r.getLineScale():1)),Qo(t,"paint-order",i?"stroke":"fill"),Qo(t,"stroke-opacity",null!=e.strokeOpacity?e.strokeOpacity:e.opacity),e.lineDash?(Qo(t,"stroke-dasharray",e.lineDash.join(",")),Qo(t,"stroke-dashoffset",No(e.lineDashOffset||0))):Qo(t,"stroke-dasharray",""),e.lineCap&&Qo(t,"stroke-linecap",e.lineCap),e.lineJoin&&Qo(t,"stroke-linejoin",e.lineJoin),e.miterLimit&&Qo(t,"stroke-miterlimit",e.miterLimit)}else Qo(t,"stroke",Ho)}var Ko={};Ko.brush=function(t){var e=t.style,i=t.__svgEl;i||(i=Eo("path"),t.__svgEl=i),t.path||t.createPathProxy();var r=t.path;if(t.__dirtyPath){r.beginPath(),r.subPixelOptimize=!1,t.buildPath(r,t.shape),t.__dirtyPath=!1;var n=function(t){for(var e=[],i=t.data,r=t.len(),n=0;n<r;){var a="",o=0;switch(i[n++]){case Ro.M:a="M",o=2;break;case Ro.L:a="L",o=2;break;case Ro.Q:a="Q",o=4;break;case Ro.C:a="C",o=6;break;case Ro.A:var s=i[n++],h=i[n++],l=i[n++],u=i[n++],c=i[n++],f=i[n++],d=i[n++],p=i[n++],v=Math.abs(f),g=Go(v-qo)||(p?qo<=f:qo<=-f),_=0<f?f%qo:f%qo+qo,m=!1;m=!!g||!Go(v)&&Xo<=_==!!p;var y=Uo(s+l*Vo(c)),x=Uo(h+u*Wo(c));g&&(f=p?qo-1e-4:1e-4-qo,m=!0,9===n&&e.push("M",y,x));var w=Uo(s+l*Vo(c+f)),b=Uo(h+u*Wo(c+f));e.push("A",Uo(l),Uo(u),No(d*jo),+m,+p,w,b);break;case Ro.Z:a="Z";break;case Ro.R:w=Uo(i[n++]),b=Uo(i[n++]);var k=Uo(i[n++]),T=Uo(i[n++]);e.push("M",w,b,"L",w+k,b,"L",w+k,b+T,"L",w,b+T,"L",w,b)}a&&e.push(a);for(var S=0;S<o;S++)e.push(Uo(i[n++]))}return e.join(" ")}(r);n.indexOf("NaN")<0&&Qo(i,"d",n)}$o(i,e,!1,t),Zo(i,t.transform),null!=e.text?as(t,t.getBoundingRect()):ss(t)};var Jo={brush:function(t){var e=t.style,i=e.image;i instanceof HTMLImageElement&&(i=i.src);if(i){var r=e.x||0,n=e.y||0,a=e.width,o=e.height,s=t.__svgEl;s||(s=Eo("image"),t.__svgEl=s),i!==t.__imageSrc&&(function(t,e,i){t.setAttributeNS("http://www.w3.org/1999/xlink",e,i)}(s,"href",i),t.__imageSrc=i),Qo(s,"width",a),Qo(s,"height",o),Qo(s,"x",r),Qo(s,"y",n),Zo(s,t.transform),null!=e.text?as(t,t.getBoundingRect()):ss(t)}}},ts={},es=new ti,is={},rs=[],ns={left:"start",right:"end",center:"middle",middle:"middle"},as=function(t,e){var i=t.style,r=t.transform,n=t instanceof Ba||i.transformText;t.__dirty&&ar(i);var a=i.text;if(null!=a&&(a+=""),yr(a,i)){null==a&&(a=""),!n&&r&&(es.copy(e),es.applyTransform(r),e=es);var o=t.__textSvgEl;o||(o=Eo("text"),t.__textSvgEl=o);var s=o.style,h=i.font||Ri,l=o.__computedFont;h!==o.__styleFont&&(s.font=o.__styleFont=h,l=o.__computedFont=s.font);var u=i.textPadding,c=i.textLineHeight,f=t.__textCotentBlock;f&&!t.__dirtyText||(f=t.__textCotentBlock=Zi(a,l,u,c,i.truncate));var d=f.outerHeight,p=f.lineHeight;dr(is,t,i,e);var v=is.baseX,g=is.baseY,_=is.textAlign||"left",m=is.textVerticalAlign;!function(t,e,i,r,n,a,o){Et(rs),e&&i&&Rt(rs,i);var s=r.textRotation;if(n&&s){var h=r.textOrigin;"center"===h?(a=n.width/2+n.x,o=n.height/2+n.y):h&&(a=h[0]+n.x,o=h[1]+n.y),rs[4]-=a,rs[5]-=o,Nt(rs,rs,s),rs[4]+=a,rs[5]+=o}Zo(t,rs)}(o,n,r,i,e,v,g);var y=v,x=Vi(g,d,m);u&&(y=function(t,e,i){return"right"===e?t-i[1]:"center"===e?t+i[3]/2-i[1]/2:t+i[3]}(v,_,u),x+=u[0]),x+=p/2,$o(o,i,!0,t);var w=f.canCacheByTextString,b=t.__tspanList||(t.__tspanList=[]),k=b.length;if(w&&t.__canCacheByTextString&&t.__text===a){if(t.__dirtyText&&k)for(var T=0;T<k;++T)os(b[T],_,y,x+T*p)}else{t.__text=a,t.__canCacheByTextString=w;var S=f.lines,C=S.length;for(T=0;T<C;T++){var M=b[T],P=S[T];M?M.__zrText!==P&&(M.innerHTML="",M.appendChild(document.createTextNode(P))):(M=b[T]=Eo("tspan"),o.appendChild(M),M.appendChild(document.createTextNode(P))),os(M,_,y,x+T*p)}if(C<k){for(;T<k;T++)o.removeChild(b[T]);b.length=C}}}};function os(t,e,i,r){Qo(t,"dominant-baseline","middle"),Qo(t,"text-anchor",ns[e]),Qo(t,"x",i),Qo(t,"y",r)}function ss(t){t&&t.__textSvgEl&&(t.__textSvgEl.parentNode&&t.__textSvgEl.parentNode.removeChild(t.__textSvgEl),t.__textSvgEl=null,t.__tspanList=[],t.__text=null)}function hs(){}function ls(t,e){for(var i=0,r=e.length,n=0,a=0;i<r;i++){var o=e[i];if(o.removed){for(s=[],h=a;h<a+o.count;h++)s.push(h);o.indices=s,a+=o.count}else{for(var s=[],h=n;h<n+o.count;h++)s.push(h);o.indices=s,n+=o.count,o.added||(a+=o.count)}}return e}ts.drawRectText=as,ts.brush=function(t){null!=t.style.text?as(t,!1):ss(t)},hs.prototype={diff:function(h,l,t){t=t||function(t,e){return t===e},this.equals=t;var u=this;h=h.slice();var c=(l=l.slice()).length,f=h.length,d=1,e=c+f,p=[{newPos:-1,components:[]}],i=this.extractCommon(p[0],l,h,0);if(p[0].newPos+1>=c&&f<=i+1){for(var r=[],n=0;n<l.length;n++)r.push(n);return[{indices:r,count:l.length}]}function a(){for(var t=-1*d;t<=d;t+=2){var e,i=p[t-1],r=p[t+1],n=(r?r.newPos:0)-t;i&&(p[t-1]=void 0);var a=i&&i.newPos+1<c,o=r&&0<=n&&n<f;if(a||o){if(!a||o&&i.newPos<r.newPos?(e={newPos:(s=r).newPos,components:s.components.slice(0)},u.pushComponent(e.components,void 0,!0)):((e=i).newPos++,u.pushComponent(e.components,!0,void 0)),n=u.extractCommon(e,l,h,t),e.newPos+1>=c&&f<=n+1)return ls(u,e.components,l,h);p[t]=e}else p[t]=void 0}var s;d++}for(;d<=e;){var o=a();if(o)return o}},pushComponent:function(t,e,i){var r=t[t.length-1];r&&r.added===e&&r.removed===i?t[t.length-1]={count:r.count+1,added:e,removed:i}:t.push({count:1,added:e,removed:i})},extractCommon:function(t,e,i,r){for(var n=e.length,a=i.length,o=t.newPos,s=o-r,h=0;o+1<n&&s+1<a&&this.equals(e[o+1],i[s+1]);)o++,s++,h++;return h&&t.components.push({count:h}),t.newPos=o,s},tokenize:function(t){return t.slice()},join:function(t){return t.slice()}};var us=new hs;function cs(t,e,i,r,n){this._zrId=t,this._svgRoot=e,this._tagNames="string"==typeof i?[i]:i,this._markLabel=r,this._domName=n||"_dom",this.nextId=0}function fs(t,e){cs.call(this,t,e,["linearGradient","radialGradient"],"__gradient_in_use__")}function ds(t,e){cs.call(this,t,e,"clipPath","__clippath_in_use__")}function ps(t,e){cs.call(this,t,e,["filter"],"__filter_in_use__","_shadowDom")}function vs(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY||t.textShadowBlur||t.textShadowOffsetX||t.textShadowOffsetY)}function gs(t){return parseInt(t,10)}function _s(t,e){return e&&t&&e.parentNode!==t}function ms(t,e,i){if(_s(t,e)&&i){var r=i.nextSibling;r?t.insertBefore(e,r):t.appendChild(e)}}function ys(t,e){if(_s(t,e)){var i=t.firstChild;i?t.insertBefore(e,i):t.appendChild(e)}}function xs(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)}function ws(t){return t.__textSvgEl}function bs(t){return t.__svgEl}cs.prototype.createElement=Eo,cs.prototype.getDefs=function(t){var e=this._svgRoot,r=this._svgRoot.getElementsByTagName("defs");return 0===r.length?t?((r=e.insertBefore(this.createElement("defs"),e.firstChild)).contains||(r.contains=function(t){var e=r.children;if(!e)return!1;for(var i=e.length-1;0<=i;--i)if(e[i]===t)return!0;return!1}),r):null:r[0]},cs.prototype.update=function(t,e){if(t){var i=this.getDefs(!1);if(t[this._domName]&&i.contains(t[this._domName]))"function"==typeof e&&e(t);else{var r=this.add(t);r&&(t[this._domName]=r)}}},cs.prototype.addDom=function(t){this.getDefs(!0).appendChild(t)},cs.prototype.removeDom=function(t){var e=this.getDefs(!1);e&&t[this._domName]&&(e.removeChild(t[this._domName]),t[this._domName]=null)},cs.prototype.getDoms=function(){var i=this.getDefs(!1);if(!i)return[];var r=[];return T(this._tagNames,function(t){var e=i.getElementsByTagName(t);r=r.concat([].slice.call(e))}),r},cs.prototype.markAllUnused=function(){var t=this.getDoms(),e=this;T(t,function(t){t[e._markLabel]="0"})},cs.prototype.markUsed=function(t){t&&(t[this._markLabel]="1")},cs.prototype.removeUnused=function(){var e=this.getDefs(!1);if(e){var t=this.getDoms(),i=this;T(t,function(t){"1"!==t[i._markLabel]&&e.removeChild(t)})}},cs.prototype.getSvgProxy=function(t){return t instanceof pa?Ko:t instanceof kr?Jo:t instanceof Ba?ts:Ko},cs.prototype.getTextSvgElement=function(t){return t.__textSvgEl},cs.prototype.getSvgElement=function(t){return t.__svgEl},b(fs,cs),fs.prototype.addWithoutUpdate=function(a,o){if(o&&o.style){var s=this;T(["fill","stroke"],function(t){if(o.style[t]&&("linear"===o.style[t].type||"radial"===o.style[t].type)){var e,i=o.style[t],r=s.getDefs(!0);i._dom?(e=i._dom,r.contains(i._dom)||s.addDom(e)):e=s.add(i),s.markUsed(o);var n=e.getAttribute("id");a.setAttribute(t,"url(#"+n+")")}})}},fs.prototype.add=function(t){var e;if("linear"===t.type)e=this.createElement("linearGradient");else{if("radial"!==t.type)return Xe("Illegal gradient type."),null;e=this.createElement("radialGradient")}return t.id=t.id||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-gradient-"+t.id),this.updateDom(t,e),this.addDom(e),e},fs.prototype.update=function(i){var r=this;cs.prototype.update.call(this,i,function(){var t=i.type,e=i._dom.tagName;"linear"===t&&"linearGradient"===e||"radial"===t&&"radialGradient"===e?r.updateDom(i,i._dom):(r.removeDom(i),r.add(i))})},fs.prototype.updateDom=function(t,e){if("linear"===t.type)e.setAttribute("x1",t.x),e.setAttribute("y1",t.y),e.setAttribute("x2",t.x2),e.setAttribute("y2",t.y2);else{if("radial"!==t.type)return void Xe("Illegal gradient type.");e.setAttribute("cx",t.x),e.setAttribute("cy",t.y),e.setAttribute("r",t.r)}t.global?e.setAttribute("gradientUnits","userSpaceOnUse"):e.setAttribute("gradientUnits","objectBoundingBox"),e.innerHTML="";for(var i=t.colorStops,r=0,n=i.length;r<n;++r){var a=this.createElement("stop");a.setAttribute("offset",100*i[r].offset+"%");var o=i[r].color;if(o.indexOf(!1)){var s=ge(o)[3],h=me(o);a.setAttribute("stop-color","#"+h),a.setAttribute("stop-opacity",s)}else a.setAttribute("stop-color",i[r].color);e.appendChild(a)}t._dom=e},fs.prototype.markUsed=function(t){if(t.style){var e=t.style.fill;e&&e._dom&&cs.prototype.markUsed.call(this,e._dom),(e=t.style.stroke)&&e._dom&&cs.prototype.markUsed.call(this,e._dom)}},b(ds,cs),ds.prototype.update=function(t){var e=this.getSvgElement(t);e&&this.updateDom(e,t.__clipPaths,!1);var i=this.getTextSvgElement(t);i&&this.updateDom(i,t.__clipPaths,!0),this.markUsed(t)},ds.prototype.updateDom=function(t,e,i){if(e&&0<e.length){var r,n,a=this.getDefs(!0),o=e[0],s=i?"_textDom":"_dom";o[s]?(n=o[s].getAttribute("id"),r=o[s],a.contains(r)||a.appendChild(r)):(n="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(r=this.createElement("clipPath")).setAttribute("id",n),a.appendChild(r),o[s]=r);var h=this.getSvgProxy(o);if(o.transform&&o.parent.invTransform&&!i){var l=Array.prototype.slice.call(o.transform);Ft(o.transform,o.parent.invTransform,o.transform),h.brush(o),o.transform=l}else h.brush(o);var u=this.getSvgElement(o);r.innerHTML="",r.appendChild(u.cloneNode()),t.setAttribute("clip-path","url(#"+n+")"),1<e.length&&this.updateDom(r,e.slice(1),i)}else t&&t.setAttribute("clip-path","none")},ds.prototype.markUsed=function(t){var e=this;t.__clipPaths&&T(t.__clipPaths,function(t){t._dom&&cs.prototype.markUsed.call(e,t._dom),t._textDom&&cs.prototype.markUsed.call(e,t._textDom)})},b(ps,cs),ps.prototype.addWithoutUpdate=function(t,e){if(e&&vs(e.style)){var i;if(e._shadowDom)i=e._shadowDom,this.getDefs(!0).contains(e._shadowDom)||this.addDom(i);else i=this.add(e);this.markUsed(e);var r=i.getAttribute("id");t.style.filter="url(#"+r+")"}},ps.prototype.add=function(t){var e=this.createElement("filter");return t._shadowDomId=t._shadowDomId||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-shadow-"+t._shadowDomId),this.updateDom(t,e),this.addDom(e),e},ps.prototype.update=function(t,e){if(vs(e.style)){var i=this;cs.prototype.update.call(this,e,function(){i.updateDom(e,e._shadowDom)})}else this.remove(t,e)},ps.prototype.remove=function(t,e){null!=e._shadowDomId&&(this.removeDom(t),t.style.filter="")},ps.prototype.updateDom=function(t,e){var i=e.getElementsByTagName("feDropShadow");i=0===i.length?this.createElement("feDropShadow"):i[0];var r,n,a,o,s=t.style,h=t.scale&&t.scale[0]||1,l=t.scale&&t.scale[1]||1;if(s.shadowBlur||s.shadowOffsetX||s.shadowOffsetY)r=s.shadowOffsetX||0,n=s.shadowOffsetY||0,a=s.shadowBlur,o=s.shadowColor;else{if(!s.textShadowBlur)return void this.removeDom(e,s);r=s.textShadowOffsetX||0,n=s.textShadowOffsetY||0,a=s.textShadowBlur,o=s.textShadowColor}i.setAttribute("dx",r/h),i.setAttribute("dy",n/l),i.setAttribute("flood-color",o);var u=a/2/h+" "+a/2/l;i.setAttribute("stdDeviation",u),e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width",Math.ceil(a/2*200)+"%"),e.setAttribute("height",Math.ceil(a/2*200)+"%"),e.appendChild(i),t._shadowDom=e},ps.prototype.markUsed=function(t){t._shadowDom&&cs.prototype.markUsed.call(this,t._shadowDom)};function ks(t,e,i,r){this.root=t,this.storage=e,this._opts=i=v({},i||{});var n=Eo("svg");n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("version","1.1"),n.setAttribute("baseProfile","full"),n.style.cssText="user-select:none;position:absolute;left:0;top:0;",this.gradientManager=new fs(r,n),this.clipPathManager=new ds(r,n),this.shadowManager=new ps(r,n);var a=document.createElement("div");a.style.cssText="overflow:hidden;position:relative",this._svgRoot=n,this._viewport=a,t.appendChild(a),a.appendChild(n),this.resize(i.width,i.height),this._visibleList=[]}ks.prototype={constructor:ks,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0);this._paintList(t)},setBackgroundColor:function(t){this._viewport.style.background=t},_paintList:function(t){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var e,i,r=this._svgRoot,n=this._visibleList,a=t.length,o=[];for(e=0;e<a;e++){var s=t[e],h=(i=s)instanceof pa?Ko:i instanceof kr?Jo:i instanceof Ba?ts:Ko,l=bs(s)||ws(s);s.invisible||(s.__dirty&&(h&&h.brush(s),this.clipPathManager.update(s),s.style&&(this.gradientManager.update(s.style.fill),this.gradientManager.update(s.style.stroke),this.shadowManager.update(l,s)),s.__dirty=!1),o.push(s))}var u,c=function(t,e,i){return us.diff(t,e,i)}(n,o);for(e=0;e<c.length;e++){if((p=c[e]).removed)for(var f=0;f<p.count;f++){l=bs(s=n[p.indices[f]]);var d=ws(s);xs(r,l),xs(r,d)}}for(e=0;e<c.length;e++){var p;if((p=c[e]).added)for(f=0;f<p.count;f++){l=bs(s=o[p.indices[f]]),d=ws(s);u?ms(r,l,u):ys(r,l),l?ms(r,d,l):u?ms(r,d,u):ys(r,d),ms(r,d,l),u=d||l||u,this.gradientManager.addWithoutUpdate(l||d,s),this.shadowManager.addWithoutUpdate(l||d,s),this.clipPathManager.markUsed(s)}else if(!p.removed)for(f=0;f<p.count;f++){l=bs(s=o[p.indices[f]]),d=ws(s),l=bs(s),d=ws(s);this.gradientManager.markUsed(s),this.gradientManager.addWithoutUpdate(l||d,s),this.shadowManager.markUsed(s),this.shadowManager.addWithoutUpdate(l||d,s),this.clipPathManager.markUsed(s),d&&ms(r,d,l),u=l||d||u}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=o},_getDefs:function(t){var r,e=this._svgRoot;return 0!==(r=this._svgRoot.getElementsByTagName("defs")).length?r[0]:t?((r=e.insertBefore(Eo("defs"),e.firstChild)).contains||(r.contains=function(t){var e=r.children;if(!e)return!1;for(var i=e.length-1;0<=i;--i)if(e[i]===t)return!0;return!1}),r):null},resize:function(t,e){var i=this._viewport;i.style.display="none";var r=this._opts;if(null!=t&&(r.width=t),null!=e&&(r.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display="",this._width!==t||this._height!==e){this._width=t,this._height=e;var n=i.style;n.width=t+"px",n.height=e+"px";var a=this._svgRoot;a.setAttribute("width",t),a.setAttribute("height",e)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,i=["width","height"][t],r=["clientWidth","clientHeight"][t],n=["paddingLeft","paddingTop"][t],a=["paddingRight","paddingBottom"][t];if(null!=e[i]&&"auto"!==e[i])return parseFloat(e[i]);var o=this.root,s=document.defaultView.getComputedStyle(o);return(o[r]||gs(s[i])||gs(o.style[i]))-(gs(s[n])||0)-(gs(s[a])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToDataUrl:function(){return this.refresh(),"data:image/svg+xml;charset=UTF-8,"+this._svgRoot.outerHTML}},T(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){ks.prototype[t]=function(t){return function(){Xe(\'In SVG mode painter not support method "\'+t+\'"\')}}(t)}),tn("svg",ks);var Ts,Ss="urn:schemas-microsoft-com:vml",Cs="undefined"==typeof window?null:window,Ms=!1,Ps=Cs&&Cs.document;function As(t){return Ts(t)}if(Ps&&!_.canvasSupported)try{Ps.namespaces.zrvml||Ps.namespaces.add("zrvml",Ss),Ts=function(t){return Ps.createElement("<zrvml:"+t+\' class="zrvml">\')}}catch(t){Ts=function(t){return Ps.createElement("<"+t+\' xmlns="\'+Ss+\'" class="zrvml">\')}}var Ls,zs=Un.CMD,Ds=Math.round,Bs=Math.sqrt,Is=Math.abs,Os=Math.cos,Es=Math.sin,Rs=Math.max;if(!_.canvasSupported){var Fs=",",Hs="progid:DXImageTransform.Microsoft",Ns=21600,Ws=Ns/2,Vs=function(t){t.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",t.coordsize=Ns+","+Ns,t.coordorigin="0,0"},Xs=function(t,e,i){return"rgb("+[t,e,i].join(",")+")"},qs=function(t,e){e&&t&&e.parentNode!==t&&t.appendChild(e)},js=function(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)},Ys=function(t,e,i){return 1e5*(parseFloat(t)||0)+1e3*(parseFloat(e)||0)+i},Us=_r,Gs=function(t,e,i){var r=ge(e);i=+i,isNaN(i)&&(i=1),r&&(t.color=Xs(r[0],r[1],r[2]),t.opacity=i*r[3])},Zs=function(t,e,i,r){var n="fill"===e,a=t.getElementsByTagName(e)[0];null!=i[e]&&"none"!==i[e]&&(n||!n&&i.lineWidth)?(t[n?"filled":"stroked"]="true",i[e]instanceof qa&&js(t,a),a=a||As(e),n?function(t,e,i){var r,n,a=e.fill;if(null!=a)if(a instanceof qa){var o,s=0,h=[0,0],l=0,u=1,c=i.getBoundingRect(),f=c.width,d=c.height;if("linear"===a.type){o="gradient";var p=i.transform,v=[a.x*f,a.y*d],g=[a.x2*f,a.y2*d];p&&(nt(v,v,p),nt(g,g,p));var _=g[0]-v[0],m=g[1]-v[1];(s=180*Math.atan2(_,m)/Math.PI)<0&&(s+=360),s<1e-6&&(s=0)}else{o="gradientradial";v=[a.x*f,a.y*d],p=i.transform;var y=i.scale,x=f,w=d;h=[(v[0]-c.x)/x,(v[1]-c.y)/w],p&&nt(v,v,p),x/=y[0]*Ns,w/=y[1]*Ns;var b=Rs(x,w);l=0/b,u=2*a.r/b-l}var k=a.colorStops.slice();k.sort(function(t,e){return t.offset-e.offset});for(var T=k.length,S=[],C=[],M=0;M<T;M++){var P=k[M],A=(r=P.color,void 0,n=ge(r),[Xs(n[0],n[1],n[2]),n[3]]);C.push(P.offset*u+l+" "+A[0]),0!==M&&M!==T-1||S.push(A)}if(2<=T){var L=S[0][0],z=S[1][0],D=S[0][1]*e.opacity,B=S[1][1]*e.opacity;t.type=o,t.method="none",t.focus="100%",t.angle=s,t.color=L,t.color2=z,t.colors=C.join(","),t.opacity=B,t.opacity2=D}"radial"===o&&(t.focusposition=h.join(","))}else Gs(t,a,e.opacity)}(a,i,r):function(t,e){e.lineDash&&(t.dashstyle=e.lineDash.join(" ")),null==e.stroke||e.stroke instanceof qa||Gs(t,e.stroke,e.opacity)}(a,i),qs(t,a)):(t[n?"filled":"stroked"]="false",js(t,a))},Qs=[[],[],[]];pa.prototype.brushVML=function(t){var e=this.style,i=this._vmlEl;i||(i=As("shape"),Vs(i),this._vmlEl=i),Zs(i,"fill",e,this),Zs(i,"stroke",e,this);var r=this.transform,n=null!=r,a=i.getElementsByTagName("stroke")[0];if(a){var o=e.lineWidth;if(n&&!e.strokeNoScale){var s=r[0]*r[3]-r[1]*r[2];o*=Bs(Is(s))}a.weight=o+"px"}var h=this.path||(this.path=new Un);this.__dirtyPath&&(h.beginPath(),h.subPixelOptimize=!1,this.buildPath(h,this.shape),h.toStatic(),this.__dirtyPath=!1),i.path=function(t,e){var i,r,n,a,o,s,h=zs.M,l=zs.C,u=zs.L,c=zs.A,f=zs.Q,d=[],p=t.data,v=t.len();for(a=0;a<v;){switch(r="",i=0,n=p[a++]){case h:r=" m ",i=1,o=p[a++],s=p[a++],Qs[0][0]=o,Qs[0][1]=s;break;case u:r=" l ",i=1,o=p[a++],s=p[a++],Qs[0][0]=o,Qs[0][1]=s;break;case f:case l:r=" c ",i=3;var g,_,m=p[a++],y=p[a++],x=p[a++],w=p[a++];n===f?(x=((g=x)+2*m)/3,w=((_=w)+2*y)/3,m=(o+2*m)/3,y=(s+2*y)/3):(g=p[a++],_=p[a++]),Qs[0][0]=m,Qs[0][1]=y,Qs[1][0]=x,Qs[1][1]=w,o=Qs[2][0]=g,s=Qs[2][1]=_;break;case c:var b=0,k=0,T=1,S=1,C=0;e&&(b=e[4],k=e[5],T=Bs(e[0]*e[0]+e[1]*e[1]),S=Bs(e[2]*e[2]+e[3]*e[3]),C=Math.atan2(-e[1]/S,e[0]/T));var M=p[a++],P=p[a++],A=p[a++],L=p[a++],z=p[a++]+C,D=p[a++]+z+C;a++;var B=p[a++],I=M+Os(z)*A,O=P+Es(z)*L,E=(m=M+Os(D)*A,y=P+Es(D)*L,B?" wa ":" at ");Math.abs(I-m)<1e-4&&(.01<Math.abs(D-z)?B&&(I+=.0125):Math.abs(O-P)<1e-4?B&&I<M||!B&&M<I?y-=.0125:y+=.0125:B&&O<P||!B&&P<O?m+=.0125:m-=.0125),d.push(E,Ds(((M-A)*T+b)*Ns-Ws),Fs,Ds(((P-L)*S+k)*Ns-Ws),Fs,Ds(((M+A)*T+b)*Ns-Ws),Fs,Ds(((P+L)*S+k)*Ns-Ws),Fs,Ds((I*T+b)*Ns-Ws),Fs,Ds((O*S+k)*Ns-Ws),Fs,Ds((m*T+b)*Ns-Ws),Fs,Ds((y*S+k)*Ns-Ws)),o=m,s=y;break;case zs.R:var R=Qs[0],F=Qs[1];R[0]=p[a++],R[1]=p[a++],F[0]=R[0]+p[a++],F[1]=R[1]+p[a++],e&&(nt(R,R,e),nt(F,F,e)),R[0]=Ds(R[0]*Ns-Ws),F[0]=Ds(F[0]*Ns-Ws),R[1]=Ds(R[1]*Ns-Ws),F[1]=Ds(F[1]*Ns-Ws),d.push(" m ",R[0],Fs,R[1]," l ",F[0],Fs,R[1]," l ",F[0],Fs,F[1]," l ",R[0],Fs,F[1]);break;case zs.Z:d.push(" x ")}if(0<i){d.push(r);for(var H=0;H<i;H++){var N=Qs[H];e&&nt(N,N,e),d.push(Ds(N[0]*Ns-Ws),Fs,Ds(N[1]*Ns-Ws),H<i-1?Fs:"")}}}return d.join("")}(h,this.transform),i.style.zIndex=Ys(this.zlevel,this.z,this.z2),qs(t,i),null!=e.text?this.drawRectText(t,this.getBoundingRect()):this.removeRectText(t)},pa.prototype.onRemove=function(t){js(t,this._vmlEl),this.removeRectText(t)},pa.prototype.onAdd=function(t){qs(t,this._vmlEl),this.appendRectText(t)};kr.prototype.brushVML=function(t){var e,i,r=this.style,n=r.image;if(function(t){return"object"==typeof t&&t.tagName&&"IMG"===t.tagName.toUpperCase()}(n)){var a=n.src;if(a===this._imageSrc)e=this._imageWidth,i=this._imageHeight;else{var o=n.runtimeStyle,s=o.width,h=o.height;o.width="auto",o.height="auto",e=n.width,i=n.height,o.width=s,o.height=h,this._imageSrc=a,this._imageWidth=e,this._imageHeight=i}n=a}else n===this._imageSrc&&(e=this._imageWidth,i=this._imageHeight);if(n){var l=r.x||0,u=r.y||0,c=r.width,f=r.height,d=r.sWidth,p=r.sHeight,v=r.sx||0,g=r.sy||0,_=d&&p,m=this._vmlEl;m||(m=Ps.createElement("div"),Vs(m),this._vmlEl=m);var y,x=m.style,w=!1,b=1,k=1;if(this.transform&&(y=this.transform,b=Bs(y[0]*y[0]+y[1]*y[1]),k=Bs(y[2]*y[2]+y[3]*y[3]),w=y[1]||y[2]),w){var T=[l,u],S=[l+c,u],C=[l,u+f],M=[l+c,u+f];nt(T,T,y),nt(S,S,y),nt(C,C,y),nt(M,M,y);var P=Rs(T[0],S[0],C[0],M[0]),A=Rs(T[1],S[1],C[1],M[1]),L=[];L.push("M11=",y[0]/b,Fs,"M12=",y[2]/k,Fs,"M21=",y[1]/b,Fs,"M22=",y[3]/k,Fs,"Dx=",Ds(l*b+y[4]),Fs,"Dy=",Ds(u*k+y[5])),x.padding="0 "+Ds(P)+"px "+Ds(A)+"px 0",x.filter=Hs+".Matrix("+L.join("")+", SizingMethod=clip)"}else y&&(l=l*b+y[4],u=u*k+y[5]),x.filter="",x.left=Ds(l)+"px",x.top=Ds(u)+"px";var z=this._imageEl,D=this._cropEl;z||(z=Ps.createElement("div"),this._imageEl=z);var B=z.style;if(_){if(e&&i)B.width=Ds(b*e*c/d)+"px",B.height=Ds(k*i*f/p)+"px";else{var I=new Image,O=this;I.onload=function(){I.onload=null,e=I.width,i=I.height,B.width=Ds(b*e*c/d)+"px",B.height=Ds(k*i*f/p)+"px",O._imageWidth=e,O._imageHeight=i,O._imageSrc=n},I.src=n}D||((D=Ps.createElement("div")).style.overflow="hidden",this._cropEl=D);var E=D.style;E.width=Ds((c+v*c/d)*b),E.height=Ds((f+g*f/p)*k),E.filter=Hs+".Matrix(Dx="+-v*c/d*b+",Dy="+-g*f/p*k+")",D.parentNode||m.appendChild(D),z.parentNode!==D&&D.appendChild(z)}else B.width=Ds(b*c)+"px",B.height=Ds(k*f)+"px",m.appendChild(z),D&&D.parentNode&&(m.removeChild(D),this._cropEl=null);var R="",F=r.opacity;F<1&&(R+=".Alpha(opacity="+Ds(100*F)+") "),R+=Hs+".AlphaImageLoader(src="+n+", SizingMethod=scale)",B.filter=R,m.style.zIndex=Ys(this.zlevel,this.z,this.z2),qs(t,m),null!=r.text&&this.drawRectText(t,this.getBoundingRect())}},kr.prototype.onRemove=function(t){js(t,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(t)},kr.prototype.onAdd=function(t){qs(t,this._vmlEl),this.appendRectText(t)};var $s,Ks="normal",Js={},th=0,eh=document.createElement("div");Ls=function(t,e){var i=Ps;$s||(($s=i.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",Ps.body.appendChild($s));try{$s.style.font=e}catch(t){}return $s.innerHTML="",$s.appendChild(i.createTextNode(t)),{width:$s.offsetWidth}},Fi["measureText"]=Ls;for(var ih=new ti,rh=function(t,e,i,r){var n=this.style;this.__dirty&&ar(n);var a=n.text;if(null!=a&&(a+=""),a){if(n.rich){var o=Qi(a,n);a=[];for(var s=0;s<o.lines.length;s++){for(var h=o.lines[s].tokens,l=[],u=0;u<h.length;u++)l.push(h[u].text);a.push(l.join(""))}a=a.join("\\n")}var c,f,d=n.textAlign,p=n.textVerticalAlign,v=function(t){var e=Js[t];if(!e){100<th&&(th=0,Js={});var i,r=eh.style;try{r.font=t,i=r.fontFamily.split(",")[0]}catch(t){}e={style:r.fontStyle||Ks,variant:r.fontVariant||Ks,weight:r.fontWeight||Ks,size:0|parseFloat(r.fontSize||12),family:i||"Microsoft YaHei"},Js[t]=e,th++}return e}(n.font),g=v.style+" "+v.variant+" "+v.weight+" "+v.size+\'px "\'+v.family+\'"\';i=i||Ni(a,g,d,p,n.textPadding,n.textLineHeight);var _=this.transform;if(_&&!r&&(ih.copy(e),ih.applyTransform(_),e=ih),r)c=e.x,f=e.y;else{var m=n.textPosition;if(m instanceof Array)c=e.x+Us(m[0],e.width),f=e.y+Us(m[1],e.height),d=d||"left";else{var y=this.calculateTextPosition?this.calculateTextPosition({},n,e):Xi({},n,e);c=y.x,f=y.y,d=d||y.textAlign,p=p||y.textVerticalAlign}}c=Wi(c,i.width,d),f=Vi(f,i.height,p),f+=i.height/2;var x,w,b,k=As,T=this._textVmlEl;T?w=(x=(b=T.firstChild).nextSibling).nextSibling:(T=k("line"),x=k("path"),w=k("textpath"),b=k("skew"),w.style["v-text-align"]="left",Vs(T),x.textpathok=!0,w.on=!0,T.from="0 0",T.to="1000 0.05",qs(T,b),qs(T,x),qs(T,w),this._textVmlEl=T);var S=[c,f],C=T.style;_&&r?(nt(S,S,_),b.on=!0,b.matrix=_[0].toFixed(3)+Fs+_[2].toFixed(3)+Fs+_[1].toFixed(3)+Fs+_[3].toFixed(3)+",0,0",b.offset=(Ds(S[0])||0)+","+(Ds(S[1])||0),b.origin="0 0",C.left="0px",C.top="0px"):(b.on=!1,C.left=Ds(c)+"px",C.top=Ds(f)+"px"),w.string=function(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}(a);try{w.style.font=g}catch(t){}Zs(T,"fill",{fill:n.textFill,opacity:n.opacity},this),Zs(T,"stroke",{stroke:n.textStroke,opacity:n.opacity,lineDash:n.lineDash||null},this),T.style.zIndex=Ys(this.zlevel,this.z,this.z2),qs(t,T)}},nh=function(t){js(t,this._textVmlEl),this._textVmlEl=null},ah=function(t){qs(t,this._textVmlEl)},oh=[xr,br,kr,pa,Ba],sh=0;sh<oh.length;sh++){var hh=oh[sh].prototype;hh.drawRectText=rh,hh.removeRectText=nh,hh.appendRectText=ah}Ba.prototype.brushVML=function(t){var e=this.style;null!=e.text?this.drawRectText(t,{x:e.x||0,y:e.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(t)},Ba.prototype.onRemove=function(t){this.removeRectText(t)},Ba.prototype.onAdd=function(t){this.appendRectText(t)}}function lh(t){return parseInt(t,10)}function uh(t,e){!function(){if(!Ms&&Ps){Ms=!0;var t=Ps.styleSheets;t.length<31?Ps.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):t[0].addRule(".zrvml","behavior:url(#default#VML)")}}(),this.root=t,this.storage=e;var i=document.createElement("div"),r=document.createElement("div");i.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",r.style.cssText="position:absolute;left:0;top:0;",t.appendChild(i),this._vmlRoot=r,this._vmlViewport=i,this.resize();var n=e.delFromStorage,a=e.addToStorage;e.delFromStorage=function(t){n.call(e,t),t&&t.onRemove&&t.onRemove(r)},e.addToStorage=function(t){t.onAdd&&t.onAdd(r),a.call(e,t)},this._firstPaint=!0}uh.prototype={constructor:uh,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0,!0);this._paintList(t)},_paintList:function(t){for(var e=this._vmlRoot,i=0;i<t.length;i++){var r=t[i];r.invisible||r.ignore?(r.__alreadyNotVisible||r.onRemove(e),r.__alreadyNotVisible=!0):(r.__alreadyNotVisible&&r.onAdd(e),r.__alreadyNotVisible=!1,r.__dirty&&(r.beforeBrush&&r.beforeBrush(),(r.brushVML||r.brush).call(r,e),r.afterBrush&&r.afterBrush())),r.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(e),this._firstPaint=!1)},resize:function(t,e){t=null==t?this._getWidth():t,e=null==e?this._getHeight():e;if(this._width!==t||this._height!==e){this._width=t,this._height=e;var i=this._vmlViewport.style;i.width=t+"px",i.height=e+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var t=this.root,e=t.currentStyle;return(t.clientWidth||lh(e.width))-lh(e.paddingLeft)-lh(e.paddingRight)|0},_getHeight:function(){var t=this.root,e=t.currentStyle;return(t.clientHeight||lh(e.height))-lh(e.paddingTop)-lh(e.paddingBottom)|0}},T(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){uh.prototype[t]=function(t){return function(){Xe(\'In IE8.0 VML mode painter not support method "\'+t+\'"\')}}(t)}),tn("vml",uh),t.version="4.2.0",t.init=function(t,e){var i=new en(r(),t,e);return Jr[i.id]=i},t.dispose=function(t){if(t)t.dispose();else{for(var e in Jr)Jr.hasOwnProperty(e)&&Jr[e].dispose();Jr={}}return this},t.getInstance=function(t){return Jr[t]},t.registerPainter=tn,t.matrix=Xt,t.vector=st,t.color=Te,t.path=Da,t.util=V,t.parseSVG=function(t,e){return(new Za).parse(t,e)},t.Group=ei,t.Path=pa,t.Image=kr,t.CompoundPath=oo,t.Text=Ba,t.IncrementalDisplayable=so,t.Arc=lo,t.BezierCurve=vo,t.Circle=Ia,t.Droplet=go,t.Ellipse=Ha,t.Heart=_o,t.Isogon=wo,t.Line=Wa,t.Polygon=ja,t.Polyline=Ya,t.Rect=Fa,t.Ring=bo,t.Rose=Co,t.Sector=Po,t.Star=Do,t.Trochoid=Oo,t.LinearGradient=Ua,t.RadialGradient=fo,t.Pattern=ki,t.BoundingRect=ti});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9saWIvenJlbmRlci5taW4uanM/Njg1ZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxlQUFlLEtBQW9ELFlBQVksU0FBMkUsQ0FBQyxrQkFBa0IsYUFBYSxhQUFhLFdBQVcsMkVBQTJFLFVBQVUsTUFBTSwyRkFBMkYseURBQXlELFVBQVUsTUFBTSxzREFBc0QsZ0NBQWdDLFVBQVUsTUFBTSxzRUFBc0UsYUFBYSxRQUFRLDBKQUEwSixpQ0FBaUMsNEJBQTRCLDhCQUE4QixpQkFBaUIsT0FBTyxlQUFlLHVTQUF1UyxzQkFBc0IsT0FBTyw2S0FBNkssSUFBSSxvT0FBb08sd0dBQXdHLGNBQWMsd0NBQXdDLG9CQUFvQix5QkFBeUIsVUFBVSxLQUFLLHVCQUF1QixJQUFJLGtCQUFrQixjQUFjLFVBQVUsb0JBQW9CLGtDQUFrQyxLQUFLLGtCQUFrQixtQkFBbUIsSUFBSSxtQkFBbUIsNkNBQTZDLHVDQUF1QyxTQUFTLGtCQUFrQixnQ0FBZ0MsdUNBQXVDLGtCQUFrQixpR0FBaUcsU0FBUyxnQkFBZ0IsZ0RBQWdELFNBQVMsa0JBQWtCLDJFQUEyRSxTQUFTLGFBQWEsd0JBQXdCLE1BQU0sYUFBYSxpQ0FBaUMsZ0JBQWdCLE1BQU0saUNBQWlDLHVCQUF1QixJQUFJLHlCQUF5QixTQUFTLGdCQUFnQixrQkFBa0IsY0FBYyxvR0FBb0cseUNBQXlDLGtCQUFrQixxRUFBcUUsY0FBYyx5REFBeUQsa0JBQWtCLG1EQUFtRCxvREFBb0QsSUFBSSx1QkFBdUIsNERBQTRELGtCQUFrQixTQUFTLHNDQUFzQyw0QkFBNEIsSUFBSSwrQkFBK0IsVUFBVSxnQkFBZ0IsMEJBQTBCLGtCQUFrQiwrQ0FBK0MsY0FBYyxtQ0FBbUMsY0FBYywyQkFBMkIsY0FBYyxvQ0FBb0MsY0FBYyxlQUFlLHNDQUFzQyxjQUFjLHFCQUFxQixjQUFjLHdGQUF3RixnQkFBZ0IsbUJBQW1CLGtCQUFrQiw2QkFBNkIsY0FBYyxzQ0FBc0MsZUFBZSxpRUFB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LG1DQUFtQyx1QkFBdUIsZ0NBQWdDLHdCQUF3QixlQUFlLHNCQUFzQixpQkFBaUIsWUFBWSxZQUFZLE1BQU0scUJBQXFCLHNJQUFzSSw4QkFBOEIsb0VBQW9FLHNDQUFzQyxnQkFBZ0Isa0JBQWtCLFlBQVksYUFBYSxxQ0FBcUMsT0FBTyxNQUFNLHFFQUFxRSx3Q0FBd0MsNkJBQTZCLHlDQUF5Qyw0QkFBNEIsZ0NBQWdDLHFCQUFxQixjQUFjLGtDQUFrQyxZQUFZLDRCQUE0Qix5QkFBeUIsa0NBQWtDLDZCQUE2QixZQUFZLHFEQUFxRCxvQkFBb0IseUNBQXlDLG1CQUFtQix3QkFBd0IsNEJBQTRCLFdBQVcsS0FBSyxXQUFXLHlRQUF5USx5RUFBeUUsc0JBQXNCLDJEQUEyRCxzQ0FBc0MsNkJBQTZCLDhCQUE4QixnQ0FBZ0Msb0JBQW9CLHlFQUF5RSxxQkFBcUIsbUJBQW1CLHNCQUFzQixvQkFBb0Isa0JBQWtCLDREQUE0RCxzQkFBc0IsaUNBQWlDLDBFQUEwRSx1QkFBdUIsaUNBQWlDLDZFQUE2RSxtS0FBbUssNEJBQTRCLGtCQUFrQiw0REFBNEQsSUFBSSxzREFBc0Qsc0JBQXNCLGtCQUFrQix1QkFBdUIsaUJBQWlCLEtBQUssc0RBQXNELE1BQU0sWUFBWSwyQkFBMkIsYUFBYSxxR0FBcUcsMEJBQTBCLDhWQUE4ViIsImZpbGUiOiIyMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP2UoZXhwb3J0cyk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJleHBvcnRzXCJdLGUpOmUodC56cmVuZGVyPXt9KX0odGhpcyxmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKCl7cmV0dXJuIGUrK312YXIgZT0yMzExLF89XCJvYmplY3RcIj09dHlwZW9mIHd4JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB3eC5nZXRTeXN0ZW1JbmZvU3luYz97YnJvd3Nlcjp7fSxvczp7fSxub2RlOiExLHd4YTohMCxjYW52YXNTdXBwb3J0ZWQ6ITAsc3ZnU3VwcG9ydGVkOiExLHRvdWNoRXZlbnRzU3VwcG9ydGVkOiEwLGRvbVN1cHBvcnRlZDohMX06XCJ1bmRlZmluZWRcIj09dHlwZW9mIGRvY3VtZW50JiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj97YnJvd3Nlcjp7fSxvczp7fSxub2RlOiExLHdvcmtlcjohMCxjYW52YXNTdXBwb3J0ZWQ6ITAsZG9tU3VwcG9ydGVkOiExfTpcInVuZGVmaW5lZFwiPT10eXBlb2YgbmF2aWdhdG9yP3ticm93c2VyOnt9LG9zOnt9LG5vZGU6ITAsd29ya2VyOiExLGNhbnZhc1N1cHBvcnRlZDohMCxzdmdTdXBwb3J0ZWQ6ITAsZG9tU3VwcG9ydGVkOiExfTpmdW5jdGlvbih0KXt2YXIgZT17fSxpPXQubWF0Y2goL0ZpcmVmb3hcXC8oW1xcZC5dKykvKSxyPXQubWF0Y2goL01TSUVcXHMoW1xcZC5dKykvKXx8dC5tYXRjaCgvVHJpZGVudFxcLy4rP3J2OigoW1xcZC5dKykpLyksbj10Lm1hdGNoKC9FZGdlXFwvKFtcXGQuXSspLyksYT0vbWljcm9tZXNzZW5nZXIvaS50ZXN0KHQpO2kmJihlLmZpcmVmb3g9ITAsZS52ZXJzaW9uPWlbMV0pO3ImJihlLmllPSEwLGUudmVyc2lvbj1yWzFdKTtuJiYoZS5lZGdlPSEwLGUudmVyc2lvbj1uWzFdKTthJiYoZS53ZUNoYXQ9ITApO3JldHVybnticm93c2VyOmUsb3M6e30sbm9kZTohMSxjYW52YXNTdXBwb3J0ZWQ6ISFkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLmdldENvbnRleHQsc3ZnU3VwcG9ydGVkOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBTVkdSZWN0LHRvdWNoRXZlbnRzU3VwcG9ydGVkOlwib250b3VjaHN0YXJ0XCJpbiB3aW5kb3cmJiFlLmllJiYhZS5lZGdlLHBvaW50ZXJFdmVudHNTdXBwb3J0ZWQ6XCJvbnBvaW50ZXJkb3duXCJpbiB3aW5kb3cmJihlLmVkZ2V8fGUuaWUmJjExPD1lLnZlcnNpb24pLGRvbVN1cHBvcnRlZDpcInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnR9fShuYXZpZ2F0b3IudXNlckFnZW50KTt2YXIgcz17XCJbb2JqZWN0IEZ1bmN0aW9uXVwiOjEsXCJbb2JqZWN0IFJlZ0V4cF1cIjoxLFwiW29iamVjdCBEYXRlXVwiOjEsXCJbb2JqZWN0IEVycm9yXVwiOjEsXCJbb2JqZWN0IENhbnZhc0dyYWRpZW50XVwiOjEsXCJbb2JqZWN0IENhbnZhc1BhdHRlcm5dXCI6MSxcIltvYmplY3QgSW1hZ2VdXCI6MSxcIltvYmplY3QgQ2FudmFzXVwiOjF9LGg9e1wiW29iamVjdCBJbnQ4QXJyYXldXCI6MSxcIltvYmplY3QgVWludDhBcnJheV1cIjoxLFwiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV1cIjoxLFwiW29iamVjdCBJbnQxNkFycmF5XVwiOjEsXCJbb2JqZWN0IFVpbnQxNkFycmF5XVwiOjEsXCJbb2JqZWN0IEludDMyQXJyYXldXCI6MSxcIltvYmplY3QgVWludDMyQXJyYXldXCI6MSxcIltvYmplY3QgRmxvYXQzMkFycmF5XVwiOjEsXCJbb2JqZWN0IEZsb2F0NjRBcnJheV1cIjoxfSxsPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsaT1BcnJheS5wcm90b3R5cGUsbz1pLmZvckVhY2gsdT1pLmZpbHRlcixuPWkuc2xpY2UsYz1pLm1hcCxmPWkucmVkdWNlLGE9e307ZnVuY3Rpb24gZCh0KXtpZihudWxsPT10fHxcIm9iamVjdFwiIT10eXBlb2YgdClyZXR1cm4gdDt2YXIgZT10LGk9bC5jYWxsKHQpO2lmKFwiW29iamVjdCBBcnJheV1cIj09PWkpe2lmKCFIKHQpKXtlPVtdO2Zvcih2YXIgcj0wLG49dC5sZW5ndGg7cjxuO3IrKyllW3JdPWQodFtyXSl9fWVsc2UgaWYoaFtpXSl7aWYoIUgodCkpe3ZhciBhPXQuY29uc3RydWN0b3I7aWYodC5jb25zdHJ1Y3Rvci5mcm9tKWU9YS5mcm9tKHQpO2Vsc2V7ZT1uZXcgYSh0Lmxlbmd0aCk7Zm9yKHI9MCxuPXQubGVuZ3RoO3I8bjtyKyspZVtyXT1kKHRbcl0pfX19ZWxzZSBpZighc1tpXSYmIUgodCkmJiFCKHQpKWZvcih2YXIgbyBpbiBlPXt9LHQpdC5oYXNPd25Qcm9wZXJ0eShvKSYmKGVbb109ZCh0W29dKSk7cmV0dXJuIGV9ZnVuY3Rpb24gcCh0LGUsaSl7aWYoIUwoZSl8fCFMKHQpKXJldHVybiBpP2QoZSk6dDtmb3IodmFyIHIgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHIpKXt2YXIgbj10W3JdLGE9ZVtyXTshTChhKXx8IUwobil8fE0oYSl8fE0obil8fEIoYSl8fEIobil8fHooYSl8fHoobil8fEgoYSl8fEgobik/IWkmJnIgaW4gdHx8KHRbcl09ZChlW3JdKSk6cChuLGEsaSl9cmV0dXJuIHR9ZnVuY3Rpb24gdih0LGUpe2Zvcih2YXIgaSBpbiBlKWUuaGFzT3duUHJvcGVydHkoaSkmJih0W2ldPWVbaV0pO3JldHVybiB0fWZ1bmN0aW9uIGcodCxlLGkpe2Zvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJihpP251bGwhPWVbcl06bnVsbD09dFtyXSkmJih0W3JdPWVbcl0pO3JldHVybiB0fWZ1bmN0aW9uIG0oKXtyZXR1cm4gYS5jcmVhdGVDYW52YXMoKX12YXIgeTtmdW5jdGlvbiB4KCl7cmV0dXJuIHk9eXx8bSgpLmdldENvbnRleHQoXCIyZFwiKX1mdW5jdGlvbiB3KHQsZSl7aWYodCl7aWYodC5pbmRleE9mKXJldHVybiB0LmluZGV4T2YoZSk7Zm9yKHZhciBpPTAscj10Lmxlbmd0aDtpPHI7aSsrKWlmKHRbaV09PT1lKXJldHVybiBpfXJldHVybi0xfWZ1bmN0aW9uIGIodCxlKXt2YXIgaT10LnByb3RvdHlwZTtmdW5jdGlvbiByKCl7fWZvcih2YXIgbiBpbiByLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgcixpKWkuaGFzT3duUHJvcGVydHkobikmJih0LnByb3RvdHlwZVtuXT1pW25dKTsodC5wcm90b3R5cGUuY29uc3RydWN0b3I9dCkuc3VwZXJDbGFzcz1lfWZ1bmN0aW9uIGsodCxlLGkpe2codD1cInByb3RvdHlwZVwiaW4gdD90LnByb3RvdHlwZTp0LGU9XCJwcm90b3R5cGVcImluIGU/ZS5wcm90b3R5cGU6ZSxpKX1mdW5jdGlvbiBEKHQpe2lmKHQpcmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIHQmJlwibnVtYmVyXCI9PXR5cGVvZiB0Lmxlbmd0aH1mdW5jdGlvbiBUKHQsZSxpKXtpZih0JiZlKWlmKHQuZm9yRWFjaCYmdC5mb3JFYWNoPT09byl0LmZvckVhY2goZSxpKTtlbHNlIGlmKHQubGVuZ3RoPT09K3QubGVuZ3RoKWZvcih2YXIgcj0wLG49dC5sZW5ndGg7cjxuO3IrKyllLmNhbGwoaSx0W3JdLHIsdCk7ZWxzZSBmb3IodmFyIGEgaW4gdCl0Lmhhc093blByb3BlcnR5KGEpJiZlLmNhbGwoaSx0W2FdLGEsdCl9ZnVuY3Rpb24gUyh0LGUsaSl7aWYodCYmZSl7aWYodC5tYXAmJnQubWFwPT09YylyZXR1cm4gdC5tYXAoZSxpKTtmb3IodmFyIHI9W10sbj0wLGE9dC5sZW5ndGg7bjxhO24rKylyLnB1c2goZS5jYWxsKGksdFtuXSxuLHQpKTtyZXR1cm4gcn19ZnVuY3Rpb24gQyh0LGUpe3ZhciBpPW4uY2FsbChhcmd1bWVudHMsMik7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxpLmNvbmNhdChuLmNhbGwoYXJndW1lbnRzKSkpfX1mdW5jdGlvbiBNKHQpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09PWwuY2FsbCh0KX1mdW5jdGlvbiBQKHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHR9ZnVuY3Rpb24gQSh0KXtyZXR1cm5cIltvYmplY3QgU3RyaW5nXVwiPT09bC5jYWxsKHQpfWZ1bmN0aW9uIEwodCl7dmFyIGU9dHlwZW9mIHQ7cmV0dXJuXCJmdW5jdGlvblwiPT1lfHwhIXQmJlwib2JqZWN0XCI9PWV9ZnVuY3Rpb24geih0KXtyZXR1cm4hIXNbbC5jYWxsKHQpXX1mdW5jdGlvbiBCKHQpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiB0JiZcIm51bWJlclwiPT10eXBlb2YgdC5ub2RlVHlwZSYmXCJvYmplY3RcIj09dHlwZW9mIHQub3duZXJEb2N1bWVudH1mdW5jdGlvbiBJKHQsZSl7cmV0dXJuIG51bGwhPXQ/dDplfWZ1bmN0aW9uIE8odCxlLGkpe3JldHVybiBudWxsIT10P3Q6bnVsbCE9ZT9lOml9ZnVuY3Rpb24gRSh0KXtpZihcIm51bWJlclwiPT10eXBlb2YgdClyZXR1cm5bdCx0LHQsdF07dmFyIGU9dC5sZW5ndGg7cmV0dXJuIDI9PT1lP1t0WzBdLHRbMV0sdFswXSx0WzFdXTozPT09ZT9bdFswXSx0WzFdLHRbMl0sdFsxXV06dH1mdW5jdGlvbiBSKHQpe3JldHVybiBudWxsPT10P251bGw6XCJmdW5jdGlvblwiPT10eXBlb2YgdC50cmltP3QudHJpbSgpOnQucmVwbGFjZSgvXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2csXCJcIil9YS5jcmVhdGVDYW52YXM9ZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKX07dmFyIEY9XCJfX2VjX3ByaW1pdGl2ZV9fXCI7ZnVuY3Rpb24gSCh0KXtyZXR1cm4gdFtGXX1mdW5jdGlvbiBOKHQpe3ZhciBpPU0odCk7dGhpcy5kYXRhPXt9O3ZhciByPXRoaXM7ZnVuY3Rpb24gZSh0LGUpe2k/ci5zZXQodCxlKTpyLnNldChlLHQpfXQgaW5zdGFuY2VvZiBOP3QuZWFjaChlKTp0JiZUKHQsZSl9ZnVuY3Rpb24gVygpe31OLnByb3RvdHlwZT17Y29uc3RydWN0b3I6TixnZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGF0YS5oYXNPd25Qcm9wZXJ0eSh0KT90aGlzLmRhdGFbdF06bnVsbH0sc2V0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZGF0YVt0XT1lfSxlYWNoOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpIGluIHZvaWQgMCE9PWUmJih0PUModCxlKSksdGhpcy5kYXRhKXRoaXMuZGF0YS5oYXNPd25Qcm9wZXJ0eShpKSYmdCh0aGlzLmRhdGFbaV0saSl9LHJlbW92ZUtleTpmdW5jdGlvbih0KXtkZWxldGUgdGhpcy5kYXRhW3RdfX07dmFyIFY9KE9iamVjdC5mcmVlemV8fE9iamVjdCkoeyRvdmVycmlkZTpmdW5jdGlvbih0LGUpe1wiY3JlYXRlQ2FudmFzXCI9PT10JiYoeT1udWxsKSxhW3RdPWV9LGNsb25lOmQsbWVyZ2U6cCxtZXJnZUFsbDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT10WzBdLHI9MSxuPXQubGVuZ3RoO3I8bjtyKyspaT1wKGksdFtyXSxlKTtyZXR1cm4gaX0sZXh0ZW5kOnYsZGVmYXVsdHM6ZyxjcmVhdGVDYW52YXM6bSxnZXRDb250ZXh0OngsaW5kZXhPZjp3LGluaGVyaXRzOmIsbWl4aW46ayxpc0FycmF5TGlrZTpELGVhY2g6VCxtYXA6UyxyZWR1Y2U6ZnVuY3Rpb24odCxlLGkscil7aWYodCYmZSl7aWYodC5yZWR1Y2UmJnQucmVkdWNlPT09ZilyZXR1cm4gdC5yZWR1Y2UoZSxpLHIpO2Zvcih2YXIgbj0wLGE9dC5sZW5ndGg7bjxhO24rKylpPWUuY2FsbChyLGksdFtuXSxuLHQpO3JldHVybiBpfX0sZmlsdGVyOmZ1bmN0aW9uKHQsZSxpKXtpZih0JiZlKXtpZih0LmZpbHRlciYmdC5maWx0ZXI9PT11KXJldHVybiB0LmZpbHRlcihlLGkpO2Zvcih2YXIgcj1bXSxuPTAsYT10Lmxlbmd0aDtuPGE7bisrKWUuY2FsbChpLHRbbl0sbix0KSYmci5wdXNoKHRbbl0pO3JldHVybiByfX0sZmluZDpmdW5jdGlvbih0LGUsaSl7aWYodCYmZSlmb3IodmFyIHI9MCxuPXQubGVuZ3RoO3I8bjtyKyspaWYoZS5jYWxsKGksdFtyXSxyLHQpKXJldHVybiB0W3JdfSxiaW5kOkMsY3Vycnk6ZnVuY3Rpb24odCl7dmFyIGU9bi5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseSh0aGlzLGUuY29uY2F0KG4uY2FsbChhcmd1bWVudHMpKSl9fSxpc0FycmF5Ok0saXNGdW5jdGlvbjpQLGlzU3RyaW5nOkEsaXNPYmplY3Q6TCxpc0J1aWx0SW5PYmplY3Q6eixpc1R5cGVkQXJyYXk6ZnVuY3Rpb24odCl7cmV0dXJuISFoW2wuY2FsbCh0KV19LGlzRG9tOkIsZXFOYU46ZnVuY3Rpb24odCl7cmV0dXJuIHQhPXR9LHJldHJpZXZlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLGk9YXJndW1lbnRzLmxlbmd0aDtlPGk7ZSsrKWlmKG51bGwhPWFyZ3VtZW50c1tlXSlyZXR1cm4gYXJndW1lbnRzW2VdfSxyZXRyaWV2ZTI6SSxyZXRyaWV2ZTM6TyxzbGljZTpmdW5jdGlvbigpe3JldHVybiBGdW5jdGlvbi5jYWxsLmFwcGx5KG4sYXJndW1lbnRzKX0sbm9ybWFsaXplQ3NzQXJyYXk6RSxhc3NlcnQ6ZnVuY3Rpb24odCxlKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoZSl9LHRyaW06UixzZXRBc1ByaW1pdGl2ZTpmdW5jdGlvbih0KXt0W0ZdPSEwfSxpc1ByaW1pdGl2ZTpILGNyZWF0ZUhhc2hNYXA6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBOKHQpfSxjb25jYXRBcnJheTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT1uZXcgdC5jb25zdHJ1Y3Rvcih0Lmxlbmd0aCtlLmxlbmd0aCkscj0wO3I8dC5sZW5ndGg7cisrKWlbcl09dFtyXTt2YXIgbj10Lmxlbmd0aDtmb3Iocj0wO3I8ZS5sZW5ndGg7cisrKWlbcituXT1lW3JdO3JldHVybiBpfSxub29wOld9KSxYPVwidW5kZWZpbmVkXCI9PXR5cGVvZiBGbG9hdDMyQXJyYXk/QXJyYXk6RmxvYXQzMkFycmF5O2Z1bmN0aW9uIHEodCxlKXt2YXIgaT1uZXcgWCgyKTtyZXR1cm4gbnVsbD09dCYmKHQ9MCksbnVsbD09ZSYmKGU9MCksaVswXT10LGlbMV09ZSxpfWZ1bmN0aW9uIGoodCl7dmFyIGU9bmV3IFgoMik7cmV0dXJuIGVbMF09dFswXSxlWzFdPXRbMV0sZX1mdW5jdGlvbiBZKHQsZSxpKXtyZXR1cm4gdFswXT1lWzBdK2lbMF0sdFsxXT1lWzFdK2lbMV0sdH1mdW5jdGlvbiBVKHQsZSxpKXtyZXR1cm4gdFswXT1lWzBdLWlbMF0sdFsxXT1lWzFdLWlbMV0sdH1mdW5jdGlvbiBHKHQpe3JldHVybiBNYXRoLnNxcnQoUSh0KSl9dmFyIFo9RztmdW5jdGlvbiBRKHQpe3JldHVybiB0WzBdKnRbMF0rdFsxXSp0WzFdfXZhciAkPVE7ZnVuY3Rpb24gSyh0LGUsaSl7cmV0dXJuIHRbMF09ZVswXSppLHRbMV09ZVsxXSppLHR9ZnVuY3Rpb24gSih0LGUpe3ZhciBpPUcoZSk7cmV0dXJuIDA9PT1pPyh0WzBdPTAsdFsxXT0wKToodFswXT1lWzBdL2ksdFsxXT1lWzFdL2kpLHR9ZnVuY3Rpb24gdHQodCxlKXtyZXR1cm4gTWF0aC5zcXJ0KCh0WzBdLWVbMF0pKih0WzBdLWVbMF0pKyh0WzFdLWVbMV0pKih0WzFdLWVbMV0pKX12YXIgZXQ9dHQ7ZnVuY3Rpb24gaXQodCxlKXtyZXR1cm4odFswXS1lWzBdKSoodFswXS1lWzBdKSsodFsxXS1lWzFdKSoodFsxXS1lWzFdKX12YXIgcnQ9aXQ7ZnVuY3Rpb24gbnQodCxlLGkpe3ZhciByPWVbMF0sbj1lWzFdO3JldHVybiB0WzBdPWlbMF0qcitpWzJdKm4raVs0XSx0WzFdPWlbMV0qcitpWzNdKm4raVs1XSx0fWZ1bmN0aW9uIGF0KHQsZSxpKXtyZXR1cm4gdFswXT1NYXRoLm1pbihlWzBdLGlbMF0pLHRbMV09TWF0aC5taW4oZVsxXSxpWzFdKSx0fWZ1bmN0aW9uIG90KHQsZSxpKXtyZXR1cm4gdFswXT1NYXRoLm1heChlWzBdLGlbMF0pLHRbMV09TWF0aC5tYXgoZVsxXSxpWzFdKSx0fXZhciBzdD0oT2JqZWN0LmZyZWV6ZXx8T2JqZWN0KSh7Y3JlYXRlOnEsY29weTpmdW5jdGlvbih0LGUpe3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHR9LGNsb25lOmosc2V0OmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdFswXT1lLHRbMV09aSx0fSxhZGQ6WSxzY2FsZUFuZEFkZDpmdW5jdGlvbih0LGUsaSxyKXtyZXR1cm4gdFswXT1lWzBdK2lbMF0qcix0WzFdPWVbMV0raVsxXSpyLHR9LHN1YjpVLGxlbjpHLGxlbmd0aDpaLGxlblNxdWFyZTpRLGxlbmd0aFNxdWFyZTokLG11bDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRbMF09ZVswXSppWzBdLHRbMV09ZVsxXSppWzFdLHR9LGRpdjpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRbMF09ZVswXS9pWzBdLHRbMV09ZVsxXS9pWzFdLHR9LGRvdDpmdW5jdGlvbih0LGUpe3JldHVybiB0WzBdKmVbMF0rdFsxXSplWzFdfSxzY2FsZTpLLG5vcm1hbGl6ZTpKLGRpc3RhbmNlOnR0LGRpc3Q6ZXQsZGlzdGFuY2VTcXVhcmU6aXQsZGlzdFNxdWFyZTpydCxuZWdhdGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXT0tZVswXSx0WzFdPS1lWzFdLHR9LGxlcnA6ZnVuY3Rpb24odCxlLGkscil7cmV0dXJuIHRbMF09ZVswXStyKihpWzBdLWVbMF0pLHRbMV09ZVsxXStyKihpWzFdLWVbMV0pLHR9LGFwcGx5VHJhbnNmb3JtOm50LG1pbjphdCxtYXg6b3R9KTtmdW5jdGlvbiBodCgpe3RoaXMub24oXCJtb3VzZWRvd25cIix0aGlzLl9kcmFnU3RhcnQsdGhpcyksdGhpcy5vbihcIm1vdXNlbW92ZVwiLHRoaXMuX2RyYWcsdGhpcyksdGhpcy5vbihcIm1vdXNldXBcIix0aGlzLl9kcmFnRW5kLHRoaXMpfWZ1bmN0aW9uIGx0KHQsZSl7cmV0dXJue3RhcmdldDp0LHRvcFRhcmdldDplJiZlLnRvcFRhcmdldH19aHQucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpodCxfZHJhZ1N0YXJ0OmZ1bmN0aW9uKHQpe3ZhciBlPXQudGFyZ2V0O2UmJmUuZHJhZ2dhYmxlJiYoKHRoaXMuX2RyYWdnaW5nVGFyZ2V0PWUpLmRyYWdnaW5nPSEwLHRoaXMuX3g9dC5vZmZzZXRYLHRoaXMuX3k9dC5vZmZzZXRZLHRoaXMuZGlzcGF0Y2hUb0VsZW1lbnQobHQoZSx0KSxcImRyYWdzdGFydFwiLHQuZXZlbnQpKX0sX2RyYWc6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZHJhZ2dpbmdUYXJnZXQ7aWYoZSl7dmFyIGk9dC5vZmZzZXRYLHI9dC5vZmZzZXRZLG49aS10aGlzLl94LGE9ci10aGlzLl95O3RoaXMuX3g9aSx0aGlzLl95PXIsZS5kcmlmdChuLGEsdCksdGhpcy5kaXNwYXRjaFRvRWxlbWVudChsdChlLHQpLFwiZHJhZ1wiLHQuZXZlbnQpO3ZhciBvPXRoaXMuZmluZEhvdmVyKGkscixlKS50YXJnZXQscz10aGlzLl9kcm9wVGFyZ2V0O2UhPT0odGhpcy5fZHJvcFRhcmdldD1vKSYmKHMmJm8hPT1zJiZ0aGlzLmRpc3BhdGNoVG9FbGVtZW50KGx0KHMsdCksXCJkcmFnbGVhdmVcIix0LmV2ZW50KSxvJiZvIT09cyYmdGhpcy5kaXNwYXRjaFRvRWxlbWVudChsdChvLHQpLFwiZHJhZ2VudGVyXCIsdC5ldmVudCkpfX0sX2RyYWdFbmQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZHJhZ2dpbmdUYXJnZXQ7ZSYmKGUuZHJhZ2dpbmc9ITEpLHRoaXMuZGlzcGF0Y2hUb0VsZW1lbnQobHQoZSx0KSxcImRyYWdlbmRcIix0LmV2ZW50KSx0aGlzLl9kcm9wVGFyZ2V0JiZ0aGlzLmRpc3BhdGNoVG9FbGVtZW50KGx0KHRoaXMuX2Ryb3BUYXJnZXQsdCksXCJkcm9wXCIsdC5ldmVudCksdGhpcy5fZHJhZ2dpbmdUYXJnZXQ9bnVsbCx0aGlzLl9kcm9wVGFyZ2V0PW51bGx9fTtmdW5jdGlvbiB1dCh0KXt0aGlzLl8kaGFuZGxlcnM9e30sdGhpcy5fJGV2ZW50UHJvY2Vzc29yPXR9dmFyIGN0PUFycmF5LnByb3RvdHlwZS5zbGljZTtmdW5jdGlvbiBmdCh0LGUsaSxyLG4sYSl7dmFyIG89dC5fJGhhbmRsZXJzO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGkmJihuPXIscj1pLGk9bnVsbCksIXJ8fCFlKXJldHVybiB0O2k9ZnVuY3Rpb24odCxlKXt2YXIgaT10Ll8kZXZlbnRQcm9jZXNzb3I7cmV0dXJuIG51bGwhPWUmJmkmJmkubm9ybWFsaXplUXVlcnkmJihlPWkubm9ybWFsaXplUXVlcnkoZSkpLGV9KHQsaSksb1tlXXx8KG9bZV09W10pO2Zvcih2YXIgcz0wO3M8b1tlXS5sZW5ndGg7cysrKWlmKG9bZV1bc10uaD09PXIpcmV0dXJuIHQ7dmFyIGg9e2g6cixvbmU6YSxxdWVyeTppLGN0eDpufHx0LGNhbGxBdExhc3Q6ci56ckV2ZW50ZnVsQ2FsbEF0TGFzdH0sbD1vW2VdLmxlbmd0aC0xLHU9b1tlXVtsXTtyZXR1cm4gdSYmdS5jYWxsQXRMYXN0P29bZV0uc3BsaWNlKGwsMCxoKTpvW2VdLnB1c2goaCksdH11dC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnV0LG9uZTpmdW5jdGlvbih0LGUsaSxyKXtyZXR1cm4gZnQodGhpcyx0LGUsaSxyLCEwKX0sb246ZnVuY3Rpb24odCxlLGkscil7cmV0dXJuIGZ0KHRoaXMsdCxlLGksciwhMSl9LGlzU2lsZW50OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuXyRoYW5kbGVycztyZXR1cm4hZVt0XXx8IWVbdF0ubGVuZ3RofSxvZmY6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl8kaGFuZGxlcnM7aWYoIXQpcmV0dXJuIHRoaXMuXyRoYW5kbGVycz17fSx0aGlzO2lmKGUpe2lmKGlbdF0pe2Zvcih2YXIgcj1bXSxuPTAsYT1pW3RdLmxlbmd0aDtuPGE7bisrKWlbdF1bbl0uaCE9PWUmJnIucHVzaChpW3RdW25dKTtpW3RdPXJ9aVt0XSYmMD09PWlbdF0ubGVuZ3RoJiZkZWxldGUgaVt0XX1lbHNlIGRlbGV0ZSBpW3RdO3JldHVybiB0aGlzfSx0cmlnZ2VyOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuXyRoYW5kbGVyc1t0XSxpPXRoaXMuXyRldmVudFByb2Nlc3NvcjtpZihlKXt2YXIgcj1hcmd1bWVudHMsbj1yLmxlbmd0aDszPG4mJihyPWN0LmNhbGwociwxKSk7Zm9yKHZhciBhPWUubGVuZ3RoLG89MDtvPGE7KXt2YXIgcz1lW29dO2lmKGkmJmkuZmlsdGVyJiZudWxsIT1zLnF1ZXJ5JiYhaS5maWx0ZXIodCxzLnF1ZXJ5KSlvKys7ZWxzZXtzd2l0Y2gobil7Y2FzZSAxOnMuaC5jYWxsKHMuY3R4KTticmVhaztjYXNlIDI6cy5oLmNhbGwocy5jdHgsclsxXSk7YnJlYWs7Y2FzZSAzOnMuaC5jYWxsKHMuY3R4LHJbMV0sclsyXSk7YnJlYWs7ZGVmYXVsdDpzLmguYXBwbHkocy5jdHgscil9cy5vbmU/KGUuc3BsaWNlKG8sMSksYS0tKTpvKyt9fX1yZXR1cm4gaSYmaS5hZnRlclRyaWdnZXImJmkuYWZ0ZXJUcmlnZ2VyKHQpLHRoaXN9LHRyaWdnZXJXaXRoQ29udGV4dDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl8kaGFuZGxlcnNbdF0saT10aGlzLl8kZXZlbnRQcm9jZXNzb3I7aWYoZSl7dmFyIHI9YXJndW1lbnRzLG49ci5sZW5ndGg7NDxuJiYocj1jdC5jYWxsKHIsMSxyLmxlbmd0aC0xKSk7Zm9yKHZhciBhPXJbci5sZW5ndGgtMV0sbz1lLmxlbmd0aCxzPTA7czxvOyl7dmFyIGg9ZVtzXTtpZihpJiZpLmZpbHRlciYmbnVsbCE9aC5xdWVyeSYmIWkuZmlsdGVyKHQsaC5xdWVyeSkpcysrO2Vsc2V7c3dpdGNoKG4pe2Nhc2UgMTpoLmguY2FsbChhKTticmVhaztjYXNlIDI6aC5oLmNhbGwoYSxyWzFdKTticmVhaztjYXNlIDM6aC5oLmNhbGwoYSxyWzFdLHJbMl0pO2JyZWFrO2RlZmF1bHQ6aC5oLmFwcGx5KGEscil9aC5vbmU/KGUuc3BsaWNlKHMsMSksby0tKTpzKyt9fX1yZXR1cm4gaSYmaS5hZnRlclRyaWdnZXImJmkuYWZ0ZXJUcmlnZ2VyKHQpLHRoaXN9fTt2YXIgZHQ9TWF0aC5sb2coMik7ZnVuY3Rpb24gcHQodCxlLGkscixuLGEpe3ZhciBvPXIrXCItXCIrbixzPXQubGVuZ3RoO2lmKGEuaGFzT3duUHJvcGVydHkobykpcmV0dXJuIGFbb107aWYoMT09PWUpe3ZhciBoPU1hdGgucm91bmQoTWF0aC5sb2coKDE8PHMpLTEmfm4pL2R0KTtyZXR1cm4gdFtpXVtoXX1mb3IodmFyIGw9cnwxPDxpLHU9aSsxO3ImMTw8dTspdSsrO2Zvcih2YXIgYz0wLGY9MCxkPTA7ZjxzO2YrKyl7dmFyIHA9MTw8ZjtwJm58fChjKz0oZCUyPy0xOjEpKnRbaV1bZl0qcHQodCxlLTEsdSxsLG58cCxhKSxkKyspfXJldHVybiBhW29dPWN9dmFyIHZ0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJiEhd2luZG93LmFkZEV2ZW50TGlzdGVuZXIsZ3Q9L14oPzptb3VzZXxwb2ludGVyfGNvbnRleHRtZW51fGRyYWd8ZHJvcCl8Y2xpY2svLF90PVwiX19fenJFVkVOVFNBVkVEXCIsbXQ9W107ZnVuY3Rpb24geXQodCxlLGkscil7cmV0dXJuIGk9aXx8e30scnx8IV8uY2FudmFzU3VwcG9ydGVkP3h0KHQsZSxpKTpfLmJyb3dzZXIuZmlyZWZveCYmbnVsbCE9ZS5sYXllclgmJmUubGF5ZXJYIT09ZS5vZmZzZXRYPyhpLnpyWD1lLmxheWVyWCxpLnpyWT1lLmxheWVyWSk6bnVsbCE9ZS5vZmZzZXRYPyhpLnpyWD1lLm9mZnNldFgsaS56clk9ZS5vZmZzZXRZKTp4dCh0LGUsaSksaX1mdW5jdGlvbiB4dCh0LGUsaSl7aWYodC5nZXRCb3VuZGluZ0NsaWVudFJlY3QmJl8uZG9tU3VwcG9ydGVkKXt2YXIgcj1lLmNsaWVudFgsbj1lLmNsaWVudFk7aWYoXCJDQU5WQVNcIj09PXQubm9kZU5hbWUudG9VcHBlckNhc2UoKSl7dmFyIGE9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm4gaS56clg9ci1hLmxlZnQsdm9pZChpLnpyWT1uLWEudG9wKX12YXIgbz10W190XXx8KHRbX3RdPXt9KSxzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPWUudHJhbnNmb3JtZXIscj1lLnNyY0Nvb3JkcyxuPSEwLGE9W10sbz1bXSxzPTA7czw0O3MrKyl7dmFyIGg9dFtzXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxsPTIqcyx1PWgubGVmdCxjPWgudG9wO2EucHVzaCh1LGMpLG4mPXImJnU9PT1yW2xdJiZjPT09clsxK2xdLG8ucHVzaCh0W3NdLm9mZnNldExlZnQsdFtzXS5vZmZzZXRUb3ApfXJldHVybiBuP2k6KGUuc3JjQ29vcmRzPWEsZS50cmFuc2Zvcm1lcj1mdW5jdGlvbih0LGUpe3ZhciBpPVtbdFswXSx0WzFdLDEsMCwwLDAsLWVbMF0qdFswXSwtZVswXSp0WzFdXSxbMCwwLDAsdFswXSx0WzFdLDEsLWVbMV0qdFswXSwtZVsxXSp0WzFdXSxbdFsyXSx0WzNdLDEsMCwwLDAsLWVbMl0qdFsyXSwtZVsyXSp0WzNdXSxbMCwwLDAsdFsyXSx0WzNdLDEsLWVbM10qdFsyXSwtZVszXSp0WzNdXSxbdFs0XSx0WzVdLDEsMCwwLDAsLWVbNF0qdFs0XSwtZVs0XSp0WzVdXSxbMCwwLDAsdFs0XSx0WzVdLDEsLWVbNV0qdFs0XSwtZVs1XSp0WzVdXSxbdFs2XSx0WzddLDEsMCwwLDAsLWVbNl0qdFs2XSwtZVs2XSp0WzddXSxbMCwwLDAsdFs2XSx0WzddLDEsLWVbN10qdFs2XSwtZVs3XSp0WzddXV0scj17fSxuPXB0KGksOCwwLDAsMCxyKTtpZigwIT09bil7Zm9yKHZhciBhPVtdLG89MDtvPDg7bysrKWZvcih2YXIgcz0wO3M8ODtzKyspbnVsbD09YVtzXSYmKGFbc109MCksYVtzXSs9KChvK3MpJTI/LTE6MSkqcHQoaSw3LDA9PT1vPzE6MCwxPDxvLDE8PHMscikvbiplW29dO3JldHVybiBmdW5jdGlvbih0LGUsaSl7dmFyIHI9ZSphWzZdK2kqYVs3XSsxO3RbMF09KGUqYVswXStpKmFbMV0rYVsyXSkvcix0WzFdPShlKmFbM10raSphWzRdK2FbNV0pL3J9fX0oYSxvKSl9KGZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5tYXJrZXJzO2lmKGkpcmV0dXJuIGk7aT1lLm1hcmtlcnM9W107Zm9yKHZhciByPVtcImxlZnRcIixcInJpZ2h0XCJdLG49W1widG9wXCIsXCJib3R0b21cIl0sYT0wO2E8NDthKyspe3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikscz1vLnN0eWxlLGg9YSUyLGw9KGE+PjEpJTI7cy5jc3NUZXh0PVtcInBvc2l0aW9uOmFic29sdXRlXCIsXCJ2aXNpYmlsaXR5OiBoaWRkZW5cIixcInBhZGRpbmc6IDBcIixcIm1hcmdpbjogMFwiLFwiYm9yZGVyLXdpZHRoOiAwXCIsXCJ3aWR0aDowXCIsXCJoZWlnaHQ6MFwiLHJbaF0rXCI6MFwiLG5bbF0rXCI6MFwiLHJbMS1oXStcIjphdXRvXCIsblsxLWxdK1wiOmF1dG9cIixcIlwiXS5qb2luKFwiIWltcG9ydGFudDtcIiksdC5hcHBlbmRDaGlsZChvKSxpLnB1c2gobyl9cmV0dXJuIGl9KHQsbyksbyk7aWYocylyZXR1cm4gcyhtdCxyLG4pLGkuenJYPW10WzBdLHZvaWQoaS56clk9bXRbMV0pfWkuenJYPWkuenJZPTB9ZnVuY3Rpb24gd3QodCl7cmV0dXJuIHR8fHdpbmRvdy5ldmVudH1mdW5jdGlvbiBidCh0LGUsaSl7aWYobnVsbCE9KGU9d3QoZSkpLnpyWClyZXR1cm4gZTt2YXIgcj1lLnR5cGU7aWYociYmMDw9ci5pbmRleE9mKFwidG91Y2hcIikpe3ZhciBuPVwidG91Y2hlbmRcIiE9PXI/ZS50YXJnZXRUb3VjaGVzWzBdOmUuY2hhbmdlZFRvdWNoZXNbMF07biYmeXQodCxuLGUsaSl9ZWxzZSB5dCh0LGUsZSxpKSxlLnpyRGVsdGE9ZS53aGVlbERlbHRhP2Uud2hlZWxEZWx0YS8xMjA6LShlLmRldGFpbHx8MCkvMzt2YXIgYT1lLmJ1dHRvbjtyZXR1cm4gbnVsbD09ZS53aGljaCYmdm9pZCAwIT09YSYmZ3QudGVzdChlLnR5cGUpJiYoZS53aGljaD0xJmE/MToyJmE/Mzo0JmE/MjowKSxlfWZ1bmN0aW9uIGt0KCl7dGhpcy5fdHJhY2s9W119dmFyIFR0PXZ0P2Z1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpLHQuY2FuY2VsQnViYmxlPSEwfTpmdW5jdGlvbih0KXt0LnJldHVyblZhbHVlPSExLHQuY2FuY2VsQnViYmxlPSEwfTtmdW5jdGlvbiBTdCh0KXt2YXIgZT10WzFdWzBdLXRbMF1bMF0saT10WzFdWzFdLXRbMF1bMV07cmV0dXJuIE1hdGguc3FydChlKmUraSppKX1rdC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmt0LHJlY29nbml6ZTpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuX2RvVHJhY2sodCxlLGkpLHRoaXMuX3JlY29nbml6ZSh0KX0sY2xlYXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHJhY2subGVuZ3RoPTAsdGhpc30sX2RvVHJhY2s6ZnVuY3Rpb24odCxlLGkpe3ZhciByPXQudG91Y2hlcztpZihyKXtmb3IodmFyIG49e3BvaW50czpbXSx0b3VjaGVzOltdLHRhcmdldDplLGV2ZW50OnR9LGE9MCxvPXIubGVuZ3RoO2E8bzthKyspe3ZhciBzPXJbYV0saD15dChpLHMse30pO24ucG9pbnRzLnB1c2goW2guenJYLGguenJZXSksbi50b3VjaGVzLnB1c2gocyl9dGhpcy5fdHJhY2sucHVzaChuKX19LF9yZWNvZ25pemU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIEN0KWlmKEN0Lmhhc093blByb3BlcnR5KGUpKXt2YXIgaT1DdFtlXSh0aGlzLl90cmFjayx0KTtpZihpKXJldHVybiBpfX19O3ZhciBDdD17cGluY2g6ZnVuY3Rpb24odCxlKXt2YXIgaT10Lmxlbmd0aDtpZihpKXt2YXIgcj0odFtpLTFdfHx7fSkucG9pbnRzLG49KHRbaS0yXXx8e30pLnBvaW50c3x8cjtpZihuJiYxPG4ubGVuZ3RoJiZyJiYxPHIubGVuZ3RoKXt2YXIgYT1TdChyKS9TdChuKTtpc0Zpbml0ZShhKXx8KGE9MSksZS5waW5jaFNjYWxlPWE7dmFyIG89ZnVuY3Rpb24odCl7cmV0dXJuWyh0WzBdWzBdK3RbMV1bMF0pLzIsKHRbMF1bMV0rdFsxXVsxXSkvMl19KHIpO3JldHVybiBlLnBpbmNoWD1vWzBdLGUucGluY2hZPW9bMV0se3R5cGU6XCJwaW5jaFwiLHRhcmdldDp0WzBdLnRhcmdldCxldmVudDplfX19fX0sTXQ9XCJzaWxlbnRcIjtmdW5jdGlvbiBQdCgpe1R0KHRoaXMuZXZlbnQpfWZ1bmN0aW9uIEF0KCl7fUF0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7fTtmdW5jdGlvbiBMdCh0LGUsaSxyKXt1dC5jYWxsKHRoaXMpLHRoaXMuc3RvcmFnZT10LHRoaXMucGFpbnRlcj1lLHRoaXMucGFpbnRlclJvb3Q9cixpPWl8fG5ldyBBdCx0aGlzLnByb3h5PW51bGwsdGhpcy5faG92ZXJlZD17fSx0aGlzLl9sYXN0VG91Y2hNb21lbnQsdGhpcy5fbGFzdFgsdGhpcy5fbGFzdFksdGhpcy5fZ2VzdHVyZU1ncixodC5jYWxsKHRoaXMpLHRoaXMuc2V0SGFuZGxlclByb3h5KGkpfXZhciB6dD1bXCJjbGlja1wiLFwiZGJsY2xpY2tcIixcIm1vdXNld2hlZWxcIixcIm1vdXNlb3V0XCIsXCJtb3VzZXVwXCIsXCJtb3VzZWRvd25cIixcIm1vdXNlbW92ZVwiLFwiY29udGV4dG1lbnVcIl07ZnVuY3Rpb24gRHQodCxlLGkpe2lmKHRbdC5yZWN0SG92ZXI/XCJyZWN0Q29udGFpblwiOlwiY29udGFpblwiXShlLGkpKXtmb3IodmFyIHIsbj10O247KXtpZihuLmNsaXBQYXRoJiYhbi5jbGlwUGF0aC5jb250YWluKGUsaSkpcmV0dXJuITE7bi5zaWxlbnQmJihyPSEwKSxuPW4ucGFyZW50fXJldHVybiFyfHxNdH1yZXR1cm4hMX1mdW5jdGlvbiBCdCh0LGUsaSl7dmFyIHI9dC5wYWludGVyO3JldHVybiBlPDB8fGU+ci5nZXRXaWR0aCgpfHxpPDB8fGk+ci5nZXRIZWlnaHQoKX1MdC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkx0LHNldEhhbmRsZXJQcm94eTpmdW5jdGlvbihlKXt0aGlzLnByb3h5JiZ0aGlzLnByb3h5LmRpc3Bvc2UoKSxlJiYoVCh6dCxmdW5jdGlvbih0KXtlLm9uJiZlLm9uKHQsdGhpc1t0XSx0aGlzKX0sdGhpcyksZS5oYW5kbGVyPXRoaXMpLHRoaXMucHJveHk9ZX0sbW91c2Vtb3ZlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuenJYLGk9dC56clkscj1CdCh0aGlzLGUsaSksbj10aGlzLl9ob3ZlcmVkLGE9bi50YXJnZXQ7YSYmIWEuX196ciYmKGE9KG49dGhpcy5maW5kSG92ZXIobi54LG4ueSkpLnRhcmdldCk7dmFyIG89dGhpcy5faG92ZXJlZD1yP3t4OmUseTppfTp0aGlzLmZpbmRIb3ZlcihlLGkpLHM9by50YXJnZXQsaD10aGlzLnByb3h5O2guc2V0Q3Vyc29yJiZoLnNldEN1cnNvcihzP3MuY3Vyc29yOlwiZGVmYXVsdFwiKSxhJiZzIT09YSYmdGhpcy5kaXNwYXRjaFRvRWxlbWVudChuLFwibW91c2VvdXRcIix0KSx0aGlzLmRpc3BhdGNoVG9FbGVtZW50KG8sXCJtb3VzZW1vdmVcIix0KSxzJiZzIT09YSYmdGhpcy5kaXNwYXRjaFRvRWxlbWVudChvLFwibW91c2VvdmVyXCIsdCl9LG1vdXNlb3V0OmZ1bmN0aW9uKHQpe3ZhciBlPXQuenJFdmVudENvbnRyb2wsaT10LnpySXNUb0xvY2FsRE9NO1wib25seV9nbG9iYWxvdXRcIiE9PWUmJnRoaXMuZGlzcGF0Y2hUb0VsZW1lbnQodGhpcy5faG92ZXJlZCxcIm1vdXNlb3V0XCIsdCksXCJub19nbG9iYWxvdXRcIiE9PWUmJihpfHx0aGlzLnRyaWdnZXIoXCJnbG9iYWxvdXRcIix7dHlwZTpcImdsb2JhbG91dFwiLGV2ZW50OnR9KSl9LHJlc2l6ZTpmdW5jdGlvbih0KXt0aGlzLl9ob3ZlcmVkPXt9fSxkaXNwYXRjaDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXNbdF07aSYmaS5jYWxsKHRoaXMsZSl9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0aGlzLnByb3h5LmRpc3Bvc2UoKSx0aGlzLnN0b3JhZ2U9dGhpcy5wcm94eT10aGlzLnBhaW50ZXI9bnVsbH0sc2V0Q3Vyc29yU3R5bGU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wcm94eTtlLnNldEN1cnNvciYmZS5zZXRDdXJzb3IodCl9LGRpc3BhdGNoVG9FbGVtZW50OmZ1bmN0aW9uKHQsZSxpKXt2YXIgcj0odD10fHx7fSkudGFyZ2V0O2lmKCFyfHwhci5zaWxlbnQpe2Zvcih2YXIgbj1cIm9uXCIrZSxhPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm57dHlwZTp0LGV2ZW50OmksdGFyZ2V0OmUudGFyZ2V0LHRvcFRhcmdldDplLnRvcFRhcmdldCxjYW5jZWxCdWJibGU6ITEsb2Zmc2V0WDppLnpyWCxvZmZzZXRZOmkuenJZLGdlc3R1cmVFdmVudDppLmdlc3R1cmVFdmVudCxwaW5jaFg6aS5waW5jaFgscGluY2hZOmkucGluY2hZLHBpbmNoU2NhbGU6aS5waW5jaFNjYWxlLHdoZWVsRGVsdGE6aS56ckRlbHRhLHpyQnlUb3VjaDppLnpyQnlUb3VjaCx3aGljaDppLndoaWNoLHN0b3A6UHR9fShlLHQsaSk7ciYmKHJbbl0mJihhLmNhbmNlbEJ1YmJsZT1yW25dLmNhbGwocixhKSksci50cmlnZ2VyKGUsYSkscj1yLnBhcmVudCwhYS5jYW5jZWxCdWJibGUpOyk7YS5jYW5jZWxCdWJibGV8fCh0aGlzLnRyaWdnZXIoZSxhKSx0aGlzLnBhaW50ZXImJnRoaXMucGFpbnRlci5lYWNoT3RoZXJMYXllcihmdW5jdGlvbih0KXtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0W25dJiZ0W25dLmNhbGwodCxhKSx0LnRyaWdnZXImJnQudHJpZ2dlcihlLGEpfSkpfX0sZmluZEhvdmVyOmZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIHI9dGhpcy5zdG9yYWdlLmdldERpc3BsYXlMaXN0KCksbj17eDp0LHk6ZX0sYT1yLmxlbmd0aC0xOzA8PWE7YS0tKXt2YXIgbztpZihyW2FdIT09aSYmIXJbYV0uaWdub3JlJiYobz1EdChyW2FdLHQsZSkpJiYobi50b3BUYXJnZXR8fChuLnRvcFRhcmdldD1yW2FdKSxvIT09TXQpKXtuLnRhcmdldD1yW2FdO2JyZWFrfX1yZXR1cm4gbn0scHJvY2Vzc0dlc3R1cmU6ZnVuY3Rpb24odCxlKXt0aGlzLl9nZXN0dXJlTWdyfHwodGhpcy5fZ2VzdHVyZU1ncj1uZXcga3QpO3ZhciBpPXRoaXMuX2dlc3R1cmVNZ3I7XCJzdGFydFwiPT09ZSYmaS5jbGVhcigpO3ZhciByPWkucmVjb2duaXplKHQsdGhpcy5maW5kSG92ZXIodC56clgsdC56clksbnVsbCkudGFyZ2V0LHRoaXMucHJveHkuZG9tKTtpZihcImVuZFwiPT09ZSYmaS5jbGVhcigpLHIpe3ZhciBuPXIudHlwZTt0Lmdlc3R1cmVFdmVudD1uLHRoaXMuZGlzcGF0Y2hUb0VsZW1lbnQoe3RhcmdldDpyLnRhcmdldH0sbixyLmV2ZW50KX19fSxUKFtcImNsaWNrXCIsXCJtb3VzZWRvd25cIixcIm1vdXNldXBcIixcIm1vdXNld2hlZWxcIixcImRibGNsaWNrXCIsXCJjb250ZXh0bWVudVwiXSxmdW5jdGlvbihvKXtMdC5wcm90b3R5cGVbb109ZnVuY3Rpb24odCl7dmFyIGUsaSxyPXQuenJYLG49dC56clksYT1CdCh0aGlzLHIsbik7aWYoXCJtb3VzZXVwXCI9PT1vJiZhfHwoaT0oZT10aGlzLmZpbmRIb3ZlcihyLG4pKS50YXJnZXQpLFwibW91c2Vkb3duXCI9PT1vKXRoaXMuX2Rvd25FbD1pLHRoaXMuX2Rvd25Qb2ludD1bdC56clgsdC56clldLHRoaXMuX3VwRWw9aTtlbHNlIGlmKFwibW91c2V1cFwiPT09byl0aGlzLl91cEVsPWk7ZWxzZSBpZihcImNsaWNrXCI9PT1vKXtpZih0aGlzLl9kb3duRWwhPT10aGlzLl91cEVsfHwhdGhpcy5fZG93blBvaW50fHw0PGV0KHRoaXMuX2Rvd25Qb2ludCxbdC56clgsdC56clldKSlyZXR1cm47dGhpcy5fZG93blBvaW50PW51bGx9dGhpcy5kaXNwYXRjaFRvRWxlbWVudChlLG8sdCl9fSksayhMdCx1dCksayhMdCxodCk7dmFyIEl0PVwidW5kZWZpbmVkXCI9PXR5cGVvZiBGbG9hdDMyQXJyYXk/QXJyYXk6RmxvYXQzMkFycmF5O2Z1bmN0aW9uIE90KCl7dmFyIHQ9bmV3IEl0KDYpO3JldHVybiBFdCh0KSx0fWZ1bmN0aW9uIEV0KHQpe3JldHVybiB0WzBdPTEsdFsxXT0wLHRbMl09MCx0WzNdPTEsdFs0XT0wLHRbNV09MCx0fWZ1bmN0aW9uIFJ0KHQsZSl7cmV0dXJuIHRbMF09ZVswXSx0WzFdPWVbMV0sdFsyXT1lWzJdLHRbM109ZVszXSx0WzRdPWVbNF0sdFs1XT1lWzVdLHR9ZnVuY3Rpb24gRnQodCxlLGkpe3ZhciByPWVbMF0qaVswXStlWzJdKmlbMV0sbj1lWzFdKmlbMF0rZVszXSppWzFdLGE9ZVswXSppWzJdK2VbMl0qaVszXSxvPWVbMV0qaVsyXStlWzNdKmlbM10scz1lWzBdKmlbNF0rZVsyXSppWzVdK2VbNF0saD1lWzFdKmlbNF0rZVszXSppWzVdK2VbNV07cmV0dXJuIHRbMF09cix0WzFdPW4sdFsyXT1hLHRbM109byx0WzRdPXMsdFs1XT1oLHR9ZnVuY3Rpb24gSHQodCxlLGkpe3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0WzNdPWVbM10sdFs0XT1lWzRdK2lbMF0sdFs1XT1lWzVdK2lbMV0sdH1mdW5jdGlvbiBOdCh0LGUsaSl7dmFyIHI9ZVswXSxuPWVbMl0sYT1lWzRdLG89ZVsxXSxzPWVbM10saD1lWzVdLGw9TWF0aC5zaW4oaSksdT1NYXRoLmNvcyhpKTtyZXR1cm4gdFswXT1yKnUrbypsLHRbMV09LXIqbCtvKnUsdFsyXT1uKnUrcypsLHRbM109LW4qbCt1KnMsdFs0XT11KmErbCpoLHRbNV09dSpoLWwqYSx0fWZ1bmN0aW9uIFd0KHQsZSxpKXt2YXIgcj1pWzBdLG49aVsxXTtyZXR1cm4gdFswXT1lWzBdKnIsdFsxXT1lWzFdKm4sdFsyXT1lWzJdKnIsdFszXT1lWzNdKm4sdFs0XT1lWzRdKnIsdFs1XT1lWzVdKm4sdH1mdW5jdGlvbiBWdCh0LGUpe3ZhciBpPWVbMF0scj1lWzJdLG49ZVs0XSxhPWVbMV0sbz1lWzNdLHM9ZVs1XSxoPWkqby1hKnI7cmV0dXJuIGg/KGg9MS9oLHRbMF09bypoLHRbMV09LWEqaCx0WzJdPS1yKmgsdFszXT1pKmgsdFs0XT0ocipzLW8qbikqaCx0WzVdPShhKm4taSpzKSpoLHQpOm51bGx9dmFyIFh0PShPYmplY3QuZnJlZXplfHxPYmplY3QpKHtjcmVhdGU6T3QsaWRlbnRpdHk6RXQsY29weTpSdCxtdWw6RnQsdHJhbnNsYXRlOkh0LHJvdGF0ZTpOdCxzY2FsZTpXdCxpbnZlcnQ6VnQsY2xvbmU6ZnVuY3Rpb24odCl7dmFyIGU9T3QoKTtyZXR1cm4gUnQoZSx0KSxlfX0pLHF0PUV0O2Z1bmN0aW9uIGp0KHQpe3JldHVybiA1ZS01PHR8fHQ8LTVlLTV9ZnVuY3Rpb24gWXQodCl7KHQ9dHx8e30pLnBvc2l0aW9ufHwodGhpcy5wb3NpdGlvbj1bMCwwXSksbnVsbD09dC5yb3RhdGlvbiYmKHRoaXMucm90YXRpb249MCksdC5zY2FsZXx8KHRoaXMuc2NhbGU9WzEsMV0pLHRoaXMub3JpZ2luPXRoaXMub3JpZ2lufHxudWxsfXZhciBVdD1ZdC5wcm90b3R5cGU7VXQudHJhbnNmb3JtPW51bGwsVXQubmVlZExvY2FsVHJhbnNmb3JtPWZ1bmN0aW9uKCl7cmV0dXJuIGp0KHRoaXMucm90YXRpb24pfHxqdCh0aGlzLnBvc2l0aW9uWzBdKXx8anQodGhpcy5wb3NpdGlvblsxXSl8fGp0KHRoaXMuc2NhbGVbMF0tMSl8fGp0KHRoaXMuc2NhbGVbMV0tMSl9O3ZhciBHdD1bXTtVdC51cGRhdGVUcmFuc2Zvcm09ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBhcmVudCxlPXQmJnQudHJhbnNmb3JtLGk9dGhpcy5uZWVkTG9jYWxUcmFuc2Zvcm0oKSxyPXRoaXMudHJhbnNmb3JtO2lmKGl8fGUpe3I9cnx8T3QoKSxpP3RoaXMuZ2V0TG9jYWxUcmFuc2Zvcm0ocik6cXQociksZSYmKGk/RnQocix0LnRyYW5zZm9ybSxyKTpSdChyLHQudHJhbnNmb3JtKSksdGhpcy50cmFuc2Zvcm09cjt2YXIgbj10aGlzLmdsb2JhbFNjYWxlUmF0aW87aWYobnVsbCE9biYmMSE9PW4pe3RoaXMuZ2V0R2xvYmFsU2NhbGUoR3QpO3ZhciBhPUd0WzBdPDA/LTE6MSxvPUd0WzFdPDA/LTE6MSxzPSgoR3RbMF0tYSkqbithKS9HdFswXXx8MCxoPSgoR3RbMV0tbykqbitvKS9HdFsxXXx8MDtyWzBdKj1zLHJbMV0qPXMsclsyXSo9aCxyWzNdKj1ofXRoaXMuaW52VHJhbnNmb3JtPXRoaXMuaW52VHJhbnNmb3JtfHxPdCgpLFZ0KHRoaXMuaW52VHJhbnNmb3JtLHIpfWVsc2UgciYmcXQocil9LFV0LmdldExvY2FsVHJhbnNmb3JtPWZ1bmN0aW9uKHQpe3JldHVybiBZdC5nZXRMb2NhbFRyYW5zZm9ybSh0aGlzLHQpfSxVdC5zZXRUcmFuc2Zvcm09ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy50cmFuc2Zvcm0saT10LmRwcnx8MTtlP3Quc2V0VHJhbnNmb3JtKGkqZVswXSxpKmVbMV0saSplWzJdLGkqZVszXSxpKmVbNF0saSplWzVdKTp0LnNldFRyYW5zZm9ybShpLDAsMCxpLDAsMCl9LFV0LnJlc3RvcmVUcmFuc2Zvcm09ZnVuY3Rpb24odCl7dmFyIGU9dC5kcHJ8fDE7dC5zZXRUcmFuc2Zvcm0oZSwwLDAsZSwwLDApfTt2YXIgWnQ9W10sUXQ9T3QoKTtVdC5zZXRMb2NhbFRyYW5zZm9ybT1mdW5jdGlvbih0KXtpZih0KXt2YXIgZT10WzBdKnRbMF0rdFsxXSp0WzFdLGk9dFsyXSp0WzJdK3RbM10qdFszXSxyPXRoaXMucG9zaXRpb24sbj10aGlzLnNjYWxlO2p0KGUtMSkmJihlPU1hdGguc3FydChlKSksanQoaS0xKSYmKGk9TWF0aC5zcXJ0KGkpKSx0WzBdPDAmJihlPS1lKSx0WzNdPDAmJihpPS1pKSxyWzBdPXRbNF0sclsxXT10WzVdLG5bMF09ZSxuWzFdPWksdGhpcy5yb3RhdGlvbj1NYXRoLmF0YW4yKC10WzFdL2ksdFswXS9lKX19LFV0LmRlY29tcG9zZVRyYW5zZm9ybT1mdW5jdGlvbigpe2lmKHRoaXMudHJhbnNmb3JtKXt2YXIgdD10aGlzLnBhcmVudCxlPXRoaXMudHJhbnNmb3JtO3QmJnQudHJhbnNmb3JtJiYoRnQoWnQsdC5pbnZUcmFuc2Zvcm0sZSksZT1adCk7dmFyIGk9dGhpcy5vcmlnaW47aSYmKGlbMF18fGlbMV0pJiYoUXRbNF09aVswXSxRdFs1XT1pWzFdLEZ0KFp0LGUsUXQpLFp0WzRdLT1pWzBdLFp0WzVdLT1pWzFdLGU9WnQpLHRoaXMuc2V0TG9jYWxUcmFuc2Zvcm0oZSl9fSxVdC5nZXRHbG9iYWxTY2FsZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnRyYW5zZm9ybTtyZXR1cm4gdD10fHxbXSxlPyh0WzBdPU1hdGguc3FydChlWzBdKmVbMF0rZVsxXSplWzFdKSx0WzFdPU1hdGguc3FydChlWzJdKmVbMl0rZVszXSplWzNdKSxlWzBdPDAmJih0WzBdPS10WzBdKSxlWzNdPDAmJih0WzFdPS10WzFdKSk6KHRbMF09MSx0WzFdPTEpLHR9LFV0LnRyYW5zZm9ybUNvb3JkVG9Mb2NhbD1mdW5jdGlvbih0LGUpe3ZhciBpPVt0LGVdLHI9dGhpcy5pbnZUcmFuc2Zvcm07cmV0dXJuIHImJm50KGksaSxyKSxpfSxVdC50cmFuc2Zvcm1Db29yZFRvR2xvYmFsPWZ1bmN0aW9uKHQsZSl7dmFyIGk9W3QsZV0scj10aGlzLnRyYW5zZm9ybTtyZXR1cm4gciYmbnQoaSxpLHIpLGl9LFl0LmdldExvY2FsVHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSl7cXQoZT1lfHxbXSk7dmFyIGk9dC5vcmlnaW4scj10LnNjYWxlfHxbMSwxXSxuPXQucm90YXRpb258fDAsYT10LnBvc2l0aW9ufHxbMCwwXTtyZXR1cm4gaSYmKGVbNF0tPWlbMF0sZVs1XS09aVsxXSksV3QoZSxlLHIpLG4mJk50KGUsZSxuKSxpJiYoZVs0XSs9aVswXSxlWzVdKz1pWzFdKSxlWzRdKz1hWzBdLGVbNV0rPWFbMV0sZX07dmFyICR0PXtsaW5lYXI6ZnVuY3Rpb24odCl7cmV0dXJuIHR9LHF1YWRyYXRpY0luOmZ1bmN0aW9uKHQpe3JldHVybiB0KnR9LHF1YWRyYXRpY091dDpmdW5jdGlvbih0KXtyZXR1cm4gdCooMi10KX0scXVhZHJhdGljSW5PdXQ6ZnVuY3Rpb24odCl7cmV0dXJuKHQqPTIpPDE/LjUqdCp0Oi0uNSooLS10Kih0LTIpLTEpfSxjdWJpY0luOmZ1bmN0aW9uKHQpe3JldHVybiB0KnQqdH0sY3ViaWNPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuLS10KnQqdCsxfSxjdWJpY0luT3V0OmZ1bmN0aW9uKHQpe3JldHVybih0Kj0yKTwxPy41KnQqdCp0Oi41KigodC09MikqdCp0KzIpfSxxdWFydGljSW46ZnVuY3Rpb24odCl7cmV0dXJuIHQqdCp0KnR9LHF1YXJ0aWNPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIDEtIC0tdCp0KnQqdH0scXVhcnRpY0luT3V0OmZ1bmN0aW9uKHQpe3JldHVybih0Kj0yKTwxPy41KnQqdCp0KnQ6LS41KigodC09MikqdCp0KnQtMil9LHF1aW50aWNJbjpmdW5jdGlvbih0KXtyZXR1cm4gdCp0KnQqdCp0fSxxdWludGljT3V0OmZ1bmN0aW9uKHQpe3JldHVybi0tdCp0KnQqdCp0KzF9LHF1aW50aWNJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4odCo9Mik8MT8uNSp0KnQqdCp0KnQ6LjUqKCh0LT0yKSp0KnQqdCp0KzIpfSxzaW51c29pZGFsSW46ZnVuY3Rpb24odCl7cmV0dXJuIDEtTWF0aC5jb3ModCpNYXRoLlBJLzIpfSxzaW51c29pZGFsT3V0OmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNpbih0Kk1hdGguUEkvMil9LHNpbnVzb2lkYWxJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4uNSooMS1NYXRoLmNvcyhNYXRoLlBJKnQpKX0sZXhwb25lbnRpYWxJbjpmdW5jdGlvbih0KXtyZXR1cm4gMD09PXQ/MDpNYXRoLnBvdygxMDI0LHQtMSl9LGV4cG9uZW50aWFsT3V0OmZ1bmN0aW9uKHQpe3JldHVybiAxPT09dD8xOjEtTWF0aC5wb3coMiwtMTAqdCl9LGV4cG9uZW50aWFsSW5PdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIDA9PT10PzA6MT09PXQ/MToodCo9Mik8MT8uNSpNYXRoLnBvdygxMDI0LHQtMSk6LjUqKDItTWF0aC5wb3coMiwtMTAqKHQtMSkpKX0sY2lyY3VsYXJJbjpmdW5jdGlvbih0KXtyZXR1cm4gMS1NYXRoLnNxcnQoMS10KnQpfSxjaXJjdWxhck91dDpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5zcXJ0KDEtIC0tdCp0KX0sY2lyY3VsYXJJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4odCo9Mik8MT8tLjUqKE1hdGguc3FydCgxLXQqdCktMSk6LjUqKE1hdGguc3FydCgxLSh0LT0yKSp0KSsxKX0sZWxhc3RpY0luOmZ1bmN0aW9uKHQpe3ZhciBlLGk9LjE7cmV0dXJuIDA9PT10PzA6MT09PXQ/MTooZT0haXx8aTwxPyhpPTEsLjEpOi40Kk1hdGguYXNpbigxL2kpLygyKk1hdGguUEkpLC1pKk1hdGgucG93KDIsMTAqKHQtPTEpKSpNYXRoLnNpbigodC1lKSooMipNYXRoLlBJKS8uNCkpfSxlbGFzdGljT3V0OmZ1bmN0aW9uKHQpe3ZhciBlLGk9LjE7cmV0dXJuIDA9PT10PzA6MT09PXQ/MTooZT0haXx8aTwxPyhpPTEsLjEpOi40Kk1hdGguYXNpbigxL2kpLygyKk1hdGguUEkpLGkqTWF0aC5wb3coMiwtMTAqdCkqTWF0aC5zaW4oKHQtZSkqKDIqTWF0aC5QSSkvLjQpKzEpfSxlbGFzdGljSW5PdXQ6ZnVuY3Rpb24odCl7dmFyIGUsaT0uMTtyZXR1cm4gMD09PXQ/MDoxPT09dD8xOihlPSFpfHxpPDE/KGk9MSwuMSk6LjQqTWF0aC5hc2luKDEvaSkvKDIqTWF0aC5QSSksKHQqPTIpPDE/aSpNYXRoLnBvdygyLDEwKih0LT0xKSkqTWF0aC5zaW4oKHQtZSkqKDIqTWF0aC5QSSkvLjQpKi0uNTppKk1hdGgucG93KDIsLTEwKih0LT0xKSkqTWF0aC5zaW4oKHQtZSkqKDIqTWF0aC5QSSkvLjQpKi41KzEpfSxiYWNrSW46ZnVuY3Rpb24odCl7cmV0dXJuIHQqdCooMi43MDE1OCp0LTEuNzAxNTgpfSxiYWNrT3V0OmZ1bmN0aW9uKHQpe3JldHVybi0tdCp0KigyLjcwMTU4KnQrMS43MDE1OCkrMX0sYmFja0luT3V0OmZ1bmN0aW9uKHQpe3ZhciBlPTIuNTk0OTA5NTtyZXR1cm4odCo9Mik8MT90KnQqKCgxK2UpKnQtZSkqLjU6LjUqKCh0LT0yKSp0KigoMStlKSp0K2UpKzIpfSxib3VuY2VJbjpmdW5jdGlvbih0KXtyZXR1cm4gMS0kdC5ib3VuY2VPdXQoMS10KX0sYm91bmNlT3V0OmZ1bmN0aW9uKHQpe3JldHVybiB0PDEvMi43NT83LjU2MjUqdCp0OnQ8Mi8yLjc1PzcuNTYyNSoodC09MS41LzIuNzUpKnQrLjc1OnQ8Mi41LzIuNzU/Ny41NjI1Kih0LT0yLjI1LzIuNzUpKnQrLjkzNzU6Ny41NjI1Kih0LT0yLjYyNS8yLjc1KSp0Ky45ODQzNzV9LGJvdW5jZUluT3V0OmZ1bmN0aW9uKHQpe3JldHVybiB0PC41Py41KiR0LmJvdW5jZUluKDIqdCk6LjUqJHQuYm91bmNlT3V0KDIqdC0xKSsuNX19O2Z1bmN0aW9uIEt0KHQpe3RoaXMuX3RhcmdldD10LnRhcmdldCx0aGlzLl9saWZlPXQubGlmZXx8MWUzLHRoaXMuX2RlbGF5PXQuZGVsYXl8fDAsdGhpcy5faW5pdGlhbGl6ZWQ9ITEsdGhpcy5sb29wPW51bGwhPXQubG9vcCYmdC5sb29wLHRoaXMuZ2FwPXQuZ2FwfHwwLHRoaXMuZWFzaW5nPXQuZWFzaW5nfHxcIkxpbmVhclwiLHRoaXMub25mcmFtZT10Lm9uZnJhbWUsdGhpcy5vbmRlc3Ryb3k9dC5vbmRlc3Ryb3ksdGhpcy5vbnJlc3RhcnQ9dC5vbnJlc3RhcnQsdGhpcy5fcGF1c2VkVGltZT0wLHRoaXMuX3BhdXNlZD0hMX1LdC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkt0LHN0ZXA6ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9pbml0aWFsaXplZHx8KHRoaXMuX3N0YXJ0VGltZT10K3RoaXMuX2RlbGF5LHRoaXMuX2luaXRpYWxpemVkPSEwKSx0aGlzLl9wYXVzZWQpdGhpcy5fcGF1c2VkVGltZSs9ZTtlbHNle3ZhciBpPSh0LXRoaXMuX3N0YXJ0VGltZS10aGlzLl9wYXVzZWRUaW1lKS90aGlzLl9saWZlO2lmKCEoaTwwKSl7aT1NYXRoLm1pbihpLDEpO3ZhciByPXRoaXMuZWFzaW5nLG49XCJzdHJpbmdcIj09dHlwZW9mIHI/JHRbcl06cixhPVwiZnVuY3Rpb25cIj09dHlwZW9mIG4/bihpKTppO3JldHVybiB0aGlzLmZpcmUoXCJmcmFtZVwiLGEpLDE9PT1pP3RoaXMubG9vcD8odGhpcy5yZXN0YXJ0KHQpLFwicmVzdGFydFwiKToodGhpcy5fbmVlZHNSZW1vdmU9ITAsXCJkZXN0cm95XCIpOm51bGx9fX0scmVzdGFydDpmdW5jdGlvbih0KXt2YXIgZT0odC10aGlzLl9zdGFydFRpbWUtdGhpcy5fcGF1c2VkVGltZSkldGhpcy5fbGlmZTt0aGlzLl9zdGFydFRpbWU9dC1lK3RoaXMuZ2FwLHRoaXMuX3BhdXNlZFRpbWU9MCx0aGlzLl9uZWVkc1JlbW92ZT0hMX0sZmlyZTpmdW5jdGlvbih0LGUpe3RoaXNbdD1cIm9uXCIrdF0mJnRoaXNbdF0odGhpcy5fdGFyZ2V0LGUpfSxwYXVzZTpmdW5jdGlvbigpe3RoaXMuX3BhdXNlZD0hMH0scmVzdW1lOmZ1bmN0aW9uKCl7dGhpcy5fcGF1c2VkPSExfX07ZnVuY3Rpb24gSnQoKXt0aGlzLmhlYWQ9bnVsbCx0aGlzLnRhaWw9bnVsbCx0aGlzLl9sZW49MH12YXIgdGU9SnQucHJvdG90eXBlO3RlLmluc2VydD1mdW5jdGlvbih0KXt2YXIgZT1uZXcgaWUodCk7cmV0dXJuIHRoaXMuaW5zZXJ0RW50cnkoZSksZX0sdGUuaW5zZXJ0RW50cnk9ZnVuY3Rpb24odCl7dGhpcy5oZWFkPygodGhpcy50YWlsLm5leHQ9dCkucHJldj10aGlzLnRhaWwsdC5uZXh0PW51bGwsdGhpcy50YWlsPXQpOnRoaXMuaGVhZD10aGlzLnRhaWw9dCx0aGlzLl9sZW4rK30sdGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3ZhciBlPXQucHJldixpPXQubmV4dDtlP2UubmV4dD1pOnRoaXMuaGVhZD1pLGk/aS5wcmV2PWU6dGhpcy50YWlsPWUsdC5uZXh0PXQucHJldj1udWxsLHRoaXMuX2xlbi0tfSx0ZS5sZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGVufSx0ZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuaGVhZD10aGlzLnRhaWw9bnVsbCx0aGlzLl9sZW49MH07ZnVuY3Rpb24gZWUodCl7dGhpcy5fbGlzdD1uZXcgSnQsdGhpcy5fbWFwPXt9LHRoaXMuX21heFNpemU9dHx8MTAsdGhpcy5fbGFzdFJlbW92ZWRFbnRyeT1udWxsfXZhciBpZT1mdW5jdGlvbih0KXt0aGlzLnZhbHVlPXQsdGhpcy5uZXh0LHRoaXMucHJldn0scmU9ZWUucHJvdG90eXBlO3JlLnB1dD1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2xpc3Qscj10aGlzLl9tYXAsbj1udWxsO2lmKG51bGw9PXJbdF0pe3ZhciBhPWkubGVuKCksbz10aGlzLl9sYXN0UmVtb3ZlZEVudHJ5O2lmKGE+PXRoaXMuX21heFNpemUmJjA8YSl7dmFyIHM9aS5oZWFkO2kucmVtb3ZlKHMpLGRlbGV0ZSByW3Mua2V5XSxuPXMudmFsdWUsdGhpcy5fbGFzdFJlbW92ZWRFbnRyeT1zfW8/by52YWx1ZT1lOm89bmV3IGllKGUpLG8ua2V5PXQsaS5pbnNlcnRFbnRyeShvKSxyW3RdPW99cmV0dXJuIG59LHJlLmdldD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tYXBbdF0saT10aGlzLl9saXN0O2lmKG51bGwhPWUpcmV0dXJuIGUhPT1pLnRhaWwmJihpLnJlbW92ZShlKSxpLmluc2VydEVudHJ5KGUpKSxlLnZhbHVlfSxyZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX2xpc3QuY2xlYXIoKSx0aGlzLl9tYXA9e319O3ZhciBuZT17dHJhbnNwYXJlbnQ6WzAsMCwwLDBdLGFsaWNlYmx1ZTpbMjQwLDI0OCwyNTUsMV0sYW50aXF1ZXdoaXRlOlsyNTAsMjM1LDIxNSwxXSxhcXVhOlswLDI1NSwyNTUsMV0sYXF1YW1hcmluZTpbMTI3LDI1NSwyMTIsMV0sYXp1cmU6WzI0MCwyNTUsMjU1LDFdLGJlaWdlOlsyNDUsMjQ1LDIyMCwxXSxiaXNxdWU6WzI1NSwyMjgsMTk2LDFdLGJsYWNrOlswLDAsMCwxXSxibGFuY2hlZGFsbW9uZDpbMjU1LDIzNSwyMDUsMV0sYmx1ZTpbMCwwLDI1NSwxXSxibHVldmlvbGV0OlsxMzgsNDMsMjI2LDFdLGJyb3duOlsxNjUsNDIsNDIsMV0sYnVybHl3b29kOlsyMjIsMTg0LDEzNSwxXSxjYWRldGJsdWU6Wzk1LDE1OCwxNjAsMV0sY2hhcnRyZXVzZTpbMTI3LDI1NSwwLDFdLGNob2NvbGF0ZTpbMjEwLDEwNSwzMCwxXSxjb3JhbDpbMjU1LDEyNyw4MCwxXSxjb3JuZmxvd2VyYmx1ZTpbMTAwLDE0OSwyMzcsMV0sY29ybnNpbGs6WzI1NSwyNDgsMjIwLDFdLGNyaW1zb246WzIyMCwyMCw2MCwxXSxjeWFuOlswLDI1NSwyNTUsMV0sZGFya2JsdWU6WzAsMCwxMzksMV0sZGFya2N5YW46WzAsMTM5LDEzOSwxXSxkYXJrZ29sZGVucm9kOlsxODQsMTM0LDExLDFdLGRhcmtncmF5OlsxNjksMTY5LDE2OSwxXSxkYXJrZ3JlZW46WzAsMTAwLDAsMV0sZGFya2dyZXk6WzE2OSwxNjksMTY5LDFdLGRhcmtraGFraTpbMTg5LDE4MywxMDcsMV0sZGFya21hZ2VudGE6WzEzOSwwLDEzOSwxXSxkYXJrb2xpdmVncmVlbjpbODUsMTA3LDQ3LDFdLGRhcmtvcmFuZ2U6WzI1NSwxNDAsMCwxXSxkYXJrb3JjaGlkOlsxNTMsNTAsMjA0LDFdLGRhcmtyZWQ6WzEzOSwwLDAsMV0sZGFya3NhbG1vbjpbMjMzLDE1MCwxMjIsMV0sZGFya3NlYWdyZWVuOlsxNDMsMTg4LDE0MywxXSxkYXJrc2xhdGVibHVlOls3Miw2MSwxMzksMV0sZGFya3NsYXRlZ3JheTpbNDcsNzksNzksMV0sZGFya3NsYXRlZ3JleTpbNDcsNzksNzksMV0sZGFya3R1cnF1b2lzZTpbMCwyMDYsMjA5LDFdLGRhcmt2aW9sZXQ6WzE0OCwwLDIxMSwxXSxkZWVwcGluazpbMjU1LDIwLDE0NywxXSxkZWVwc2t5Ymx1ZTpbMCwxOTEsMjU1LDFdLGRpbWdyYXk6WzEwNSwxMDUsMTA1LDFdLGRpbWdyZXk6WzEwNSwxMDUsMTA1LDFdLGRvZGdlcmJsdWU6WzMwLDE0NCwyNTUsMV0sZmlyZWJyaWNrOlsxNzgsMzQsMzQsMV0sZmxvcmFsd2hpdGU6WzI1NSwyNTAsMjQwLDFdLGZvcmVzdGdyZWVuOlszNCwxMzksMzQsMV0sZnVjaHNpYTpbMjU1LDAsMjU1LDFdLGdhaW5zYm9ybzpbMjIwLDIyMCwyMjAsMV0sZ2hvc3R3aGl0ZTpbMjQ4LDI0OCwyNTUsMV0sZ29sZDpbMjU1LDIxNSwwLDFdLGdvbGRlbnJvZDpbMjE4LDE2NSwzMiwxXSxncmF5OlsxMjgsMTI4LDEyOCwxXSxncmVlbjpbMCwxMjgsMCwxXSxncmVlbnllbGxvdzpbMTczLDI1NSw0NywxXSxncmV5OlsxMjgsMTI4LDEyOCwxXSxob25leWRldzpbMjQwLDI1NSwyNDAsMV0saG90cGluazpbMjU1LDEwNSwxODAsMV0saW5kaWFucmVkOlsyMDUsOTIsOTIsMV0saW5kaWdvOls3NSwwLDEzMCwxXSxpdm9yeTpbMjU1LDI1NSwyNDAsMV0sa2hha2k6WzI0MCwyMzAsMTQwLDFdLGxhdmVuZGVyOlsyMzAsMjMwLDI1MCwxXSxsYXZlbmRlcmJsdXNoOlsyNTUsMjQwLDI0NSwxXSxsYXduZ3JlZW46WzEyNCwyNTIsMCwxXSxsZW1vbmNoaWZmb246WzI1NSwyNTAsMjA1LDFdLGxpZ2h0Ymx1ZTpbMTczLDIxNiwyMzAsMV0sbGlnaHRjb3JhbDpbMjQwLDEyOCwxMjgsMV0sbGlnaHRjeWFuOlsyMjQsMjU1LDI1NSwxXSxsaWdodGdvbGRlbnJvZHllbGxvdzpbMjUwLDI1MCwyMTAsMV0sbGlnaHRncmF5OlsyMTEsMjExLDIxMSwxXSxsaWdodGdyZWVuOlsxNDQsMjM4LDE0NCwxXSxsaWdodGdyZXk6WzIxMSwyMTEsMjExLDFdLGxpZ2h0cGluazpbMjU1LDE4MiwxOTMsMV0sbGlnaHRzYWxtb246WzI1NSwxNjAsMTIyLDFdLGxpZ2h0c2VhZ3JlZW46WzMyLDE3OCwxNzAsMV0sbGlnaHRza3libHVlOlsxMzUsMjA2LDI1MCwxXSxsaWdodHNsYXRlZ3JheTpbMTE5LDEzNiwxNTMsMV0sbGlnaHRzbGF0ZWdyZXk6WzExOSwxMzYsMTUzLDFdLGxpZ2h0c3RlZWxibHVlOlsxNzYsMTk2LDIyMiwxXSxsaWdodHllbGxvdzpbMjU1LDI1NSwyMjQsMV0sbGltZTpbMCwyNTUsMCwxXSxsaW1lZ3JlZW46WzUwLDIwNSw1MCwxXSxsaW5lbjpbMjUwLDI0MCwyMzAsMV0sbWFnZW50YTpbMjU1LDAsMjU1LDFdLG1hcm9vbjpbMTI4LDAsMCwxXSxtZWRpdW1hcXVhbWFyaW5lOlsxMDIsMjA1LDE3MCwxXSxtZWRpdW1ibHVlOlswLDAsMjA1LDFdLG1lZGl1bW9yY2hpZDpbMTg2LDg1LDIxMSwxXSxtZWRpdW1wdXJwbGU6WzE0NywxMTIsMjE5LDFdLG1lZGl1bXNlYWdyZWVuOls2MCwxNzksMTEzLDFdLG1lZGl1bXNsYXRlYmx1ZTpbMTIzLDEwNCwyMzgsMV0sbWVkaXVtc3ByaW5nZ3JlZW46WzAsMjUwLDE1NCwxXSxtZWRpdW10dXJxdW9pc2U6WzcyLDIwOSwyMDQsMV0sbWVkaXVtdmlvbGV0cmVkOlsxOTksMjEsMTMzLDFdLG1pZG5pZ2h0Ymx1ZTpbMjUsMjUsMTEyLDFdLG1pbnRjcmVhbTpbMjQ1LDI1NSwyNTAsMV0sbWlzdHlyb3NlOlsyNTUsMjI4LDIyNSwxXSxtb2NjYXNpbjpbMjU1LDIyOCwxODEsMV0sbmF2YWpvd2hpdGU6WzI1NSwyMjIsMTczLDFdLG5hdnk6WzAsMCwxMjgsMV0sb2xkbGFjZTpbMjUzLDI0NSwyMzAsMV0sb2xpdmU6WzEyOCwxMjgsMCwxXSxvbGl2ZWRyYWI6WzEwNywxNDIsMzUsMV0sb3JhbmdlOlsyNTUsMTY1LDAsMV0sb3JhbmdlcmVkOlsyNTUsNjksMCwxXSxvcmNoaWQ6WzIxOCwxMTIsMjE0LDFdLHBhbGVnb2xkZW5yb2Q6WzIzOCwyMzIsMTcwLDFdLHBhbGVncmVlbjpbMTUyLDI1MSwxNTIsMV0scGFsZXR1cnF1b2lzZTpbMTc1LDIzOCwyMzgsMV0scGFsZXZpb2xldHJlZDpbMjE5LDExMiwxNDcsMV0scGFwYXlhd2hpcDpbMjU1LDIzOSwyMTMsMV0scGVhY2hwdWZmOlsyNTUsMjE4LDE4NSwxXSxwZXJ1OlsyMDUsMTMzLDYzLDFdLHBpbms6WzI1NSwxOTIsMjAzLDFdLHBsdW06WzIyMSwxNjAsMjIxLDFdLHBvd2RlcmJsdWU6WzE3NiwyMjQsMjMwLDFdLHB1cnBsZTpbMTI4LDAsMTI4LDFdLHJlZDpbMjU1LDAsMCwxXSxyb3N5YnJvd246WzE4OCwxNDMsMTQzLDFdLHJveWFsYmx1ZTpbNjUsMTA1LDIyNSwxXSxzYWRkbGVicm93bjpbMTM5LDY5LDE5LDFdLHNhbG1vbjpbMjUwLDEyOCwxMTQsMV0sc2FuZHlicm93bjpbMjQ0LDE2NCw5NiwxXSxzZWFncmVlbjpbNDYsMTM5LDg3LDFdLHNlYXNoZWxsOlsyNTUsMjQ1LDIzOCwxXSxzaWVubmE6WzE2MCw4Miw0NSwxXSxzaWx2ZXI6WzE5MiwxOTIsMTkyLDFdLHNreWJsdWU6WzEzNSwyMDYsMjM1LDFdLHNsYXRlYmx1ZTpbMTA2LDkwLDIwNSwxXSxzbGF0ZWdyYXk6WzExMiwxMjgsMTQ0LDFdLHNsYXRlZ3JleTpbMTEyLDEyOCwxNDQsMV0sc25vdzpbMjU1LDI1MCwyNTAsMV0sc3ByaW5nZ3JlZW46WzAsMjU1LDEyNywxXSxzdGVlbGJsdWU6WzcwLDEzMCwxODAsMV0sdGFuOlsyMTAsMTgwLDE0MCwxXSx0ZWFsOlswLDEyOCwxMjgsMV0sdGhpc3RsZTpbMjE2LDE5MSwyMTYsMV0sdG9tYXRvOlsyNTUsOTksNzEsMV0sdHVycXVvaXNlOls2NCwyMjQsMjA4LDFdLHZpb2xldDpbMjM4LDEzMCwyMzgsMV0sd2hlYXQ6WzI0NSwyMjIsMTc5LDFdLHdoaXRlOlsyNTUsMjU1LDI1NSwxXSx3aGl0ZXNtb2tlOlsyNDUsMjQ1LDI0NSwxXSx5ZWxsb3c6WzI1NSwyNTUsMCwxXSx5ZWxsb3dncmVlbjpbMTU0LDIwNSw1MCwxXX07ZnVuY3Rpb24gYWUodCl7cmV0dXJuKHQ9TWF0aC5yb3VuZCh0KSk8MD8wOjI1NTx0PzI1NTp0fWZ1bmN0aW9uIG9lKHQpe3JldHVybiB0PDA/MDoxPHQ/MTp0fWZ1bmN0aW9uIHNlKHQpe3JldHVybiB0Lmxlbmd0aCYmXCIlXCI9PT10LmNoYXJBdCh0Lmxlbmd0aC0xKT9hZShwYXJzZUZsb2F0KHQpLzEwMCoyNTUpOmFlKHBhcnNlSW50KHQsMTApKX1mdW5jdGlvbiBoZSh0KXtyZXR1cm4gdC5sZW5ndGgmJlwiJVwiPT09dC5jaGFyQXQodC5sZW5ndGgtMSk/b2UocGFyc2VGbG9hdCh0KS8xMDApOm9lKHBhcnNlRmxvYXQodCkpfWZ1bmN0aW9uIGxlKHQsZSxpKXtyZXR1cm4gaTwwP2krPTE6MTxpJiYoaS09MSksNippPDE/dCsoZS10KSppKjY6MippPDE/ZTozKmk8Mj90KyhlLXQpKigyLzMtaSkqNjp0fWZ1bmN0aW9uIHVlKHQsZSxpKXtyZXR1cm4gdCsoZS10KSppfWZ1bmN0aW9uIGNlKHQsZSxpLHIsbil7cmV0dXJuIHRbMF09ZSx0WzFdPWksdFsyXT1yLHRbM109bix0fWZ1bmN0aW9uIGZlKHQsZSl7cmV0dXJuIHRbMF09ZVswXSx0WzFdPWVbMV0sdFsyXT1lWzJdLHRbM109ZVszXSx0fXZhciBkZT1uZXcgZWUoMjApLHBlPW51bGw7ZnVuY3Rpb24gdmUodCxlKXtwZSYmZmUocGUsZSkscGU9ZGUucHV0KHQscGV8fGUuc2xpY2UoKSl9ZnVuY3Rpb24gZ2UodCxlKXtpZih0KXtlPWV8fFtdO3ZhciBpPWRlLmdldCh0KTtpZihpKXJldHVybiBmZShlLGkpO3ZhciByLG49KHQrPVwiXCIpLnJlcGxhY2UoLyAvZyxcIlwiKS50b0xvd2VyQ2FzZSgpO2lmKG4gaW4gbmUpcmV0dXJuIGZlKGUsbmVbbl0pLHZlKHQsZSksZTtpZihcIiNcIj09PW4uY2hhckF0KDApKXJldHVybiA0PT09bi5sZW5ndGg/MDw9KHI9cGFyc2VJbnQobi5zdWJzdHIoMSksMTYpKSYmcjw9NDA5NT8oY2UoZSwoMzg0MCZyKT4+NHwoMzg0MCZyKT4+OCwyNDAmcnwoMjQwJnIpPj40LDE1JnJ8KDE1JnIpPDw0LDEpLHZlKHQsZSksZSk6dm9pZCBjZShlLDAsMCwwLDEpOjc9PT1uLmxlbmd0aD8wPD0ocj1wYXJzZUludChuLnN1YnN0cigxKSwxNikpJiZyPD0xNjc3NzIxNT8oY2UoZSwoMTY3MTE2ODAmcik+PjE2LCg2NTI4MCZyKT4+OCwyNTUmciwxKSx2ZSh0LGUpLGUpOnZvaWQgY2UoZSwwLDAsMCwxKTp2b2lkIDA7dmFyIGE9bi5pbmRleE9mKFwiKFwiKSxvPW4uaW5kZXhPZihcIilcIik7aWYoLTEhPT1hJiZvKzE9PT1uLmxlbmd0aCl7dmFyIHM9bi5zdWJzdHIoMCxhKSxoPW4uc3Vic3RyKGErMSxvLShhKzEpKS5zcGxpdChcIixcIiksbD0xO3N3aXRjaChzKXtjYXNlXCJyZ2JhXCI6aWYoNCE9PWgubGVuZ3RoKXJldHVybiB2b2lkIGNlKGUsMCwwLDAsMSk7bD1oZShoLnBvcCgpKTtjYXNlXCJyZ2JcIjpyZXR1cm4gMyE9PWgubGVuZ3RoP3ZvaWQgY2UoZSwwLDAsMCwxKTooY2UoZSxzZShoWzBdKSxzZShoWzFdKSxzZShoWzJdKSxsKSx2ZSh0LGUpLGUpO2Nhc2VcImhzbGFcIjpyZXR1cm4gNCE9PWgubGVuZ3RoP3ZvaWQgY2UoZSwwLDAsMCwxKTooaFszXT1oZShoWzNdKSxfZShoLGUpLHZlKHQsZSksZSk7Y2FzZVwiaHNsXCI6cmV0dXJuIDMhPT1oLmxlbmd0aD92b2lkIGNlKGUsMCwwLDAsMSk6KF9lKGgsZSksdmUodCxlKSxlKTtkZWZhdWx0OnJldHVybn19Y2UoZSwwLDAsMCwxKX19ZnVuY3Rpb24gX2UodCxlKXt2YXIgaT0ocGFyc2VGbG9hdCh0WzBdKSUzNjArMzYwKSUzNjAvMzYwLHI9aGUodFsxXSksbj1oZSh0WzJdKSxhPW48PS41P24qKHIrMSk6bityLW4qcixvPTIqbi1hO3JldHVybiBjZShlPWV8fFtdLGFlKDI1NSpsZShvLGEsaSsxLzMpKSxhZSgyNTUqbGUobyxhLGkpKSxhZSgyNTUqbGUobyxhLGktMS8zKSksMSksND09PXQubGVuZ3RoJiYoZVszXT10WzNdKSxlfWZ1bmN0aW9uIG1lKHQpe3ZhciBlPWdlKHQpO2lmKGUpcmV0dXJuKCgxPDwyNCkrKGVbMF08PDE2KSsoZVsxXTw8OCkrICtlWzJdKS50b1N0cmluZygxNikuc2xpY2UoMSl9ZnVuY3Rpb24geWUodCxlLGkpe2lmKGUmJmUubGVuZ3RoJiYwPD10JiZ0PD0xKXtpPWl8fFtdO3ZhciByPXQqKGUubGVuZ3RoLTEpLG49TWF0aC5mbG9vcihyKSxhPU1hdGguY2VpbChyKSxvPWVbbl0scz1lW2FdLGg9ci1uO3JldHVybiBpWzBdPWFlKHVlKG9bMF0sc1swXSxoKSksaVsxXT1hZSh1ZShvWzFdLHNbMV0saCkpLGlbMl09YWUodWUob1syXSxzWzJdLGgpKSxpWzNdPW9lKHVlKG9bM10sc1szXSxoKSksaX19dmFyIHhlPXllO2Z1bmN0aW9uIHdlKHQsZSxpKXtpZihlJiZlLmxlbmd0aCYmMDw9dCYmdDw9MSl7dmFyIHI9dCooZS5sZW5ndGgtMSksbj1NYXRoLmZsb29yKHIpLGE9TWF0aC5jZWlsKHIpLG89Z2UoZVtuXSkscz1nZShlW2FdKSxoPXItbixsPWtlKFthZSh1ZShvWzBdLHNbMF0saCkpLGFlKHVlKG9bMV0sc1sxXSxoKSksYWUodWUob1syXSxzWzJdLGgpKSxvZSh1ZShvWzNdLHNbM10saCkpXSxcInJnYmFcIik7cmV0dXJuIGk/e2NvbG9yOmwsbGVmdEluZGV4Om4scmlnaHRJbmRleDphLHZhbHVlOnJ9Omx9fXZhciBiZT13ZTtmdW5jdGlvbiBrZSh0LGUpe2lmKHQmJnQubGVuZ3RoKXt2YXIgaT10WzBdK1wiLFwiK3RbMV0rXCIsXCIrdFsyXTtyZXR1cm5cInJnYmFcIiE9PWUmJlwiaHN2YVwiIT09ZSYmXCJoc2xhXCIhPT1lfHwoaSs9XCIsXCIrdFszXSksZStcIihcIitpK1wiKVwifX12YXIgVGU9KE9iamVjdC5mcmVlemV8fE9iamVjdCkoe3BhcnNlOmdlLGxpZnQ6ZnVuY3Rpb24odCxlKXt2YXIgaT1nZSh0KTtpZihpKXtmb3IodmFyIHI9MDtyPDM7cisrKWlbcl09ZTwwP2lbcl0qKDEtZSl8MDooMjU1LWlbcl0pKmUraVtyXXwwLDI1NTxpW3JdP2lbcl09MjU1OnRbcl08MCYmKGlbcl09MCk7cmV0dXJuIGtlKGksND09PWkubGVuZ3RoP1wicmdiYVwiOlwicmdiXCIpfX0sdG9IZXg6bWUsZmFzdExlcnA6eWUsZmFzdE1hcFRvQ29sb3I6eGUsbGVycDp3ZSxtYXBUb0NvbG9yOmJlLG1vZGlmeUhTTDpmdW5jdGlvbih0LGUsaSxyKXtpZih0PWdlKHQpKXJldHVybiB0PWZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBlLGkscj10WzBdLzI1NSxuPXRbMV0vMjU1LGE9dFsyXS8yNTUsbz1NYXRoLm1pbihyLG4sYSkscz1NYXRoLm1heChyLG4sYSksaD1zLW8sbD0ocytvKS8yO2lmKDA9PWgpaT1lPTA7ZWxzZXtpPWw8LjU/aC8ocytvKTpoLygyLXMtbyk7dmFyIHU9KChzLXIpLzYraC8yKS9oLGM9KChzLW4pLzYraC8yKS9oLGY9KChzLWEpLzYraC8yKS9oO3I9PT1zP2U9Zi1jOm49PT1zP2U9MS8zK3UtZjphPT09cyYmKGU9Mi8zK2MtdSksZTwwJiYoZSs9MSksMTxlJiYoZS09MSl9dmFyIGQ9WzM2MCplLGksbF07cmV0dXJuIG51bGwhPXRbM10mJmQucHVzaCh0WzNdKSxkfX0odCksbnVsbCE9ZSYmKHRbMF09ZnVuY3Rpb24odCl7cmV0dXJuKHQ9TWF0aC5yb3VuZCh0KSk8MD8wOjM2MDx0PzM2MDp0fShlKSksbnVsbCE9aSYmKHRbMV09aGUoaSkpLG51bGwhPXImJih0WzJdPWhlKHIpKSxrZShfZSh0KSxcInJnYmFcIil9LG1vZGlmeUFscGhhOmZ1bmN0aW9uKHQsZSl7aWYoKHQ9Z2UodCkpJiZudWxsIT1lKXJldHVybiB0WzNdPW9lKGUpLGtlKHQsXCJyZ2JhXCIpfSxzdHJpbmdpZnk6a2V9KSxTZT1BcnJheS5wcm90b3R5cGUuc2xpY2U7ZnVuY3Rpb24gQ2UodCxlKXtyZXR1cm4gdFtlXX1mdW5jdGlvbiBNZSh0LGUsaSl7dFtlXT1pfWZ1bmN0aW9uIFBlKHQsZSxpKXtyZXR1cm4oZS10KSppK3R9ZnVuY3Rpb24gQWUodCxlLGkpe3JldHVybi41PGk/ZTp0fWZ1bmN0aW9uIExlKHQsZSxpLHIsbil7dmFyIGE9dC5sZW5ndGg7aWYoMT09PW4pZm9yKHZhciBvPTA7bzxhO28rKylyW29dPVBlKHRbb10sZVtvXSxpKTtlbHNle3ZhciBzPWEmJnRbMF0ubGVuZ3RoO2ZvcihvPTA7bzxhO28rKylmb3IodmFyIGg9MDtoPHM7aCsrKXJbb11baF09UGUodFtvXVtoXSxlW29dW2hdLGkpfX1mdW5jdGlvbiB6ZSh0LGUsaSl7dmFyIHI9dC5sZW5ndGgsbj1lLmxlbmd0aDtpZihyIT09bilpZihuPHIpdC5sZW5ndGg9bjtlbHNlIGZvcih2YXIgYT1yO2E8bjthKyspdC5wdXNoKDE9PT1pP2VbYV06U2UuY2FsbChlW2FdKSk7dmFyIG89dFswXSYmdFswXS5sZW5ndGg7Zm9yKGE9MDthPHQubGVuZ3RoO2ErKylpZigxPT09aSlpc05hTih0W2FdKSYmKHRbYV09ZVthXSk7ZWxzZSBmb3IodmFyIHM9MDtzPG87cysrKWlzTmFOKHRbYV1bc10pJiYodFthXVtzXT1lW2FdW3NdKX1mdW5jdGlvbiBEZSh0LGUsaSl7aWYodD09PWUpcmV0dXJuITA7dmFyIHI9dC5sZW5ndGg7aWYociE9PWUubGVuZ3RoKXJldHVybiExO2lmKDE9PT1pKXtmb3IodmFyIG49MDtuPHI7bisrKWlmKHRbbl0hPT1lW25dKXJldHVybiExfWVsc2V7dmFyIGE9dFswXS5sZW5ndGg7Zm9yKG49MDtuPHI7bisrKWZvcih2YXIgbz0wO288YTtvKyspaWYodFtuXVtvXSE9PWVbbl1bb10pcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gQmUodCxlLGkscixuLGEsbyxzLGgpe3ZhciBsPXQubGVuZ3RoO2lmKDE9PT1oKWZvcih2YXIgdT0wO3U8bDt1Kyspc1t1XT1JZSh0W3VdLGVbdV0saVt1XSxyW3VdLG4sYSxvKTtlbHNle3ZhciBjPXRbMF0ubGVuZ3RoO2Zvcih1PTA7dTxsO3UrKylmb3IodmFyIGY9MDtmPGM7ZisrKXNbdV1bZl09SWUodFt1XVtmXSxlW3VdW2ZdLGlbdV1bZl0sclt1XVtmXSxuLGEsbyl9fWZ1bmN0aW9uIEllKHQsZSxpLHIsbixhLG8pe3ZhciBzPS41KihpLXQpLGg9LjUqKHItZSk7cmV0dXJuKDIqKGUtaSkrcytoKSpvKygtMyooZS1pKS0yKnMtaCkqYStzKm4rZX1mdW5jdGlvbiBPZSh0KXtpZihEKHQpKXt2YXIgZT10Lmxlbmd0aDtpZihEKHRbMF0pKXtmb3IodmFyIGk9W10scj0wO3I8ZTtyKyspaS5wdXNoKFNlLmNhbGwodFtyXSkpO3JldHVybiBpfXJldHVybiBTZS5jYWxsKHQpfXJldHVybiB0fWZ1bmN0aW9uIEVlKHQpe3JldHVybiB0WzBdPU1hdGguZmxvb3IodFswXSksdFsxXT1NYXRoLmZsb29yKHRbMV0pLHRbMl09TWF0aC5mbG9vcih0WzJdKSxcInJnYmEoXCIrdC5qb2luKFwiLFwiKStcIilcIn1mdW5jdGlvbiBSZSh0LGUsaSxyLGEsbil7dmFyIG89dC5fZ2V0dGVyLHM9dC5fc2V0dGVyLGg9XCJzcGxpbmVcIj09PWUsbD1yLmxlbmd0aDtpZihsKXt2YXIgdSxjPUQoclswXS52YWx1ZSksZj0hMSxkPSExLHA9Yz9mdW5jdGlvbih0KXt2YXIgZT10W3QubGVuZ3RoLTFdLnZhbHVlO3JldHVybiBEKGUmJmVbMF0pPzI6MX0ocik6MDtyLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC50aW1lLWUudGltZX0pLHU9cltsLTFdLnRpbWU7Zm9yKHZhciB2PVtdLGc9W10sXz1yWzBdLnZhbHVlLG09ITAseT0wO3k8bDt5Kyspe3YucHVzaChyW3ldLnRpbWUvdSk7dmFyIHg9clt5XS52YWx1ZTtpZihjJiZEZSh4LF8scCl8fCFjJiZ4PT09X3x8KG09ITEpLFwic3RyaW5nXCI9PXR5cGVvZihfPXgpKXt2YXIgdz1nZSh4KTt3Pyh4PXcsZj0hMCk6ZD0hMH1nLnB1c2goeCl9aWYobnx8IW0pe3ZhciBiPWdbbC0xXTtmb3IoeT0wO3k8bC0xO3krKyljP3plKGdbeV0sYixwKTohaXNOYU4oZ1t5XSl8fGlzTmFOKGIpfHxkfHxmfHwoZ1t5XT1iKTtjJiZ6ZShvKHQuX3RhcmdldCxhKSxiLHApO3ZhciBrLFQsUyxDLE0sUD0wLEE9MDtpZihmKXZhciBMPVswLDAsMCwwXTt2YXIgej1uZXcgS3Qoe3RhcmdldDp0Ll90YXJnZXQsbGlmZTp1LGxvb3A6dC5fbG9vcCxkZWxheTp0Ll9kZWxheSxvbmZyYW1lOmZ1bmN0aW9uKHQsZSl7dmFyIGk7aWYoZTwwKWk9MDtlbHNlIGlmKGU8QSl7Zm9yKGk9TWF0aC5taW4oUCsxLGwtMSk7MDw9aSYmISh2W2ldPD1lKTtpLS0pO2k9TWF0aC5taW4oaSxsLTIpfWVsc2V7Zm9yKGk9UDtpPGwmJiEodltpXT5lKTtpKyspO2k9TWF0aC5taW4oaS0xLGwtMil9QT1lO3ZhciByPXZbKFA9aSkrMV0tdltpXTtpZigwIT1yKWlmKGs9KGUtdltpXSkvcixoKWlmKFM9Z1tpXSxUPWdbMD09PWk/aTppLTFdLEM9Z1tsLTI8aT9sLTE6aSsxXSxNPWdbbC0zPGk/bC0xOmkrMl0sYylCZShULFMsQyxNLGssayprLGsqayprLG8odCxhKSxwKTtlbHNle2lmKGYpbj1CZShULFMsQyxNLGssayprLGsqayprLEwsMSksbj1FZShMKTtlbHNle2lmKGQpcmV0dXJuIEFlKFMsQyxrKTtuPUllKFQsUyxDLE0sayxrKmssayprKmspfXModCxhLG4pfWVsc2UgaWYoYylMZShnW2ldLGdbaSsxXSxrLG8odCxhKSxwKTtlbHNle3ZhciBuO2lmKGYpTGUoZ1tpXSxnW2krMV0sayxMLDEpLG49RWUoTCk7ZWxzZXtpZihkKXJldHVybiBBZShnW2ldLGdbaSsxXSxrKTtuPVBlKGdbaV0sZ1tpKzFdLGspfXModCxhLG4pfX0sb25kZXN0cm95Oml9KTtyZXR1cm4gZSYmXCJzcGxpbmVcIiE9PWUmJih6LmVhc2luZz1lKSx6fX19ZnVuY3Rpb24gRmUodCxlLGkscil7dGhpcy5fdHJhY2tzPXt9LHRoaXMuX3RhcmdldD10LHRoaXMuX2xvb3A9ZXx8ITEsdGhpcy5fZ2V0dGVyPWl8fENlLHRoaXMuX3NldHRlcj1yfHxNZSx0aGlzLl9jbGlwQ291bnQ9MCx0aGlzLl9kZWxheT0wLHRoaXMuX2RvbmVMaXN0PVtdLHRoaXMuX29uZnJhbWVMaXN0PVtdLHRoaXMuX2NsaXBMaXN0PVtdfUZlLnByb3RvdHlwZT17d2hlbjpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX3RyYWNrcztmb3IodmFyIHIgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHIpKXtpZighaVtyXSl7aVtyXT1bXTt2YXIgbj10aGlzLl9nZXR0ZXIodGhpcy5fdGFyZ2V0LHIpO2lmKG51bGw9PW4pY29udGludWU7MCE9PXQmJmlbcl0ucHVzaCh7dGltZTowLHZhbHVlOk9lKG4pfSl9aVtyXS5wdXNoKHt0aW1lOnQsdmFsdWU6ZVtyXX0pfXJldHVybiB0aGlzfSxkdXJpbmc6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX29uZnJhbWVMaXN0LnB1c2godCksdGhpc30scGF1c2U6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMuX2NsaXBMaXN0Lmxlbmd0aDt0KyspdGhpcy5fY2xpcExpc3RbdF0ucGF1c2UoKTt0aGlzLl9wYXVzZWQ9ITB9LHJlc3VtZTpmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5fY2xpcExpc3QubGVuZ3RoO3QrKyl0aGlzLl9jbGlwTGlzdFt0XS5yZXN1bWUoKTt0aGlzLl9wYXVzZWQ9ITF9LGlzUGF1c2VkOmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLl9wYXVzZWR9LF9kb25lQ2FsbGJhY2s6ZnVuY3Rpb24oKXt0aGlzLl90cmFja3M9e30sdGhpcy5fY2xpcExpc3QubGVuZ3RoPTA7Zm9yKHZhciB0PXRoaXMuX2RvbmVMaXN0LGU9dC5sZW5ndGgsaT0wO2k8ZTtpKyspdFtpXS5jYWxsKHRoaXMpfSxzdGFydDpmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkoKXstLWF8fG4uX2RvbmVDYWxsYmFjaygpfXZhciByLG49dGhpcyxhPTA7Zm9yKHZhciBvIGluIHRoaXMuX3RyYWNrcylpZih0aGlzLl90cmFja3MuaGFzT3duUHJvcGVydHkobykpe3ZhciBzPVJlKHRoaXMsdCxpLHRoaXMuX3RyYWNrc1tvXSxvLGUpO3MmJih0aGlzLl9jbGlwTGlzdC5wdXNoKHMpLGErKyx0aGlzLmFuaW1hdGlvbiYmdGhpcy5hbmltYXRpb24uYWRkQ2xpcChzKSxyPXMpfWlmKHIpe3ZhciBoPXIub25mcmFtZTtyLm9uZnJhbWU9ZnVuY3Rpb24odCxlKXtoKHQsZSk7Zm9yKHZhciBpPTA7aTxuLl9vbmZyYW1lTGlzdC5sZW5ndGg7aSsrKW4uX29uZnJhbWVMaXN0W2ldKHQsZSl9fXJldHVybiBhfHx0aGlzLl9kb25lQ2FsbGJhY2soKSx0aGlzfSxzdG9wOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9jbGlwTGlzdCxpPXRoaXMuYW5pbWF0aW9uLHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTt0JiZuLm9uZnJhbWUodGhpcy5fdGFyZ2V0LDEpLGkmJmkucmVtb3ZlQ2xpcChuKX1lLmxlbmd0aD0wfSxkZWxheTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGVsYXk9dCx0aGlzfSxkb25lOmZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0aGlzLl9kb25lTGlzdC5wdXNoKHQpLHRoaXN9LGdldENsaXBzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NsaXBMaXN0fX07dmFyIEhlPTE7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmKEhlPU1hdGgubWF4KHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfHwxLDEpKTt2YXIgTmU9SGUsV2U9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIFZlKCl7dGhpcy5hbmltYXRvcnM9W119dmFyIFhlPVdlO2Z1bmN0aW9uIHFlKHQsZSxpLHIsbixhLG8scyl7QShyKT8oYT1uLG49cixyPTApOlAobik/KGE9bixuPVwibGluZWFyXCIscj0wKTpQKHIpPyhhPXIscj0wKTppPVAoaSk/KGE9aSw1MDApOml8fDUwMCx0LnN0b3BBbmltYXRpb24oKSxmdW5jdGlvbiB0KGUsaSxyLG4sYSxvLHMpe3ZhciBoPXt9O3ZhciBsPTA7Zm9yKHZhciB1IGluIG4pbi5oYXNPd25Qcm9wZXJ0eSh1KSYmKG51bGwhPXJbdV0/TChuW3VdKSYmIUQoblt1XSk/dChlLGk/aStcIi5cIit1OnUsclt1XSxuW3VdLGEsbyxzKToocz8oaFt1XT1yW3VdLGplKGUsaSx1LG5bdV0pKTpoW3VdPW5bdV0sbCsrKTpudWxsPT1uW3VdfHxzfHxqZShlLGksdSxuW3VdKSk7MDxsJiZlLmFuaW1hdGUoaSwhMSkud2hlbihudWxsPT1hPzUwMDphLGgpLmRlbGF5KG98fDApfSh0LFwiXCIsdCxlLGkscixzKTt2YXIgaD10LmFuaW1hdG9ycy5zbGljZSgpLGw9aC5sZW5ndGg7ZnVuY3Rpb24gdSgpey0tbHx8YSYmYSgpfWx8fGEmJmEoKTtmb3IodmFyIGM9MDtjPGgubGVuZ3RoO2MrKyloW2NdLmRvbmUodSkuc3RhcnQobixvKX1mdW5jdGlvbiBqZSh0LGUsaSxyKXtpZihlKXt2YXIgbj17fTtuW2VdPXt9LG5bZV1baV09cix0LmF0dHIobil9ZWxzZSB0LmF0dHIoaSxyKX1WZS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlZlLGFuaW1hdGU6ZnVuY3Rpb24odCxlKXt2YXIgaSxyPSExLG49dGhpcyxhPXRoaXMuX196cjtpZih0KXt2YXIgbz10LnNwbGl0KFwiLlwiKSxzPW47cj1cInNoYXBlXCI9PT1vWzBdO2Zvcih2YXIgaD0wLGw9by5sZW5ndGg7aDxsO2grKylzPXMmJnNbb1toXV07cyYmKGk9cyl9ZWxzZSBpPW47aWYoaSl7dmFyIHU9bi5hbmltYXRvcnMsYz1uZXcgRmUoaSxlKTtyZXR1cm4gYy5kdXJpbmcoZnVuY3Rpb24odCl7bi5kaXJ0eShyKX0pLmRvbmUoZnVuY3Rpb24oKXt1LnNwbGljZSh3KHUsYyksMSl9KSx1LnB1c2goYyksYSYmYS5hbmltYXRpb24uYWRkQW5pbWF0b3IoYyksY31YZSgnUHJvcGVydHkgXCInK3QrJ1wiIGlzIG5vdCBleGlzdGVkIGluIGVsZW1lbnQgJytuLmlkKX0sc3RvcEFuaW1hdGlvbjpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5hbmltYXRvcnMsaT1lLmxlbmd0aCxyPTA7cjxpO3IrKyllW3JdLnN0b3AodCk7cmV0dXJuIGUubGVuZ3RoPTAsdGhpc30sYW5pbWF0ZVRvOmZ1bmN0aW9uKHQsZSxpLHIsbixhKXtxZSh0aGlzLHQsZSxpLHIsbixhKX0sYW5pbWF0ZUZyb206ZnVuY3Rpb24odCxlLGkscixuLGEpe3FlKHRoaXMsdCxlLGkscixuLGEsITApfX07dmFyIFllPWZ1bmN0aW9uKHQpe1l0LmNhbGwodGhpcyx0KSx1dC5jYWxsKHRoaXMsdCksVmUuY2FsbCh0aGlzLHQpLHRoaXMuaWQ9dC5pZHx8cigpfTtZZS5wcm90b3R5cGU9e3R5cGU6XCJlbGVtZW50XCIsbmFtZTpcIlwiLF9fenI6bnVsbCxpZ25vcmU6ITEsY2xpcFBhdGg6bnVsbCxpc0dyb3VwOiExLGRyaWZ0OmZ1bmN0aW9uKHQsZSl7c3dpdGNoKHRoaXMuZHJhZ2dhYmxlKXtjYXNlXCJob3Jpem9udGFsXCI6ZT0wO2JyZWFrO2Nhc2VcInZlcnRpY2FsXCI6dD0wfXZhciBpPXRoaXMudHJhbnNmb3JtOyhpPWl8fCh0aGlzLnRyYW5zZm9ybT1bMSwwLDAsMSwwLDBdKSlbNF0rPXQsaVs1XSs9ZSx0aGlzLmRlY29tcG9zZVRyYW5zZm9ybSgpLHRoaXMuZGlydHkoITEpfSxiZWZvcmVVcGRhdGU6ZnVuY3Rpb24oKXt9LGFmdGVyVXBkYXRlOmZ1bmN0aW9uKCl7fSx1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpfSx0cmF2ZXJzZTpmdW5jdGlvbih0LGUpe30sYXR0cktWOmZ1bmN0aW9uKHQsZSl7aWYoXCJwb3NpdGlvblwiPT09dHx8XCJzY2FsZVwiPT09dHx8XCJvcmlnaW5cIj09PXQpe2lmKGUpe3ZhciBpPXRoaXNbdF07KGk9aXx8KHRoaXNbdF09W10pKVswXT1lWzBdLGlbMV09ZVsxXX19ZWxzZSB0aGlzW3RdPWV9LGhpZGU6ZnVuY3Rpb24oKXt0aGlzLmlnbm9yZT0hMCx0aGlzLl9fenImJnRoaXMuX196ci5yZWZyZXNoKCl9LHNob3c6ZnVuY3Rpb24oKXt0aGlzLmlnbm9yZT0hMSx0aGlzLl9fenImJnRoaXMuX196ci5yZWZyZXNoKCl9LGF0dHI6ZnVuY3Rpb24odCxlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgdCl0aGlzLmF0dHJLVih0LGUpO2Vsc2UgaWYoTCh0KSlmb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiZ0aGlzLmF0dHJLVihpLHRbaV0pO3JldHVybiB0aGlzLmRpcnR5KCExKSx0aGlzfSxzZXRDbGlwUGF0aDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9fenI7ZSYmdC5hZGRTZWxmVG9acihlKSx0aGlzLmNsaXBQYXRoJiZ0aGlzLmNsaXBQYXRoIT09dCYmdGhpcy5yZW1vdmVDbGlwUGF0aCgpLCh0aGlzLmNsaXBQYXRoPXQpLl9fenI9ZSwodC5fX2NsaXBUYXJnZXQ9dGhpcykuZGlydHkoITEpfSxyZW1vdmVDbGlwUGF0aDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuY2xpcFBhdGg7dCYmKHQuX196ciYmdC5yZW1vdmVTZWxmRnJvbVpyKHQuX196ciksdC5fX3pyPW51bGwsdC5fX2NsaXBUYXJnZXQ9bnVsbCx0aGlzLmNsaXBQYXRoPW51bGwsdGhpcy5kaXJ0eSghMSkpfSxhZGRTZWxmVG9acjpmdW5jdGlvbih0KXt0aGlzLl9fenI9dDt2YXIgZT10aGlzLmFuaW1hdG9ycztpZihlKWZvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXQuYW5pbWF0aW9uLmFkZEFuaW1hdG9yKGVbaV0pO3RoaXMuY2xpcFBhdGgmJnRoaXMuY2xpcFBhdGguYWRkU2VsZlRvWnIodCl9LHJlbW92ZVNlbGZGcm9tWnI6ZnVuY3Rpb24odCl7dGhpcy5fX3pyPW51bGw7dmFyIGU9dGhpcy5hbmltYXRvcnM7aWYoZSlmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl0LmFuaW1hdGlvbi5yZW1vdmVBbmltYXRvcihlW2ldKTt0aGlzLmNsaXBQYXRoJiZ0aGlzLmNsaXBQYXRoLnJlbW92ZVNlbGZGcm9tWnIodCl9fSxrKFllLFZlKSxrKFllLFl0KSxrKFllLHV0KTt2YXIgVWUsR2UsWmUsUWUsJGU9bnQsS2U9TWF0aC5taW4sSmU9TWF0aC5tYXg7ZnVuY3Rpb24gdGkodCxlLGkscil7aTwwJiYodCs9aSxpPS1pKSxyPDAmJihlKz1yLHI9LXIpLHRoaXMueD10LHRoaXMueT1lLHRoaXMud2lkdGg9aSx0aGlzLmhlaWdodD1yfXRpLnByb3RvdHlwZT17Y29uc3RydWN0b3I6dGksdW5pb246ZnVuY3Rpb24odCl7dmFyIGU9S2UodC54LHRoaXMueCksaT1LZSh0LnksdGhpcy55KTt0aGlzLndpZHRoPUplKHQueCt0LndpZHRoLHRoaXMueCt0aGlzLndpZHRoKS1lLHRoaXMuaGVpZ2h0PUplKHQueSt0LmhlaWdodCx0aGlzLnkrdGhpcy5oZWlnaHQpLWksdGhpcy54PWUsdGhpcy55PWl9LGFwcGx5VHJhbnNmb3JtOihVZT1bXSxHZT1bXSxaZT1bXSxRZT1bXSxmdW5jdGlvbih0KXtpZih0KXtVZVswXT1aZVswXT10aGlzLngsVWVbMV09UWVbMV09dGhpcy55LEdlWzBdPVFlWzBdPXRoaXMueCt0aGlzLndpZHRoLEdlWzFdPVplWzFdPXRoaXMueSt0aGlzLmhlaWdodCwkZShVZSxVZSx0KSwkZShHZSxHZSx0KSwkZShaZSxaZSx0KSwkZShRZSxRZSx0KSx0aGlzLng9S2UoVWVbMF0sR2VbMF0sWmVbMF0sUWVbMF0pLHRoaXMueT1LZShVZVsxXSxHZVsxXSxaZVsxXSxRZVsxXSk7dmFyIGU9SmUoVWVbMF0sR2VbMF0sWmVbMF0sUWVbMF0pLGk9SmUoVWVbMV0sR2VbMV0sWmVbMV0sUWVbMV0pO3RoaXMud2lkdGg9ZS10aGlzLngsdGhpcy5oZWlnaHQ9aS10aGlzLnl9fSksY2FsY3VsYXRlVHJhbnNmb3JtOmZ1bmN0aW9uKHQpe3ZhciBlPXQud2lkdGgvdGhpcy53aWR0aCxpPXQuaGVpZ2h0L3RoaXMuaGVpZ2h0LHI9T3QoKTtyZXR1cm4gSHQocixyLFstdGhpcy54LC10aGlzLnldKSxXdChyLHIsW2UsaV0pLEh0KHIscixbdC54LHQueV0pLHJ9LGludGVyc2VjdDpmdW5jdGlvbih0KXtpZighdClyZXR1cm4hMTt0IGluc3RhbmNlb2YgdGl8fCh0PXRpLmNyZWF0ZSh0KSk7dmFyIGU9dGhpcyxpPWUueCxyPWUueCtlLndpZHRoLG49ZS55LGE9ZS55K2UuaGVpZ2h0LG89dC54LHM9dC54K3Qud2lkdGgsaD10LnksbD10LnkrdC5oZWlnaHQ7cmV0dXJuIShyPG98fHM8aXx8YTxofHxsPG4pfSxjb250YWluOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcztyZXR1cm4gdD49aS54JiZ0PD1pLngraS53aWR0aCYmZT49aS55JiZlPD1pLnkraS5oZWlnaHR9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0aSh0aGlzLngsdGhpcy55LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfSxjb3B5OmZ1bmN0aW9uKHQpe3RoaXMueD10LngsdGhpcy55PXQueSx0aGlzLndpZHRoPXQud2lkdGgsdGhpcy5oZWlnaHQ9dC5oZWlnaHR9LHBsYWluOmZ1bmN0aW9uKCl7cmV0dXJue3g6dGhpcy54LHk6dGhpcy55LHdpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0fX19O2Z1bmN0aW9uIGVpKHQpe2Zvcih2YXIgZSBpbiB0PXR8fHt9LFllLmNhbGwodGhpcyx0KSx0KXQuaGFzT3duUHJvcGVydHkoZSkmJih0aGlzW2VdPXRbZV0pO3RoaXMuX2NoaWxkcmVuPVtdLHRoaXMuX19zdG9yYWdlPW51bGwsdGhpcy5fX2RpcnR5PSEwfWVpLnByb3RvdHlwZT17Y29uc3RydWN0b3I6ZWksaXNHcm91cDohMCx0eXBlOlwiZ3JvdXBcIixzaWxlbnQ6ISh0aS5jcmVhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB0aSh0LngsdC55LHQud2lkdGgsdC5oZWlnaHQpfSksY2hpbGRyZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4uc2xpY2UoKX0sY2hpbGRBdDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5bdF19LGNoaWxkT2ZOYW1lOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9jaGlsZHJlbixpPTA7aTxlLmxlbmd0aDtpKyspaWYoZVtpXS5uYW1lPT09dClyZXR1cm4gZVtpXX0sY2hpbGRDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5sZW5ndGh9LGFkZDpmdW5jdGlvbih0KXtyZXR1cm4gdCYmdCE9PXRoaXMmJnQucGFyZW50IT09dGhpcyYmKHRoaXMuX2NoaWxkcmVuLnB1c2godCksdGhpcy5fZG9BZGQodCkpLHRoaXN9LGFkZEJlZm9yZTpmdW5jdGlvbih0LGUpe2lmKHQmJnQhPT10aGlzJiZ0LnBhcmVudCE9PXRoaXMmJmUmJmUucGFyZW50PT09dGhpcyl7dmFyIGk9dGhpcy5fY2hpbGRyZW4scj1pLmluZGV4T2YoZSk7MDw9ciYmKGkuc3BsaWNlKHIsMCx0KSx0aGlzLl9kb0FkZCh0KSl9cmV0dXJuIHRoaXN9LF9kb0FkZDpmdW5jdGlvbih0KXt0LnBhcmVudCYmdC5wYXJlbnQucmVtb3ZlKHQpO3ZhciBlPSh0LnBhcmVudD10aGlzKS5fX3N0b3JhZ2UsaT10aGlzLl9fenI7ZSYmZSE9PXQuX19zdG9yYWdlJiYoZS5hZGRUb1N0b3JhZ2UodCksdCBpbnN0YW5jZW9mIGVpJiZ0LmFkZENoaWxkcmVuVG9TdG9yYWdlKGUpKSxpJiZpLnJlZnJlc2goKX0scmVtb3ZlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX196cixpPXRoaXMuX19zdG9yYWdlLHI9dGhpcy5fY2hpbGRyZW4sbj13KHIsdCk7cmV0dXJuIG48MHx8KHIuc3BsaWNlKG4sMSksdC5wYXJlbnQ9bnVsbCxpJiYoaS5kZWxGcm9tU3RvcmFnZSh0KSx0IGluc3RhbmNlb2YgZWkmJnQuZGVsQ2hpbGRyZW5Gcm9tU3RvcmFnZShpKSksZSYmZS5yZWZyZXNoKCkpLHRoaXN9LHJlbW92ZUFsbDpmdW5jdGlvbigpe3ZhciB0LGUsaT10aGlzLl9jaGlsZHJlbixyPXRoaXMuX19zdG9yYWdlO2ZvcihlPTA7ZTxpLmxlbmd0aDtlKyspdD1pW2VdLHImJihyLmRlbEZyb21TdG9yYWdlKHQpLHQgaW5zdGFuY2VvZiBlaSYmdC5kZWxDaGlsZHJlbkZyb21TdG9yYWdlKHIpKSx0LnBhcmVudD1udWxsO3JldHVybiBpLmxlbmd0aD0wLHRoaXN9LGVhY2hDaGlsZDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT10aGlzLl9jaGlsZHJlbixyPTA7cjxpLmxlbmd0aDtyKyspe3ZhciBuPWlbcl07dC5jYWxsKGUsbixyKX1yZXR1cm4gdGhpc30sdHJhdmVyc2U6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9MDtpPHRoaXMuX2NoaWxkcmVuLmxlbmd0aDtpKyspe3ZhciByPXRoaXMuX2NoaWxkcmVuW2ldO3QuY2FsbChlLHIpLFwiZ3JvdXBcIj09PXIudHlwZSYmci50cmF2ZXJzZSh0LGUpfXJldHVybiB0aGlzfSxhZGRDaGlsZHJlblRvU3RvcmFnZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMuX2NoaWxkcmVuLmxlbmd0aDtlKyspe3ZhciBpPXRoaXMuX2NoaWxkcmVuW2VdO3QuYWRkVG9TdG9yYWdlKGkpLGkgaW5zdGFuY2VvZiBlaSYmaS5hZGRDaGlsZHJlblRvU3RvcmFnZSh0KX19LGRlbENoaWxkcmVuRnJvbVN0b3JhZ2U6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLl9jaGlsZHJlbi5sZW5ndGg7ZSsrKXt2YXIgaT10aGlzLl9jaGlsZHJlbltlXTt0LmRlbEZyb21TdG9yYWdlKGkpLGkgaW5zdGFuY2VvZiBlaSYmaS5kZWxDaGlsZHJlbkZyb21TdG9yYWdlKHQpfX0sZGlydHk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX2RpcnR5PSEwLHRoaXMuX196ciYmdGhpcy5fX3pyLnJlZnJlc2goKSx0aGlzfSxnZXRCb3VuZGluZ1JlY3Q6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW51bGwsaT1uZXcgdGkoMCwwLDAsMCkscj10fHx0aGlzLl9jaGlsZHJlbixuPVtdLGE9MDthPHIubGVuZ3RoO2ErKyl7dmFyIG89clthXTtpZighby5pZ25vcmUmJiFvLmludmlzaWJsZSl7dmFyIHM9by5nZXRCb3VuZGluZ1JlY3QoKSxoPW8uZ2V0TG9jYWxUcmFuc2Zvcm0obik7aD8oaS5jb3B5KHMpLGkuYXBwbHlUcmFuc2Zvcm0oaCksKGU9ZXx8aS5jbG9uZSgpKS51bmlvbihpKSk6KGU9ZXx8cy5jbG9uZSgpKS51bmlvbihzKX19cmV0dXJuIGV8fGl9fSxiKGVpLFllKTt2YXIgaWk9MzIscmk9NztmdW5jdGlvbiBuaSh0LGUsaSxyKXt2YXIgbj1lKzE7aWYobj09PWkpcmV0dXJuIDE7aWYocih0W24rK10sdFtlXSk8MCl7Zm9yKDtuPGkmJnIodFtuXSx0W24tMV0pPDA7KW4rKzshZnVuY3Rpb24odCxlLGkpe2ktLTtmb3IoO2U8aTspe3ZhciByPXRbZV07dFtlKytdPXRbaV0sdFtpLS1dPXJ9fSh0LGUsbil9ZWxzZSBmb3IoO248aSYmMDw9cih0W25dLHRbbi0xXSk7KW4rKztyZXR1cm4gbi1lfWZ1bmN0aW9uIGFpKHQsZSxpLHIsbil7Zm9yKHI9PT1lJiZyKys7cjxpO3IrKyl7Zm9yKHZhciBhLG89dFtyXSxzPWUsaD1yO3M8aDspbihvLHRbYT1zK2g+Pj4xXSk8MD9oPWE6cz0xK2E7dmFyIGw9ci1zO3N3aXRjaChsKXtjYXNlIDM6dFtzKzNdPXRbcysyXTtjYXNlIDI6dFtzKzJdPXRbcysxXTtjYXNlIDE6dFtzKzFdPXRbc107YnJlYWs7ZGVmYXVsdDpmb3IoOzA8bDspdFtzK2xdPXRbcytsLTFdLGwtLX10W3NdPW99fWZ1bmN0aW9uIG9pKHQsZSxpLHIsbixhKXt2YXIgbz0wLHM9MCxoPTE7aWYoMDxhKHQsZVtpK25dKSl7Zm9yKHM9ci1uO2g8cyYmMDxhKHQsZVtpK24raF0pOykoaD0xKygobz1oKTw8MSkpPD0wJiYoaD1zKTtzPGgmJihoPXMpLG8rPW4saCs9bn1lbHNle2ZvcihzPW4rMTtoPHMmJmEodCxlW2krbi1oXSk8PTA7KShoPTErKChvPWgpPDwxKSk8PTAmJihoPXMpO3M8aCYmKGg9cyk7dmFyIGw9bztvPW4taCxoPW4tbH1mb3IobysrO288aDspe3ZhciB1PW8rKGgtbz4+PjEpOzA8YSh0LGVbaSt1XSk/bz11KzE6aD11fXJldHVybiBofWZ1bmN0aW9uIHNpKHQsZSxpLHIsbixhKXt2YXIgbz0wLHM9MCxoPTE7aWYoYSh0LGVbaStuXSk8MCl7Zm9yKHM9bisxO2g8cyYmYSh0LGVbaStuLWhdKTwwOykoaD0xKygobz1oKTw8MSkpPD0wJiYoaD1zKTtzPGgmJihoPXMpO3ZhciBsPW87bz1uLWgsaD1uLWx9ZWxzZXtmb3Iocz1yLW47aDxzJiYwPD1hKHQsZVtpK24raF0pOykoaD0xKygobz1oKTw8MSkpPD0wJiYoaD1zKTtzPGgmJihoPXMpLG8rPW4saCs9bn1mb3IobysrO288aDspe3ZhciB1PW8rKGgtbz4+PjEpO2EodCxlW2krdV0pPDA/aD11Om89dSsxfXJldHVybiBofWZ1bmN0aW9uIGhpKHAsdil7dmFyIG8scyxnPXJpLGg9MCxfPVtdO2Z1bmN0aW9uIGUodCl7dmFyIGU9b1t0XSxpPXNbdF0scj1vW3QrMV0sbj1zW3QrMV07c1t0XT1pK24sdD09PWgtMyYmKG9bdCsxXT1vW3QrMl0sc1t0KzFdPXNbdCsyXSksaC0tO3ZhciBhPXNpKHBbcl0scCxlLGksMCx2KTtlKz1hLDAhPT0oaS09YSkmJjAhPT0obj1vaShwW2UraS0xXSxwLHIsbixuLTEsdikpJiYoaTw9bj9mdW5jdGlvbih0LGUsaSxyKXt2YXIgbj0wO2ZvcihuPTA7bjxlO24rKylfW25dPXBbdCtuXTt2YXIgYT0wLG89aSxzPXQ7aWYocFtzKytdPXBbbysrXSwwPT0tLXIpe2ZvcihuPTA7bjxlO24rKylwW3Mrbl09X1thK25dO3JldHVybn1pZigxPT09ZSl7Zm9yKG49MDtuPHI7bisrKXBbcytuXT1wW28rbl07cmV0dXJuIHBbcytyXT1fW2FdfXZhciBoLGwsdSxjPWc7Zm9yKDs7KXtsPWg9MCx1PSExO2Rve2lmKHYocFtvXSxfW2FdKTwwKXtpZihwW3MrK109cFtvKytdLGwrKywoaD0wKT09LS1yKXt1PSEwO2JyZWFrfX1lbHNlIGlmKHBbcysrXT1fW2ErK10saCsrLGw9MCwxPT0tLWUpe3U9ITA7YnJlYWt9fXdoaWxlKChofGwpPGMpO2lmKHUpYnJlYWs7ZG97aWYoMCE9PShoPXNpKHBbb10sXyxhLGUsMCx2KSkpe2ZvcihuPTA7bjxoO24rKylwW3Mrbl09X1thK25dO2lmKHMrPWgsYSs9aCwoZS09aCk8PTEpe3U9ITA7YnJlYWt9fWlmKHBbcysrXT1wW28rK10sMD09LS1yKXt1PSEwO2JyZWFrfWlmKDAhPT0obD1vaShfW2FdLHAsbyxyLDAsdikpKXtmb3Iobj0wO248bDtuKyspcFtzK25dPXBbbytuXTtpZihzKz1sLG8rPWwsMD09PShyLT1sKSl7dT0hMDticmVha319aWYocFtzKytdPV9bYSsrXSwxPT0tLWUpe3U9ITA7YnJlYWt9Yy0tfXdoaWxlKHJpPD1ofHxyaTw9bCk7aWYodSlicmVhaztjPDAmJihjPTApLGMrPTJ9aWYoKGc9Yyk8MSYmKGc9MSksMT09PWUpe2ZvcihuPTA7bjxyO24rKylwW3Mrbl09cFtvK25dO3BbcytyXT1fW2FdfWVsc2V7aWYoMD09PWUpdGhyb3cgbmV3IEVycm9yO2ZvcihuPTA7bjxlO24rKylwW3Mrbl09X1thK25dfX0oZSxpLHIsbik6ZnVuY3Rpb24odCxlLGkscil7dmFyIG49MDtmb3Iobj0wO248cjtuKyspX1tuXT1wW2krbl07dmFyIGE9dCtlLTEsbz1yLTEscz1pK3ItMSxoPTAsbD0wO2lmKHBbcy0tXT1wW2EtLV0sMD09LS1lKXtmb3IoaD1zLShyLTEpLG49MDtuPHI7bisrKXBbaCtuXT1fW25dO3JldHVybn1pZigxPT09cil7Zm9yKGw9KHMtPWUpKzEsaD0oYS09ZSkrMSxuPWUtMTswPD1uO24tLSlwW2wrbl09cFtoK25dO3JldHVybiBwW3NdPV9bb119dmFyIHU9Zztmb3IoOzspe3ZhciBjPTAsZj0wLGQ9ITE7ZG97aWYodihfW29dLHBbYV0pPDApe2lmKHBbcy0tXT1wW2EtLV0sYysrLChmPTApPT0tLWUpe2Q9ITA7YnJlYWt9fWVsc2UgaWYocFtzLS1dPV9bby0tXSxmKyssYz0wLDE9PS0tcil7ZD0hMDticmVha319d2hpbGUoKGN8Zik8dSk7aWYoZClicmVhaztkb3tpZigwIT09KGM9ZS1zaShfW29dLHAsdCxlLGUtMSx2KSkpe2ZvcihlLT1jLGw9KHMtPWMpKzEsaD0oYS09YykrMSxuPWMtMTswPD1uO24tLSlwW2wrbl09cFtoK25dO2lmKDA9PT1lKXtkPSEwO2JyZWFrfX1pZihwW3MtLV09X1tvLS1dLDE9PS0tcil7ZD0hMDticmVha31pZigwIT09KGY9ci1vaShwW2FdLF8sMCxyLHItMSx2KSkpe2ZvcihyLT1mLGw9KHMtPWYpKzEsaD0oby09ZikrMSxuPTA7bjxmO24rKylwW2wrbl09X1toK25dO2lmKHI8PTEpe2Q9ITA7YnJlYWt9fWlmKHBbcy0tXT1wW2EtLV0sMD09LS1lKXtkPSEwO2JyZWFrfXUtLX13aGlsZShyaTw9Y3x8cmk8PWYpO2lmKGQpYnJlYWs7dTwwJiYodT0wKSx1Kz0yfShnPXUpPDEmJihnPTEpO2lmKDE9PT1yKXtmb3IobD0ocy09ZSkrMSxoPShhLT1lKSsxLG49ZS0xOzA8PW47bi0tKXBbbCtuXT1wW2grbl07cFtzXT1fW29dfWVsc2V7aWYoMD09PXIpdGhyb3cgbmV3IEVycm9yO2ZvcihoPXMtKHItMSksbj0wO248cjtuKyspcFtoK25dPV9bbl19fShlLGkscixuKSl9bz1bXSxzPVtdLHRoaXMubWVyZ2VSdW5zPWZ1bmN0aW9uKCl7Zm9yKDsxPGg7KXt2YXIgdD1oLTI7aWYoMTw9dCYmc1t0LTFdPD1zW3RdK3NbdCsxXXx8Mjw9dCYmc1t0LTJdPD1zW3RdK3NbdC0xXSlzW3QtMV08c1t0KzFdJiZ0LS07ZWxzZSBpZihzW3RdPnNbdCsxXSlicmVhaztlKHQpfX0sdGhpcy5mb3JjZU1lcmdlUnVucz1mdW5jdGlvbigpe2Zvcig7MTxoOyl7dmFyIHQ9aC0yOzA8dCYmc1t0LTFdPHNbdCsxXSYmdC0tLGUodCl9fSx0aGlzLnB1c2hSdW49ZnVuY3Rpb24odCxlKXtvW2hdPXQsc1toXT1lLGgrPTF9fWZ1bmN0aW9uIGxpKHQsZSxpLHIpe2k9aXx8MDt2YXIgbj0ocj1yfHx0Lmxlbmd0aCktaTtpZighKG48Mikpe3ZhciBhPTA7aWYobjxpaSlhaSh0LGkscixpKyhhPW5pKHQsaSxyLGUpKSxlKTtlbHNle3ZhciBvPW5ldyBoaSh0LGUpLHM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7aWk8PXQ7KWV8PTEmdCx0Pj49MTtyZXR1cm4gdCtlfShuKTtkb3tpZigoYT1uaSh0LGkscixlKSk8cyl7dmFyIGg9bjtzPGgmJihoPXMpLGFpKHQsaSxpK2gsaSthLGUpLGE9aH1vLnB1c2hSdW4oaSxhKSxvLm1lcmdlUnVucygpLG4tPWEsaSs9YX13aGlsZSgwIT09bik7by5mb3JjZU1lcmdlUnVucygpfX19ZnVuY3Rpb24gdWkodCxlKXtyZXR1cm4gdC56bGV2ZWw9PT1lLnpsZXZlbD90Lno9PT1lLno/dC56Mi1lLnoyOnQuei1lLno6dC56bGV2ZWwtZS56bGV2ZWx9ZnVuY3Rpb24gY2koKXt0aGlzLl9yb290cz1bXSx0aGlzLl9kaXNwbGF5TGlzdD1bXSx0aGlzLl9kaXNwbGF5TGlzdExlbj0wfWNpLnByb3RvdHlwZT17Y29uc3RydWN0b3I6Y2ksdHJhdmVyc2U6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9MDtpPHRoaXMuX3Jvb3RzLmxlbmd0aDtpKyspdGhpcy5fcm9vdHNbaV0udHJhdmVyc2UodCxlKX0sZ2V0RGlzcGxheUxpc3Q6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT1lfHwhMSx0JiZ0aGlzLnVwZGF0ZURpc3BsYXlMaXN0KGUpLHRoaXMuX2Rpc3BsYXlMaXN0fSx1cGRhdGVEaXNwbGF5TGlzdDpmdW5jdGlvbih0KXt0aGlzLl9kaXNwbGF5TGlzdExlbj0wO2Zvcih2YXIgZT10aGlzLl9yb290cyxpPXRoaXMuX2Rpc3BsYXlMaXN0LHI9MCxuPWUubGVuZ3RoO3I8bjtyKyspdGhpcy5fdXBkYXRlQW5kQWRkRGlzcGxheWFibGUoZVtyXSxudWxsLHQpO2kubGVuZ3RoPXRoaXMuX2Rpc3BsYXlMaXN0TGVuLF8uY2FudmFzU3VwcG9ydGVkJiZsaShpLHVpKX0sX3VwZGF0ZUFuZEFkZERpc3BsYXlhYmxlOmZ1bmN0aW9uKHQsZSxpKXtpZighdC5pZ25vcmV8fGkpe3QuYmVmb3JlVXBkYXRlKCksdC5fX2RpcnR5JiZ0LnVwZGF0ZSgpLHQuYWZ0ZXJVcGRhdGUoKTt2YXIgcj10LmNsaXBQYXRoO2lmKHIpe2U9ZT9lLnNsaWNlKCk6W107Zm9yKHZhciBuPXIsYT10O247KW4ucGFyZW50PWEsbi51cGRhdGVUcmFuc2Zvcm0oKSxlLnB1c2gobiksbj0oYT1uKS5jbGlwUGF0aH1pZih0LmlzR3JvdXApe2Zvcih2YXIgbz10Ll9jaGlsZHJlbixzPTA7czxvLmxlbmd0aDtzKyspe3ZhciBoPW9bc107dC5fX2RpcnR5JiYoaC5fX2RpcnR5PSEwKSx0aGlzLl91cGRhdGVBbmRBZGREaXNwbGF5YWJsZShoLGUsaSl9dC5fX2RpcnR5PSExfWVsc2UgdC5fX2NsaXBQYXRocz1lLHRoaXMuX2Rpc3BsYXlMaXN0W3RoaXMuX2Rpc3BsYXlMaXN0TGVuKytdPXR9fSxhZGRSb290OmZ1bmN0aW9uKHQpe3QuX19zdG9yYWdlIT09dGhpcyYmKHQgaW5zdGFuY2VvZiBlaSYmdC5hZGRDaGlsZHJlblRvU3RvcmFnZSh0aGlzKSx0aGlzLmFkZFRvU3RvcmFnZSh0KSx0aGlzLl9yb290cy5wdXNoKHQpKX0sZGVsUm9vdDpmdW5jdGlvbih0KXtpZihudWxsPT10KXtmb3IodmFyIGU9MDtlPHRoaXMuX3Jvb3RzLmxlbmd0aDtlKyspe3ZhciBpPXRoaXMuX3Jvb3RzW2VdO2kgaW5zdGFuY2VvZiBlaSYmaS5kZWxDaGlsZHJlbkZyb21TdG9yYWdlKHRoaXMpfXJldHVybiB0aGlzLl9yb290cz1bXSx0aGlzLl9kaXNwbGF5TGlzdD1bXSx2b2lkKHRoaXMuX2Rpc3BsYXlMaXN0TGVuPTApfWlmKHQgaW5zdGFuY2VvZiBBcnJheSl7ZT0wO2Zvcih2YXIgcj10Lmxlbmd0aDtlPHI7ZSsrKXRoaXMuZGVsUm9vdCh0W2VdKX1lbHNle3ZhciBuPXcodGhpcy5fcm9vdHMsdCk7MDw9biYmKHRoaXMuZGVsRnJvbVN0b3JhZ2UodCksdGhpcy5fcm9vdHMuc3BsaWNlKG4sMSksdCBpbnN0YW5jZW9mIGVpJiZ0LmRlbENoaWxkcmVuRnJvbVN0b3JhZ2UodGhpcykpfX0sYWRkVG9TdG9yYWdlOmZ1bmN0aW9uKHQpe3JldHVybiB0JiYodC5fX3N0b3JhZ2U9dGhpcyx0LmRpcnR5KCExKSksdGhpc30sZGVsRnJvbVN0b3JhZ2U6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJih0Ll9fc3RvcmFnZT1udWxsKSx0aGlzfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5fcmVuZGVyTGlzdD10aGlzLl9yb290cz1udWxsfSxkaXNwbGF5YWJsZVNvcnRGdW5jOnVpfTt2YXIgZmk9e3NoYWRvd0JsdXI6MSxzaGFkb3dPZmZzZXRYOjEsc2hhZG93T2Zmc2V0WToxLHRleHRTaGFkb3dCbHVyOjEsdGV4dFNoYWRvd09mZnNldFg6MSx0ZXh0U2hhZG93T2Zmc2V0WToxLHRleHRCb3hTaGFkb3dCbHVyOjEsdGV4dEJveFNoYWRvd09mZnNldFg6MSx0ZXh0Qm94U2hhZG93T2Zmc2V0WToxfSxkaT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIGZpLmhhc093blByb3BlcnR5KGUpP2kqdC5kcHI6aX0scGk9e05PTkU6MCxTVFlMRV9CSU5EOjEsUExBSU5fVEVYVDoyfSx2aT05LGdpPVtbXCJzaGFkb3dCbHVyXCIsMF0sW1wic2hhZG93T2Zmc2V0WFwiLDBdLFtcInNoYWRvd09mZnNldFlcIiwwXSxbXCJzaGFkb3dDb2xvclwiLFwiIzAwMFwiXSxbXCJsaW5lQ2FwXCIsXCJidXR0XCJdLFtcImxpbmVKb2luXCIsXCJtaXRlclwiXSxbXCJtaXRlckxpbWl0XCIsMTBdXSxfaT1mdW5jdGlvbih0KXt0aGlzLmV4dGVuZEZyb20odCwhMSl9O2Z1bmN0aW9uIG1pKHQsZSxpKXt2YXIgcj1udWxsPT1lLng/MDplLngsbj1udWxsPT1lLngyPzE6ZS54MixhPW51bGw9PWUueT8wOmUueSxvPW51bGw9PWUueTI/MDplLnkyO3JldHVybiBlLmdsb2JhbHx8KHI9cippLndpZHRoK2kueCxuPW4qaS53aWR0aCtpLngsYT1hKmkuaGVpZ2h0K2kueSxvPW8qaS5oZWlnaHQraS55KSxyPWlzTmFOKHIpPzA6cixuPWlzTmFOKG4pPzE6bixhPWlzTmFOKGEpPzA6YSxvPWlzTmFOKG8pPzA6byx0LmNyZWF0ZUxpbmVhckdyYWRpZW50KHIsYSxuLG8pfWZ1bmN0aW9uIHlpKHQsZSxpKXt2YXIgcj1pLndpZHRoLG49aS5oZWlnaHQsYT1NYXRoLm1pbihyLG4pLG89bnVsbD09ZS54Py41OmUueCxzPW51bGw9PWUueT8uNTplLnksaD1udWxsPT1lLnI/LjU6ZS5yO3JldHVybiBlLmdsb2JhbHx8KG89bypyK2kueCxzPXMqbitpLnksaCo9YSksdC5jcmVhdGVSYWRpYWxHcmFkaWVudChvLHMsMCxvLHMsaCl9X2kucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpfaSxmaWxsOlwiIzAwMFwiLHN0cm9rZTpudWxsLG9wYWNpdHk6MSxmaWxsT3BhY2l0eTpudWxsLHN0cm9rZU9wYWNpdHk6bnVsbCxsaW5lRGFzaDpudWxsLGxpbmVEYXNoT2Zmc2V0OjAsc2hhZG93Qmx1cjowLHNoYWRvd09mZnNldFg6MCxzaGFkb3dPZmZzZXRZOjAsbGluZVdpZHRoOjEsc3Ryb2tlTm9TY2FsZTohMSx0ZXh0Om51bGwsZm9udDpudWxsLHRleHRGb250Om51bGwsZm9udFN0eWxlOm51bGwsZm9udFdlaWdodDpudWxsLGZvbnRTaXplOm51bGwsZm9udEZhbWlseTpudWxsLHRleHRUYWc6bnVsbCx0ZXh0RmlsbDpcIiMwMDBcIix0ZXh0U3Ryb2tlOm51bGwsdGV4dFdpZHRoOm51bGwsdGV4dEhlaWdodDpudWxsLHRleHRTdHJva2VXaWR0aDowLHRleHRMaW5lSGVpZ2h0Om51bGwsdGV4dFBvc2l0aW9uOlwiaW5zaWRlXCIsdGV4dFJlY3Q6bnVsbCx0ZXh0T2Zmc2V0Om51bGwsdGV4dEFsaWduOm51bGwsdGV4dFZlcnRpY2FsQWxpZ246bnVsbCx0ZXh0RGlzdGFuY2U6NSx0ZXh0U2hhZG93Q29sb3I6XCJ0cmFuc3BhcmVudFwiLHRleHRTaGFkb3dCbHVyOjAsdGV4dFNoYWRvd09mZnNldFg6MCx0ZXh0U2hhZG93T2Zmc2V0WTowLHRleHRCb3hTaGFkb3dDb2xvcjpcInRyYW5zcGFyZW50XCIsdGV4dEJveFNoYWRvd0JsdXI6MCx0ZXh0Qm94U2hhZG93T2Zmc2V0WDowLHRleHRCb3hTaGFkb3dPZmZzZXRZOjAsdHJhbnNmb3JtVGV4dDohMSx0ZXh0Um90YXRpb246MCx0ZXh0T3JpZ2luOm51bGwsdGV4dEJhY2tncm91bmRDb2xvcjpudWxsLHRleHRCb3JkZXJDb2xvcjpudWxsLHRleHRCb3JkZXJXaWR0aDowLHRleHRCb3JkZXJSYWRpdXM6MCx0ZXh0UGFkZGluZzpudWxsLHJpY2g6bnVsbCx0cnVuY2F0ZTpudWxsLGJsZW5kOm51bGwsYmluZDpmdW5jdGlvbih0LGUsaSl7dmFyIHI9dGhpcyxuPWkmJmkuc3R5bGUsYT0hbnx8dC5fX2F0dHJDYWNoZWRCeSE9PXBpLlNUWUxFX0JJTkQ7dC5fX2F0dHJDYWNoZWRCeT1waS5TVFlMRV9CSU5EO2Zvcih2YXIgbz0wO288Z2kubGVuZ3RoO28rKyl7dmFyIHM9Z2lbb10saD1zWzBdOyFhJiZyW2hdPT09bltoXXx8KHRbaF09ZGkodCxoLHJbaF18fHNbMV0pKX1pZighYSYmci5maWxsPT09bi5maWxsfHwodC5maWxsU3R5bGU9ci5maWxsKSwhYSYmci5zdHJva2U9PT1uLnN0cm9rZXx8KHQuc3Ryb2tlU3R5bGU9ci5zdHJva2UpLCFhJiZyLm9wYWNpdHk9PT1uLm9wYWNpdHl8fCh0Lmdsb2JhbEFscGhhPW51bGw9PXIub3BhY2l0eT8xOnIub3BhY2l0eSksIWEmJnIuYmxlbmQ9PT1uLmJsZW5kfHwodC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249ci5ibGVuZHx8XCJzb3VyY2Utb3ZlclwiKSx0aGlzLmhhc1N0cm9rZSgpKXt2YXIgbD1yLmxpbmVXaWR0aDt0LmxpbmVXaWR0aD1sLyh0aGlzLnN0cm9rZU5vU2NhbGUmJmUmJmUuZ2V0TGluZVNjYWxlP2UuZ2V0TGluZVNjYWxlKCk6MSl9fSxoYXNGaWxsOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5maWxsO3JldHVybiBudWxsIT10JiZcIm5vbmVcIiE9PXR9LGhhc1N0cm9rZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuc3Ryb2tlO3JldHVybiBudWxsIT10JiZcIm5vbmVcIiE9PXQmJjA8dGhpcy5saW5lV2lkdGh9LGV4dGVuZEZyb206ZnVuY3Rpb24odCxlKXtpZih0KWZvcih2YXIgaSBpbiB0KSF0Lmhhc093blByb3BlcnR5KGkpfHwhMCE9PWUmJighMT09PWU/dGhpcy5oYXNPd25Qcm9wZXJ0eShpKTpudWxsPT10W2ldKXx8KHRoaXNbaV09dFtpXSl9LHNldDpmdW5jdGlvbih0LGUpe1wic3RyaW5nXCI9PXR5cGVvZiB0P3RoaXNbdF09ZTp0aGlzLmV4dGVuZEZyb20odCwhMCl9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IHRoaXMuY29uc3RydWN0b3I7cmV0dXJuIHQuZXh0ZW5kRnJvbSh0aGlzLCEwKSx0fSxnZXRHcmFkaWVudDpmdW5jdGlvbih0LGUsaSl7Zm9yKHZhciByPShcInJhZGlhbFwiPT09ZS50eXBlP3lpOm1pKSh0LGUsaSksbj1lLmNvbG9yU3RvcHMsYT0wO2E8bi5sZW5ndGg7YSsrKXIuYWRkQ29sb3JTdG9wKG5bYV0ub2Zmc2V0LG5bYV0uY29sb3IpO3JldHVybiByfX07Zm9yKHZhciB4aT1faS5wcm90b3R5cGUsd2k9MDt3aTxnaS5sZW5ndGg7d2krKyl7dmFyIGJpPWdpW3dpXTtiaVswXWluIHhpfHwoeGlbYmlbMF1dPWJpWzFdKX1faS5nZXRHcmFkaWVudD14aS5nZXRHcmFkaWVudDtmdW5jdGlvbiBraSh0LGUpe3RoaXMuaW1hZ2U9dCx0aGlzLnJlcGVhdD1lLHRoaXMudHlwZT1cInBhdHRlcm5cIn1mdW5jdGlvbiBUaSgpe3JldHVybiExfWZ1bmN0aW9uIFNpKHQsZSxpKXt2YXIgcj1tKCksbj1lLmdldFdpZHRoKCksYT1lLmdldEhlaWdodCgpLG89ci5zdHlsZTtyZXR1cm4gbyYmKG8ucG9zaXRpb249XCJhYnNvbHV0ZVwiLG8ubGVmdD0wLG8udG9wPTAsby53aWR0aD1uK1wicHhcIixvLmhlaWdodD1hK1wicHhcIixyLnNldEF0dHJpYnV0ZShcImRhdGEtenItZG9tLWlkXCIsdCkpLHIud2lkdGg9bippLHIuaGVpZ2h0PWEqaSxyfWZ1bmN0aW9uIENpKHQsZSxpKXt2YXIgcjtpPWl8fE5lLFwic3RyaW5nXCI9PXR5cGVvZiB0P3I9U2kodCxlLGkpOkwodCkmJih0PShyPXQpLmlkKSx0aGlzLmlkPXQ7dmFyIG49KHRoaXMuZG9tPXIpLnN0eWxlO24mJihyLm9uc2VsZWN0c3RhcnQ9VGksbltcIi13ZWJraXQtdXNlci1zZWxlY3RcIl09XCJub25lXCIsbltcInVzZXItc2VsZWN0XCJdPVwibm9uZVwiLG5bXCItd2Via2l0LXRvdWNoLWNhbGxvdXRcIl09XCJub25lXCIsbltcIi13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvclwiXT1cInJnYmEoMCwwLDAsMClcIixuLnBhZGRpbmc9MCxuLm1hcmdpbj0wLG5bXCJib3JkZXItd2lkdGhcIl09MCksdGhpcy5kb21CYWNrPW51bGwsdGhpcy5jdHhCYWNrPW51bGwsdGhpcy5wYWludGVyPWUsdGhpcy5jb25maWc9bnVsbCx0aGlzLmNsZWFyQ29sb3I9MCx0aGlzLm1vdGlvbkJsdXI9ITEsdGhpcy5sYXN0RnJhbWVBbHBoYT0uNyx0aGlzLmRwcj1pfUNpLnByb3RvdHlwZT17Y29uc3RydWN0b3I6Q2ksX19kaXJ0eTohMCxfX3VzZWQ6IShraS5wcm90b3R5cGUuZ2V0Q2FudmFzUGF0dGVybj1mdW5jdGlvbih0KXtyZXR1cm4gdC5jcmVhdGVQYXR0ZXJuKHRoaXMuaW1hZ2UsdGhpcy5yZXBlYXR8fFwicmVwZWF0XCIpfSksX19kcmF3SW5kZXg6MCxfX3N0YXJ0SW5kZXg6MCxfX2VuZEluZGV4OjAsaW5jcmVtZW50YWw6ITEsZ2V0RWxlbWVudENvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19lbmRJbmRleC10aGlzLl9fc3RhcnRJbmRleH0saW5pdENvbnRleHQ6ZnVuY3Rpb24oKXt0aGlzLmN0eD10aGlzLmRvbS5nZXRDb250ZXh0KFwiMmRcIiksdGhpcy5jdHguZHByPXRoaXMuZHByfSxjcmVhdGVCYWNrQnVmZmVyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5kcHI7dGhpcy5kb21CYWNrPVNpKFwiYmFjay1cIit0aGlzLmlkLHRoaXMucGFpbnRlcix0KSx0aGlzLmN0eEJhY2s9dGhpcy5kb21CYWNrLmdldENvbnRleHQoXCIyZFwiKSwxIT09dCYmdGhpcy5jdHhCYWNrLnNjYWxlKHQsdCl9LHJlc2l6ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZHByLHI9dGhpcy5kb20sbj1yLnN0eWxlLGE9dGhpcy5kb21CYWNrO24mJihuLndpZHRoPXQrXCJweFwiLG4uaGVpZ2h0PWUrXCJweFwiKSxyLndpZHRoPXQqaSxyLmhlaWdodD1lKmksYSYmKGEud2lkdGg9dCppLGEuaGVpZ2h0PWUqaSwxIT09aSYmdGhpcy5jdHhCYWNrLnNjYWxlKGksaSkpfSxjbGVhcjpmdW5jdGlvbih0LGUpe3ZhciBpLHI9dGhpcy5kb20sbj10aGlzLmN0eCxhPXIud2lkdGgsbz1yLmhlaWdodCxzPShlPWV8fHRoaXMuY2xlYXJDb2xvcix0aGlzLm1vdGlvbkJsdXImJiF0KSxoPXRoaXMubGFzdEZyYW1lQWxwaGEsbD10aGlzLmRwcjtzJiYodGhpcy5kb21CYWNrfHx0aGlzLmNyZWF0ZUJhY2tCdWZmZXIoKSx0aGlzLmN0eEJhY2suZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPVwiY29weVwiLHRoaXMuY3R4QmFjay5kcmF3SW1hZ2UociwwLDAsYS9sLG8vbCkpLG4uY2xlYXJSZWN0KDAsMCxhLG8pLGUmJlwidHJhbnNwYXJlbnRcIiE9PWUmJihlLmNvbG9yU3RvcHM/KGk9ZS5fX2NhbnZhc0dyYWRpZW50fHxfaS5nZXRHcmFkaWVudChuLGUse3g6MCx5OjAsd2lkdGg6YSxoZWlnaHQ6b30pLGUuX19jYW52YXNHcmFkaWVudD1pKTplLmltYWdlJiYoaT1raS5wcm90b3R5cGUuZ2V0Q2FudmFzUGF0dGVybi5jYWxsKGUsbikpLG4uc2F2ZSgpLG4uZmlsbFN0eWxlPWl8fGUsbi5maWxsUmVjdCgwLDAsYSxvKSxuLnJlc3RvcmUoKSk7aWYocyl7dmFyIHU9dGhpcy5kb21CYWNrO24uc2F2ZSgpLG4uZ2xvYmFsQWxwaGE9aCxuLmRyYXdJbWFnZSh1LDAsMCxhLG8pLG4ucmVzdG9yZSgpfX19O3ZhciBNaT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiYod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSYmd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZS5iaW5kKHdpbmRvdyl8fHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZSYmd2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lLmJpbmQod2luZG93KXx8d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSl8fGZ1bmN0aW9uKHQpe3NldFRpbWVvdXQodCwxNil9LFBpPW5ldyBlZSg1MCk7ZnVuY3Rpb24gQWkodCl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpcmV0dXJuIHQ7dmFyIGU9UGkuZ2V0KHQpO3JldHVybiBlJiZlLmltYWdlfWZ1bmN0aW9uIExpKHQsZSxpLHIsbil7aWYodCl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpcmV0dXJuIHQ7aWYoZSYmZS5fX3pySW1hZ2VTcmM9PT10fHwhaSlyZXR1cm4gZTt2YXIgYT1QaS5nZXQodCksbz17aG9zdEVsOmksY2I6cixjYlBheWxvYWQ6bn07cmV0dXJuIGE/RGkoZT1hLmltYWdlKXx8YS5wZW5kaW5nLnB1c2gobyk6KChlPW5ldyBJbWFnZSkub25sb2FkPWUub25lcnJvcj16aSxQaS5wdXQodCxlLl9fY2FjaGVkSW1nT2JqPXtpbWFnZTplLHBlbmRpbmc6W29dfSksZS5zcmM9ZS5fX3pySW1hZ2VTcmM9dCksZX1yZXR1cm4gZX1mdW5jdGlvbiB6aSgpe3ZhciB0PXRoaXMuX19jYWNoZWRJbWdPYmo7dGhpcy5vbmxvYWQ9dGhpcy5vbmVycm9yPXRoaXMuX19jYWNoZWRJbWdPYmo9bnVsbDtmb3IodmFyIGU9MDtlPHQucGVuZGluZy5sZW5ndGg7ZSsrKXt2YXIgaT10LnBlbmRpbmdbZV0scj1pLmNiO3ImJnIodGhpcyxpLmNiUGF5bG9hZCksaS5ob3N0RWwuZGlydHkoKX10LnBlbmRpbmcubGVuZ3RoPTB9ZnVuY3Rpb24gRGkodCl7cmV0dXJuIHQmJnQud2lkdGgmJnQuaGVpZ2h0fXZhciBCaT17fSxJaT0wLE9pPTVlMyxFaT0vXFx7KFthLXpBLVowLTlfXSspXFx8KFtefV0qKVxcfS9nLFJpPVwiMTJweCBzYW5zLXNlcmlmXCIsRmk9e307ZnVuY3Rpb24gSGkodCxlKXt2YXIgaT10K1wiOlwiKyhlPWV8fFJpKTtpZihCaVtpXSlyZXR1cm4gQmlbaV07Zm9yKHZhciByLG4sYT0odCtcIlwiKS5zcGxpdChcIlxcblwiKSxvPTAscz0wLGg9YS5sZW5ndGg7czxoO3MrKylvPU1hdGgubWF4KChyPWFbc10sbj1lLEZpLm1lYXN1cmVUZXh0KHIsbikpLndpZHRoLG8pO3JldHVybiBPaTxJaSYmKElpPTAsQmk9e30pLElpKyssQmlbaV09b31mdW5jdGlvbiBOaSh0LGUsaSxyLG4sYSxvLHMpe3JldHVybiBvP2Z1bmN0aW9uKHQsZSxpLHIsbixhLG8scyl7dmFyIGg9UWkodCx7cmljaDpvLHRydW5jYXRlOnMsZm9udDplLHRleHRBbGlnbjppLHRleHRQYWRkaW5nOm4sdGV4dExpbmVIZWlnaHQ6YX0pLGw9aC5vdXRlcldpZHRoLHU9aC5vdXRlckhlaWdodCxjPVdpKDAsbCxpKSxmPVZpKDAsdSxyKTtyZXR1cm4gbmV3IHRpKGMsZixsLHUpfSh0LGUsaSxyLG4sYSxvLHMpOmZ1bmN0aW9uKHQsZSxpLHIsbixhLG8pe3ZhciBzPVppKHQsZSxuLGEsbyksaD1IaSh0LGUpO24mJihoKz1uWzFdK25bM10pO3ZhciBsPXMub3V0ZXJIZWlnaHQsdT1XaSgwLGgsaSksYz1WaSgwLGwsciksZj1uZXcgdGkodSxjLGgsbCk7cmV0dXJuIGYubGluZUhlaWdodD1zLmxpbmVIZWlnaHQsZn0odCxlLGkscixuLGEscyl9ZnVuY3Rpb24gV2kodCxlLGkpe3JldHVyblwicmlnaHRcIj09PWk/dC09ZTpcImNlbnRlclwiPT09aSYmKHQtPWUvMiksdH1mdW5jdGlvbiBWaSh0LGUsaSl7cmV0dXJuXCJtaWRkbGVcIj09PWk/dC09ZS8yOlwiYm90dG9tXCI9PT1pJiYodC09ZSksdH1mdW5jdGlvbiBYaSh0LGUsaSl7dmFyIHI9ZS50ZXh0UG9zaXRpb24sbj1lLnRleHREaXN0YW5jZSxhPWkueCxvPWkueTtuPW58fDA7dmFyIHM9aS5oZWlnaHQsaD1pLndpZHRoLGw9cy8yLHU9XCJsZWZ0XCIsYz1cInRvcFwiO3N3aXRjaChyKXtjYXNlXCJsZWZ0XCI6YS09bixvKz1sLHU9XCJyaWdodFwiLGM9XCJtaWRkbGVcIjticmVhaztjYXNlXCJyaWdodFwiOmErPW4raCxvKz1sLGM9XCJtaWRkbGVcIjticmVhaztjYXNlXCJ0b3BcIjphKz1oLzIsby09bix1PVwiY2VudGVyXCIsYz1cImJvdHRvbVwiO2JyZWFrO2Nhc2VcImJvdHRvbVwiOmErPWgvMixvKz1zK24sdT1cImNlbnRlclwiO2JyZWFrO2Nhc2VcImluc2lkZVwiOmErPWgvMixvKz1sLHU9XCJjZW50ZXJcIixjPVwibWlkZGxlXCI7YnJlYWs7Y2FzZVwiaW5zaWRlTGVmdFwiOmErPW4sbys9bCxjPVwibWlkZGxlXCI7YnJlYWs7Y2FzZVwiaW5zaWRlUmlnaHRcIjphKz1oLW4sbys9bCx1PVwicmlnaHRcIixjPVwibWlkZGxlXCI7YnJlYWs7Y2FzZVwiaW5zaWRlVG9wXCI6YSs9aC8yLG8rPW4sdT1cImNlbnRlclwiO2JyZWFrO2Nhc2VcImluc2lkZUJvdHRvbVwiOmErPWgvMixvKz1zLW4sdT1cImNlbnRlclwiLGM9XCJib3R0b21cIjticmVhaztjYXNlXCJpbnNpZGVUb3BMZWZ0XCI6YSs9bixvKz1uO2JyZWFrO2Nhc2VcImluc2lkZVRvcFJpZ2h0XCI6YSs9aC1uLG8rPW4sdT1cInJpZ2h0XCI7YnJlYWs7Y2FzZVwiaW5zaWRlQm90dG9tTGVmdFwiOmErPW4sbys9cy1uLGM9XCJib3R0b21cIjticmVhaztjYXNlXCJpbnNpZGVCb3R0b21SaWdodFwiOmErPWgtbixvKz1zLW4sdT1cInJpZ2h0XCIsYz1cImJvdHRvbVwifXJldHVybih0PXR8fHt9KS54PWEsdC55PW8sdC50ZXh0QWxpZ249dSx0LnRleHRWZXJ0aWNhbEFsaWduPWMsdH1mdW5jdGlvbiBxaSh0LGUsaSxyLG4pe2lmKCFlKXJldHVyblwiXCI7dmFyIGE9KHQrXCJcIikuc3BsaXQoXCJcXG5cIik7bj1qaShlLGkscixuKTtmb3IodmFyIG89MCxzPWEubGVuZ3RoO288cztvKyspYVtvXT1ZaShhW29dLG4pO3JldHVybiBhLmpvaW4oXCJcXG5cIil9ZnVuY3Rpb24gamkodCxlLGkscil7KHI9dih7fSxyKSkuZm9udD1lO2k9SShpLFwiLi4uXCIpO3IubWF4SXRlcmF0aW9ucz1JKHIubWF4SXRlcmF0aW9ucywyKTt2YXIgbj1yLm1pbkNoYXI9SShyLm1pbkNoYXIsMCk7ci5jbkNoYXJXaWR0aD1IaShcIuWbvVwiLGUpO3ZhciBhPXIuYXNjQ2hhcldpZHRoPUhpKFwiYVwiLGUpO3IucGxhY2Vob2xkZXI9SShyLnBsYWNlaG9sZGVyLFwiXCIpO2Zvcih2YXIgbz10PU1hdGgubWF4KDAsdC0xKSxzPTA7czxuJiZhPD1vO3MrKylvLT1hO3ZhciBoPUhpKGksZSk7cmV0dXJuIG88aCYmKGk9XCJcIixoPTApLG89dC1oLHIuZWxsaXBzaXM9aSxyLmVsbGlwc2lzV2lkdGg9aCxyLmNvbnRlbnRXaWR0aD1vLHIuY29udGFpbmVyV2lkdGg9dCxyfWZ1bmN0aW9uIFlpKHQsZSl7dmFyIGk9ZS5jb250YWluZXJXaWR0aCxyPWUuZm9udCxuPWUuY29udGVudFdpZHRoO2lmKCFpKXJldHVyblwiXCI7dmFyIGE9SGkodCxyKTtpZihhPD1pKXJldHVybiB0O2Zvcih2YXIgbz0wOztvKyspe2lmKGE8PW58fG8+PWUubWF4SXRlcmF0aW9ucyl7dCs9ZS5lbGxpcHNpczticmVha312YXIgcz0wPT09bz9VaSh0LG4sZS5hc2NDaGFyV2lkdGgsZS5jbkNoYXJXaWR0aCk6MDxhP01hdGguZmxvb3IodC5sZW5ndGgqbi9hKTowO2E9SGkodD10LnN1YnN0cigwLHMpLHIpfXJldHVyblwiXCI9PT10JiYodD1lLnBsYWNlaG9sZGVyKSx0fWZ1bmN0aW9uIFVpKHQsZSxpLHIpe2Zvcih2YXIgbj0wLGE9MCxvPXQubGVuZ3RoO2E8byYmbjxlO2ErKyl7dmFyIHM9dC5jaGFyQ29kZUF0KGEpO24rPTA8PXMmJnM8PTEyNz9pOnJ9cmV0dXJuIGF9ZnVuY3Rpb24gR2kodCl7cmV0dXJuIEhpKFwi5Zu9XCIsdCl9ZnVuY3Rpb24gWmkodCxlLGkscixuKXtudWxsIT10JiYodCs9XCJcIik7dmFyIGE9SShyLEdpKGUpKSxvPXQ/dC5zcGxpdChcIlxcblwiKTpbXSxzPW8ubGVuZ3RoKmEsaD1zLGw9ITA7aWYoaSYmKGgrPWlbMF0raVsyXSksdCYmbil7bD0hMTt2YXIgdT1uLm91dGVySGVpZ2h0LGM9bi5vdXRlcldpZHRoO2lmKG51bGwhPXUmJnU8aCl0PVwiXCIsbz1bXTtlbHNlIGlmKG51bGwhPWMpZm9yKHZhciBmPWppKGMtKGk/aVsxXStpWzNdOjApLGUsbi5lbGxpcHNpcyx7bWluQ2hhcjpuLm1pbkNoYXIscGxhY2Vob2xkZXI6bi5wbGFjZWhvbGRlcn0pLGQ9MCxwPW8ubGVuZ3RoO2Q8cDtkKyspb1tkXT1ZaShvW2RdLGYpfXJldHVybntsaW5lczpvLGhlaWdodDpzLG91dGVySGVpZ2h0OmgsbGluZUhlaWdodDphLGNhbkNhY2hlQnlUZXh0U3RyaW5nOmx9fWZ1bmN0aW9uIFFpKHQsZSl7dmFyIGk9e2xpbmVzOltdLHdpZHRoOjAsaGVpZ2h0OjB9O2lmKG51bGwhPXQmJih0Kz1cIlwiKSwhdClyZXR1cm4gaTtmb3IodmFyIHIsbj1FaS5sYXN0SW5kZXg9MDtudWxsIT0ocj1FaS5leGVjKHQpKTspe3ZhciBhPXIuaW5kZXg7bjxhJiYkaShpLHQuc3Vic3RyaW5nKG4sYSkpLCRpKGksclsyXSxyWzFdKSxuPUVpLmxhc3RJbmRleH1uPHQubGVuZ3RoJiYkaShpLHQuc3Vic3RyaW5nKG4sdC5sZW5ndGgpKTt2YXIgbz1pLmxpbmVzLHM9MCxoPTAsbD1bXSx1PWUudGV4dFBhZGRpbmcsYz1lLnRydW5jYXRlLGY9YyYmYy5vdXRlcldpZHRoLGQ9YyYmYy5vdXRlckhlaWdodDt1JiYobnVsbCE9ZiYmKGYtPXVbMV0rdVszXSksbnVsbCE9ZCYmKGQtPXVbMF0rdVsyXSkpO2Zvcih2YXIgcD0wO3A8by5sZW5ndGg7cCsrKXtmb3IodmFyIHY9b1twXSxnPTAsXz0wLG09MDttPHYudG9rZW5zLmxlbmd0aDttKyspe3ZhciB5PShBPXYudG9rZW5zW21dKS5zdHlsZU5hbWUmJmUucmljaFtBLnN0eWxlTmFtZV18fHt9LHg9QS50ZXh0UGFkZGluZz15LnRleHRQYWRkaW5nLHc9QS5mb250PXkuZm9udHx8ZS5mb250LGI9QS50ZXh0SGVpZ2h0PUkoeS50ZXh0SGVpZ2h0LEdpKHcpKTtpZih4JiYoYis9eFswXSt4WzJdKSxBLmhlaWdodD1iLEEubGluZUhlaWdodD1PKHkudGV4dExpbmVIZWlnaHQsZS50ZXh0TGluZUhlaWdodCxiKSxBLnRleHRBbGlnbj15JiZ5LnRleHRBbGlnbnx8ZS50ZXh0QWxpZ24sQS50ZXh0VmVydGljYWxBbGlnbj15JiZ5LnRleHRWZXJ0aWNhbEFsaWdufHxcIm1pZGRsZVwiLG51bGwhPWQmJnMrQS5saW5lSGVpZ2h0PmQpcmV0dXJue2xpbmVzOltdLHdpZHRoOjAsaGVpZ2h0OjB9O0EudGV4dFdpZHRoPUhpKEEudGV4dCx3KTt2YXIgaz15LnRleHRXaWR0aCxUPW51bGw9PWt8fFwiYXV0b1wiPT09aztpZihcInN0cmluZ1wiPT10eXBlb2YgayYmXCIlXCI9PT1rLmNoYXJBdChrLmxlbmd0aC0xKSlBLnBlcmNlbnRXaWR0aD1rLGwucHVzaChBKSxrPTA7ZWxzZXtpZihUKXtrPUEudGV4dFdpZHRoO3ZhciBTPXkudGV4dEJhY2tncm91bmRDb2xvcixDPVMmJlMuaW1hZ2U7QyYmRGkoQz1BaShDKSkmJihrPU1hdGgubWF4KGssQy53aWR0aCpiL0MuaGVpZ2h0KSl9dmFyIE09eD94WzFdK3hbM106MDtrKz1NO3ZhciBQPW51bGwhPWY/Zi1fOm51bGw7bnVsbCE9UCYmUDxrJiYoIVR8fFA8TT8oQS50ZXh0PVwiXCIsQS50ZXh0V2lkdGg9az0wKTooQS50ZXh0PXFpKEEudGV4dCxQLU0sdyxjLmVsbGlwc2lzLHttaW5DaGFyOmMubWluQ2hhcn0pLEEudGV4dFdpZHRoPUhpKEEudGV4dCx3KSxrPUEudGV4dFdpZHRoK00pKX1fKz1BLndpZHRoPWsseSYmKGc9TWF0aC5tYXgoZyxBLmxpbmVIZWlnaHQpKX12LndpZHRoPV8scys9di5saW5lSGVpZ2h0PWcsaD1NYXRoLm1heChoLF8pfWkub3V0ZXJXaWR0aD1pLndpZHRoPUkoZS50ZXh0V2lkdGgsaCksaS5vdXRlckhlaWdodD1pLmhlaWdodD1JKGUudGV4dEhlaWdodCxzKSx1JiYoaS5vdXRlcldpZHRoKz11WzFdK3VbM10saS5vdXRlckhlaWdodCs9dVswXSt1WzJdKTtmb3IocD0wO3A8bC5sZW5ndGg7cCsrKXt2YXIgQSxMPShBPWxbcF0pLnBlcmNlbnRXaWR0aDtBLndpZHRoPXBhcnNlSW50KEwsMTApLzEwMCpofXJldHVybiBpfWZ1bmN0aW9uICRpKHQsZSxpKXtmb3IodmFyIHI9XCJcIj09PWUsbj1lLnNwbGl0KFwiXFxuXCIpLGE9dC5saW5lcyxvPTA7bzxuLmxlbmd0aDtvKyspe3ZhciBzPW5bb10saD17c3R5bGVOYW1lOmksdGV4dDpzLGlzTGluZUhvbGRlcjohcyYmIXJ9O2lmKG8pYS5wdXNoKHt0b2tlbnM6W2hdfSk7ZWxzZXt2YXIgbD0oYVthLmxlbmd0aC0xXXx8KGFbMF09e3Rva2VuczpbXX0pKS50b2tlbnMsdT1sLmxlbmd0aDsxPT09dSYmbFswXS5pc0xpbmVIb2xkZXI/bFswXT1oOiFzJiZ1JiYhcnx8bC5wdXNoKGgpfX19ZnVuY3Rpb24gS2kodCxlKXt2YXIgaSxyLG4sYSxvLHM9ZS54LGg9ZS55LGw9ZS53aWR0aCx1PWUuaGVpZ2h0LGM9ZS5yO2w8MCYmKHMrPWwsbD0tbCksdTwwJiYoaCs9dSx1PS11KSxcIm51bWJlclwiPT10eXBlb2YgYz9pPXI9bj1hPWM6YyBpbnN0YW5jZW9mIEFycmF5PzE9PT1jLmxlbmd0aD9pPXI9bj1hPWNbMF06Mj09PWMubGVuZ3RoPyhpPW49Y1swXSxyPWE9Y1sxXSk6Mz09PWMubGVuZ3RoPyhpPWNbMF0scj1hPWNbMV0sbj1jWzJdKTooaT1jWzBdLHI9Y1sxXSxuPWNbMl0sYT1jWzNdKTppPXI9bj1hPTAsbDxpK3ImJihpKj1sLyhvPWkrcikscio9bC9vKSxsPG4rYSYmKG4qPWwvKG89bithKSxhKj1sL28pLHU8cituJiYocio9dS8obz1yK24pLG4qPXUvbyksdTxpK2EmJihpKj11LyhvPWkrYSksYSo9dS9vKSx0Lm1vdmVUbyhzK2ksaCksdC5saW5lVG8ocytsLXIsaCksMCE9PXImJnQuYXJjKHMrbC1yLGgrcixyLC1NYXRoLlBJLzIsMCksdC5saW5lVG8ocytsLGgrdS1uKSwwIT09biYmdC5hcmMocytsLW4saCt1LW4sbiwwLE1hdGguUEkvMiksdC5saW5lVG8ocythLGgrdSksMCE9PWEmJnQuYXJjKHMrYSxoK3UtYSxhLE1hdGguUEkvMixNYXRoLlBJKSx0LmxpbmVUbyhzLGgraSksMCE9PWkmJnQuYXJjKHMraSxoK2ksaSxNYXRoLlBJLDEuNSpNYXRoLlBJKX1GaS5tZWFzdXJlVGV4dD1mdW5jdGlvbih0LGUpe3ZhciBpPXgoKTtyZXR1cm4gaS5mb250PWV8fFJpLGkubWVhc3VyZVRleHQodCl9O3ZhciBKaT1SaSx0cj17bGVmdDoxLHJpZ2h0OjEsY2VudGVyOjF9LGVyPXt0b3A6MSxib3R0b206MSxtaWRkbGU6MX0saXI9W1tcInRleHRTaGFkb3dCbHVyXCIsXCJzaGFkb3dCbHVyXCIsMF0sW1widGV4dFNoYWRvd09mZnNldFhcIixcInNoYWRvd09mZnNldFhcIiwwXSxbXCJ0ZXh0U2hhZG93T2Zmc2V0WVwiLFwic2hhZG93T2Zmc2V0WVwiLDBdLFtcInRleHRTaGFkb3dDb2xvclwiLFwic2hhZG93Q29sb3JcIixcInRyYW5zcGFyZW50XCJdXSxycj17fSxucj17fTtmdW5jdGlvbiBhcih0KXtyZXR1cm4gb3IodCksVCh0LnJpY2gsb3IpLHR9ZnVuY3Rpb24gb3IodCl7aWYodCl7dC5mb250PWZ1bmN0aW9uKHQpe3ZhciBlPSh0LmZvbnRTaXplfHx0LmZvbnRGYW1pbHkpJiZbdC5mb250U3R5bGUsdC5mb250V2VpZ2h0LCh0LmZvbnRTaXplfHwxMikrXCJweFwiLHQuZm9udEZhbWlseXx8XCJzYW5zLXNlcmlmXCJdLmpvaW4oXCIgXCIpO3JldHVybiBlJiZSKGUpfHx0LnRleHRGb250fHx0LmZvbnR9KHQpO3ZhciBlPXQudGV4dEFsaWduO1wibWlkZGxlXCI9PT1lJiYoZT1cImNlbnRlclwiKSx0LnRleHRBbGlnbj1udWxsPT1lfHx0cltlXT9lOlwibGVmdFwiO3ZhciBpPXQudGV4dFZlcnRpY2FsQWxpZ258fHQudGV4dEJhc2VsaW5lO1wiY2VudGVyXCI9PT1pJiYoaT1cIm1pZGRsZVwiKSx0LnRleHRWZXJ0aWNhbEFsaWduPW51bGw9PWl8fGVyW2ldP2k6XCJ0b3BcIix0LnRleHRQYWRkaW5nJiYodC50ZXh0UGFkZGluZz1FKHQudGV4dFBhZGRpbmcpKX19ZnVuY3Rpb24gc3IodCxlLGkscixuLGEpe3IucmljaD9mdW5jdGlvbih0LGUsaSxyLG4sYSl7YSE9PXZpJiYoZS5fX2F0dHJDYWNoZWRCeT1waS5OT05FKTt2YXIgbz10Ll9fdGV4dENvdGVudEJsb2NrO28mJiF0Ll9fZGlydHlUZXh0fHwobz10Ll9fdGV4dENvdGVudEJsb2NrPVFpKGkscikpOyFmdW5jdGlvbih0LGUsaSxyLG4pe3ZhciBhPWkud2lkdGgsbz1pLm91dGVyV2lkdGgscz1pLm91dGVySGVpZ2h0LGg9ci50ZXh0UGFkZGluZyxsPWRyKG5yLHQscixuKSx1PWwuYmFzZVgsYz1sLmJhc2VZLGY9bC50ZXh0QWxpZ24sZD1sLnRleHRWZXJ0aWNhbEFsaWduO2hyKGUscixuLHUsYyk7dmFyIHA9V2kodSxvLGYpLHY9VmkoYyxzLGQpLGc9cCxfPXY7aCYmKGcrPWhbM10sXys9aFswXSk7dmFyIG09ZythO3VyKHIpJiZjcih0LGUscixwLHYsbyxzKTtmb3IodmFyIHk9MDt5PGkubGluZXMubGVuZ3RoO3krKyl7Zm9yKHZhciB4LHc9aS5saW5lc1t5XSxiPXcudG9rZW5zLGs9Yi5sZW5ndGgsVD13LmxpbmVIZWlnaHQsUz13LndpZHRoLEM9MCxNPWcsUD1tLEE9ay0xO0M8ayYmKCEoeD1iW0NdKS50ZXh0QWxpZ258fFwibGVmdFwiPT09eC50ZXh0QWxpZ24pOylscih0LGUseCxyLFQsXyxNLFwibGVmdFwiKSxTLT14LndpZHRoLE0rPXgud2lkdGgsQysrO2Zvcig7MDw9QSYmXCJyaWdodFwiPT09KHg9YltBXSkudGV4dEFsaWduOylscih0LGUseCxyLFQsXyxQLFwicmlnaHRcIiksUy09eC53aWR0aCxQLT14LndpZHRoLEEtLTtmb3IoTSs9KGEtKE0tZyktKG0tUCktUykvMjtDPD1BOyl4PWJbQ10sbHIodCxlLHgscixULF8sTSt4LndpZHRoLzIsXCJjZW50ZXJcIiksTSs9eC53aWR0aCxDKys7Xys9VH19KHQsZSxvLHIsbil9KHQsZSxpLHIsbixhKTpmdW5jdGlvbih0LGUsaSxyLG4sYSl7dmFyIG8scz11cihyKSxoPSExLGw9ZS5fX2F0dHJDYWNoZWRCeT09PXBpLlBMQUlOX1RFWFQ7YSE9PXZpPyhhJiYobz1hLnN0eWxlLGg9IXMmJmwmJm8pLGUuX19hdHRyQ2FjaGVkQnk9cz9waS5OT05FOnBpLlBMQUlOX1RFWFQpOmwmJihlLl9fYXR0ckNhY2hlZEJ5PXBpLk5PTkUpO3ZhciB1PXIuZm9udHx8Smk7aCYmdT09PShvLmZvbnR8fEppKXx8KGUuZm9udD11KTt2YXIgYz10Ll9fY29tcHV0ZWRGb250O3QuX19zdHlsZUZvbnQhPT11JiYodC5fX3N0eWxlRm9udD11LGM9dC5fX2NvbXB1dGVkRm9udD1lLmZvbnQpO3ZhciBmPXIudGV4dFBhZGRpbmcsZD1yLnRleHRMaW5lSGVpZ2h0LHA9dC5fX3RleHRDb3RlbnRCbG9jaztwJiYhdC5fX2RpcnR5VGV4dHx8KHA9dC5fX3RleHRDb3RlbnRCbG9jaz1aaShpLGMsZixkLHIudHJ1bmNhdGUpKTt2YXIgdj1wLm91dGVySGVpZ2h0LGc9cC5saW5lcyxfPXAubGluZUhlaWdodCxtPWRyKG5yLHQscixuKSx5PW0uYmFzZVgseD1tLmJhc2VZLHc9bS50ZXh0QWxpZ258fFwibGVmdFwiLGI9bS50ZXh0VmVydGljYWxBbGlnbjtocihlLHIsbix5LHgpO3ZhciBrPVZpKHgsdixiKSxUPXksUz1rO2lmKHN8fGYpe3ZhciBDPUhpKGksYyk7ZiYmKEMrPWZbMV0rZlszXSk7dmFyIE09V2koeSxDLHcpO3MmJmNyKHQsZSxyLE0sayxDLHYpLGYmJihUPW1yKHksdyxmKSxTKz1mWzBdKX1lLnRleHRBbGlnbj13LGUudGV4dEJhc2VsaW5lPVwibWlkZGxlXCIsZS5nbG9iYWxBbHBoYT1yLm9wYWNpdHl8fDE7Zm9yKHZhciBQPTA7UDxpci5sZW5ndGg7UCsrKXt2YXIgQT1pcltQXSxMPUFbMF0sej1BWzFdLEQ9cltMXTtoJiZEPT09b1tMXXx8KGVbel09ZGkoZSx6LER8fEFbMl0pKX1TKz1fLzI7dmFyIEI9ci50ZXh0U3Ryb2tlV2lkdGgsST1oP28udGV4dFN0cm9rZVdpZHRoOm51bGwsTz0haHx8QiE9PUksRT0haHx8T3x8ci50ZXh0U3Ryb2tlIT09by50ZXh0U3Ryb2tlLFI9dnIoci50ZXh0U3Ryb2tlLEIpLEY9Z3Ioci50ZXh0RmlsbCk7UiYmKE8mJihlLmxpbmVXaWR0aD1CKSxFJiYoZS5zdHJva2VTdHlsZT1SKSk7RiYmKGgmJnIudGV4dEZpbGw9PT1vLnRleHRGaWxsfHwoZS5maWxsU3R5bGU9RikpO2lmKDE9PT1nLmxlbmd0aClSJiZlLnN0cm9rZVRleHQoZ1swXSxULFMpLEYmJmUuZmlsbFRleHQoZ1swXSxULFMpO2Vsc2UgZm9yKFA9MDtQPGcubGVuZ3RoO1ArKylSJiZlLnN0cm9rZVRleHQoZ1tQXSxULFMpLEYmJmUuZmlsbFRleHQoZ1tQXSxULFMpLFMrPV99KHQsZSxpLHIsbixhKX1mdW5jdGlvbiBocih0LGUsaSxyLG4pe2lmKGkmJmUudGV4dFJvdGF0aW9uKXt2YXIgYT1lLnRleHRPcmlnaW47XCJjZW50ZXJcIj09PWE/KHI9aS53aWR0aC8yK2kueCxuPWkuaGVpZ2h0LzIraS55KTphJiYocj1hWzBdK2kueCxuPWFbMV0raS55KSx0LnRyYW5zbGF0ZShyLG4pLHQucm90YXRlKC1lLnRleHRSb3RhdGlvbiksdC50cmFuc2xhdGUoLXIsLW4pfX1mdW5jdGlvbiBscih0LGUsaSxyLG4sYSxvLHMpe3ZhciBoPXIucmljaFtpLnN0eWxlTmFtZV18fHt9O2gudGV4dD1pLnRleHQ7dmFyIGw9aS50ZXh0VmVydGljYWxBbGlnbix1PWErbi8yO1widG9wXCI9PT1sP3U9YStpLmhlaWdodC8yOlwiYm90dG9tXCI9PT1sJiYodT1hK24taS5oZWlnaHQvMiksIWkuaXNMaW5lSG9sZGVyJiZ1cihoKSYmY3IodCxlLGgsXCJyaWdodFwiPT09cz9vLWkud2lkdGg6XCJjZW50ZXJcIj09PXM/by1pLndpZHRoLzI6byx1LWkuaGVpZ2h0LzIsaS53aWR0aCxpLmhlaWdodCk7dmFyIGM9aS50ZXh0UGFkZGluZztjJiYobz1tcihvLHMsYyksdS09aS5oZWlnaHQvMi1jWzJdLWkudGV4dEhlaWdodC8yKSxwcihlLFwic2hhZG93Qmx1clwiLE8oaC50ZXh0U2hhZG93Qmx1cixyLnRleHRTaGFkb3dCbHVyLDApKSxwcihlLFwic2hhZG93Q29sb3JcIixoLnRleHRTaGFkb3dDb2xvcnx8ci50ZXh0U2hhZG93Q29sb3J8fFwidHJhbnNwYXJlbnRcIikscHIoZSxcInNoYWRvd09mZnNldFhcIixPKGgudGV4dFNoYWRvd09mZnNldFgsci50ZXh0U2hhZG93T2Zmc2V0WCwwKSkscHIoZSxcInNoYWRvd09mZnNldFlcIixPKGgudGV4dFNoYWRvd09mZnNldFksci50ZXh0U2hhZG93T2Zmc2V0WSwwKSkscHIoZSxcInRleHRBbGlnblwiLHMpLHByKGUsXCJ0ZXh0QmFzZWxpbmVcIixcIm1pZGRsZVwiKSxwcihlLFwiZm9udFwiLGkuZm9udHx8SmkpO3ZhciBmPXZyKGgudGV4dFN0cm9rZXx8ci50ZXh0U3Ryb2tlLHApLGQ9Z3IoaC50ZXh0RmlsbHx8ci50ZXh0RmlsbCkscD1JKGgudGV4dFN0cm9rZVdpZHRoLHIudGV4dFN0cm9rZVdpZHRoKTtmJiYocHIoZSxcImxpbmVXaWR0aFwiLHApLHByKGUsXCJzdHJva2VTdHlsZVwiLGYpLGUuc3Ryb2tlVGV4dChpLnRleHQsbyx1KSksZCYmKHByKGUsXCJmaWxsU3R5bGVcIixkKSxlLmZpbGxUZXh0KGkudGV4dCxvLHUpKX1mdW5jdGlvbiB1cih0KXtyZXR1cm4hISh0LnRleHRCYWNrZ3JvdW5kQ29sb3J8fHQudGV4dEJvcmRlcldpZHRoJiZ0LnRleHRCb3JkZXJDb2xvcil9ZnVuY3Rpb24gY3IodCxlLGkscixuLGEsbyl7dmFyIHM9aS50ZXh0QmFja2dyb3VuZENvbG9yLGg9aS50ZXh0Qm9yZGVyV2lkdGgsbD1pLnRleHRCb3JkZXJDb2xvcix1PUEocyk7aWYocHIoZSxcInNoYWRvd0JsdXJcIixpLnRleHRCb3hTaGFkb3dCbHVyfHwwKSxwcihlLFwic2hhZG93Q29sb3JcIixpLnRleHRCb3hTaGFkb3dDb2xvcnx8XCJ0cmFuc3BhcmVudFwiKSxwcihlLFwic2hhZG93T2Zmc2V0WFwiLGkudGV4dEJveFNoYWRvd09mZnNldFh8fDApLHByKGUsXCJzaGFkb3dPZmZzZXRZXCIsaS50ZXh0Qm94U2hhZG93T2Zmc2V0WXx8MCksdXx8aCYmbCl7ZS5iZWdpblBhdGgoKTt2YXIgYz1pLnRleHRCb3JkZXJSYWRpdXM7Yz9LaShlLHt4OnIseTpuLHdpZHRoOmEsaGVpZ2h0Om8scjpjfSk6ZS5yZWN0KHIsbixhLG8pLGUuY2xvc2VQYXRoKCl9aWYodSlpZihwcihlLFwiZmlsbFN0eWxlXCIscyksbnVsbCE9aS5maWxsT3BhY2l0eSl7dmFyIGY9ZS5nbG9iYWxBbHBoYTtlLmdsb2JhbEFscGhhPWkuZmlsbE9wYWNpdHkqaS5vcGFjaXR5LGUuZmlsbCgpLGUuZ2xvYmFsQWxwaGE9Zn1lbHNlIGUuZmlsbCgpO2Vsc2UgaWYoTChzKSl7dmFyIGQ9cy5pbWFnZTsoZD1MaShkLG51bGwsdCxmcixzKSkmJkRpKGQpJiZlLmRyYXdJbWFnZShkLHIsbixhLG8pfWlmKGgmJmwpaWYocHIoZSxcImxpbmVXaWR0aFwiLGgpLHByKGUsXCJzdHJva2VTdHlsZVwiLGwpLG51bGwhPWkuc3Ryb2tlT3BhY2l0eSl7Zj1lLmdsb2JhbEFscGhhO2UuZ2xvYmFsQWxwaGE9aS5zdHJva2VPcGFjaXR5Kmkub3BhY2l0eSxlLnN0cm9rZSgpLGUuZ2xvYmFsQWxwaGE9Zn1lbHNlIGUuc3Ryb2tlKCl9ZnVuY3Rpb24gZnIodCxlKXtlLmltYWdlPXR9ZnVuY3Rpb24gZHIodCxlLGkscil7dmFyIG49aS54fHwwLGE9aS55fHwwLG89aS50ZXh0QWxpZ24scz1pLnRleHRWZXJ0aWNhbEFsaWduO2lmKHIpe3ZhciBoPWkudGV4dFBvc2l0aW9uO2lmKGggaW5zdGFuY2VvZiBBcnJheSluPXIueCtfcihoWzBdLHIud2lkdGgpLGE9ci55K19yKGhbMV0sci5oZWlnaHQpO2Vsc2V7dmFyIGw9ZSYmZS5jYWxjdWxhdGVUZXh0UG9zaXRpb24/ZS5jYWxjdWxhdGVUZXh0UG9zaXRpb24ocnIsaSxyKTpYaShycixpLHIpO249bC54LGE9bC55LG89b3x8bC50ZXh0QWxpZ24scz1zfHxsLnRleHRWZXJ0aWNhbEFsaWdufXZhciB1PWkudGV4dE9mZnNldDt1JiYobis9dVswXSxhKz11WzFdKX1yZXR1cm4odD10fHx7fSkuYmFzZVg9bix0LmJhc2VZPWEsdC50ZXh0QWxpZ249byx0LnRleHRWZXJ0aWNhbEFsaWduPXMsdH1mdW5jdGlvbiBwcih0LGUsaSl7cmV0dXJuIHRbZV09ZGkodCxlLGkpLHRbZV19ZnVuY3Rpb24gdnIodCxlKXtyZXR1cm4gbnVsbD09dHx8ZTw9MHx8XCJ0cmFuc3BhcmVudFwiPT09dHx8XCJub25lXCI9PT10P251bGw6dC5pbWFnZXx8dC5jb2xvclN0b3BzP1wiIzAwMFwiOnR9ZnVuY3Rpb24gZ3IodCl7cmV0dXJuIG51bGw9PXR8fFwibm9uZVwiPT09dD9udWxsOnQuaW1hZ2V8fHQuY29sb3JTdG9wcz9cIiMwMDBcIjp0fWZ1bmN0aW9uIF9yKHQsZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/MDw9dC5sYXN0SW5kZXhPZihcIiVcIik/cGFyc2VGbG9hdCh0KS8xMDAqZTpwYXJzZUZsb2F0KHQpOnR9ZnVuY3Rpb24gbXIodCxlLGkpe3JldHVyblwicmlnaHRcIj09PWU/dC1pWzFdOlwiY2VudGVyXCI9PT1lP3QraVszXS8yLWlbMV0vMjp0K2lbM119ZnVuY3Rpb24geXIodCxlKXtyZXR1cm4gbnVsbCE9dCYmKHR8fGUudGV4dEJhY2tncm91bmRDb2xvcnx8ZS50ZXh0Qm9yZGVyV2lkdGgmJmUudGV4dEJvcmRlckNvbG9yfHxlLnRleHRQYWRkaW5nKX1mdW5jdGlvbiB4cigpe312YXIgd3I9bmV3IHRpO2Z1bmN0aW9uIGJyKHQpe2Zvcih2YXIgZSBpbiB0PXR8fHt9LFllLmNhbGwodGhpcyx0KSx0KXQuaGFzT3duUHJvcGVydHkoZSkmJlwic3R5bGVcIiE9PWUmJih0aGlzW2VdPXRbZV0pO3RoaXMuc3R5bGU9bmV3IF9pKHQuc3R5bGUsdGhpcyksdGhpcy5fcmVjdD1udWxsLHRoaXMuX19jbGlwUGF0aHM9bnVsbH1mdW5jdGlvbiBrcih0KXtici5jYWxsKHRoaXMsdCl9YnIucHJvdG90eXBlPXtjb25zdHJ1Y3Rvcjpicix0eXBlOlwiZGlzcGxheWFibGVcIixfX2RpcnR5OiEwLGludmlzaWJsZTohKHhyLnByb3RvdHlwZT17Y29uc3RydWN0b3I6eHIsZHJhd1JlY3RUZXh0OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5zdHlsZTtlPWkudGV4dFJlY3R8fGUsdGhpcy5fX2RpcnR5JiZhcihpKTt2YXIgcj1pLnRleHQ7aWYobnVsbCE9ciYmKHIrPVwiXCIpLHlyKHIsaSkpe3Quc2F2ZSgpO3ZhciBuPXRoaXMudHJhbnNmb3JtO2kudHJhbnNmb3JtVGV4dD90aGlzLnNldFRyYW5zZm9ybSh0KTpuJiYod3IuY29weShlKSx3ci5hcHBseVRyYW5zZm9ybShuKSxlPXdyKSxzcih0aGlzLHQscixpLGUsdmkpLHQucmVzdG9yZSgpfX19KSx6OjAsejI6MCx6bGV2ZWw6MCxkcmFnZ2FibGU6ITEsZHJhZ2dpbmc6ITEsc2lsZW50OiExLGN1bGxpbmc6ITEsY3Vyc29yOlwicG9pbnRlclwiLHJlY3RIb3ZlcjohMSxwcm9ncmVzc2l2ZTohMSxpbmNyZW1lbnRhbDohMSxnbG9iYWxTY2FsZVJhdGlvOjEsYmVmb3JlQnJ1c2g6ZnVuY3Rpb24odCl7fSxhZnRlckJydXNoOmZ1bmN0aW9uKHQpe30sYnJ1c2g6ZnVuY3Rpb24odCxlKXt9LGdldEJvdW5kaW5nUmVjdDpmdW5jdGlvbigpe30sY29udGFpbjpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnJlY3RDb250YWluKHQsZSl9LHRyYXZlcnNlOmZ1bmN0aW9uKHQsZSl7dC5jYWxsKGUsdGhpcyl9LHJlY3RDb250YWluOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy50cmFuc2Zvcm1Db29yZFRvTG9jYWwodCxlKTtyZXR1cm4gdGhpcy5nZXRCb3VuZGluZ1JlY3QoKS5jb250YWluKGlbMF0saVsxXSl9LGRpcnR5OmZ1bmN0aW9uKCl7dGhpcy5fX2RpcnR5PXRoaXMuX19kaXJ0eVRleHQ9ITAsdGhpcy5fcmVjdD1udWxsLHRoaXMuX196ciYmdGhpcy5fX3pyLnJlZnJlc2goKX0sYW5pbWF0ZVN0eWxlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFuaW1hdGUoXCJzdHlsZVwiLHQpfSxhdHRyS1Y6ZnVuY3Rpb24odCxlKXtcInN0eWxlXCIhPT10P1llLnByb3RvdHlwZS5hdHRyS1YuY2FsbCh0aGlzLHQsZSk6dGhpcy5zdHlsZS5zZXQoZSl9LHNldFN0eWxlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc3R5bGUuc2V0KHQsZSksdGhpcy5kaXJ0eSghMSksdGhpc30sdXNlU3R5bGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3R5bGU9bmV3IF9pKHQsdGhpcyksdGhpcy5kaXJ0eSghMSksdGhpc30sY2FsY3VsYXRlVGV4dFBvc2l0aW9uOm51bGx9LGIoYnIsWWUpLGsoYnIseHIpLGtyLnByb3RvdHlwZT17Y29uc3RydWN0b3I6a3IsdHlwZTpcImltYWdlXCIsYnJ1c2g6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLnN0eWxlLHI9aS5pbWFnZTtpLmJpbmQodCx0aGlzLGUpO3ZhciBuPXRoaXMuX2ltYWdlPUxpKHIsdGhpcy5faW1hZ2UsdGhpcyx0aGlzLm9ubG9hZCk7aWYobiYmRGkobikpe3ZhciBhPWkueHx8MCxvPWkueXx8MCxzPWkud2lkdGgsaD1pLmhlaWdodCxsPW4ud2lkdGgvbi5oZWlnaHQ7aWYobnVsbD09cyYmbnVsbCE9aD9zPWgqbDpudWxsPT1oJiZudWxsIT1zP2g9cy9sOm51bGw9PXMmJm51bGw9PWgmJihzPW4ud2lkdGgsaD1uLmhlaWdodCksdGhpcy5zZXRUcmFuc2Zvcm0odCksaS5zV2lkdGgmJmkuc0hlaWdodCl7dmFyIHU9aS5zeHx8MCxjPWkuc3l8fDA7dC5kcmF3SW1hZ2Uobix1LGMsaS5zV2lkdGgsaS5zSGVpZ2h0LGEsbyxzLGgpfWVsc2UgaWYoaS5zeCYmaS5zeSl7dmFyIGY9cy0odT1pLnN4KSxkPWgtKGM9aS5zeSk7dC5kcmF3SW1hZ2Uobix1LGMsZixkLGEsbyxzLGgpfWVsc2UgdC5kcmF3SW1hZ2UobixhLG8scyxoKTtudWxsIT1pLnRleHQmJih0aGlzLnJlc3RvcmVUcmFuc2Zvcm0odCksdGhpcy5kcmF3UmVjdFRleHQodCx0aGlzLmdldEJvdW5kaW5nUmVjdCgpKSl9fSxnZXRCb3VuZGluZ1JlY3Q6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0eWxlO3JldHVybiB0aGlzLl9yZWN0fHwodGhpcy5fcmVjdD1uZXcgdGkodC54fHwwLHQueXx8MCx0LndpZHRofHwwLHQuaGVpZ2h0fHwwKSksdGhpcy5fcmVjdH19LGIoa3IsYnIpO3ZhciBUcj0zMTQxNTk7ZnVuY3Rpb24gU3IodCl7cmV0dXJuIHBhcnNlSW50KHQsMTApfXZhciBDcj1uZXcgdGkoMCwwLDAsMCksTXI9bmV3IHRpKDAsMCwwLDApO2Z1bmN0aW9uIFByKHQsZSxpKXt0aGlzLnR5cGU9XCJjYW52YXNcIjt2YXIgcj0hdC5ub2RlTmFtZXx8XCJDQU5WQVNcIj09PXQubm9kZU5hbWUudG9VcHBlckNhc2UoKTt0aGlzLl9vcHRzPWk9dih7fSxpfHx7fSksdGhpcy5kcHI9aS5kZXZpY2VQaXhlbFJhdGlvfHxOZSx0aGlzLl9zaW5nbGVDYW52YXM9cjt2YXIgbj0odGhpcy5yb290PXQpLnN0eWxlO24mJihuW1wiLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yXCJdPVwidHJhbnNwYXJlbnRcIixuW1wiLXdlYmtpdC11c2VyLXNlbGVjdFwiXT1uW1widXNlci1zZWxlY3RcIl09bltcIi13ZWJraXQtdG91Y2gtY2FsbG91dFwiXT1cIm5vbmVcIix0LmlubmVySFRNTD1cIlwiKSx0aGlzLnN0b3JhZ2U9ZTt2YXIgYT10aGlzLl96bGV2ZWxMaXN0PVtdLG89dGhpcy5fbGF5ZXJzPXt9O2lmKHRoaXMuX2xheWVyQ29uZmlnPXt9LHRoaXMuX25lZWRzTWFudWFsbHlDb21wb3NpdGluZz0hMSxyKXt2YXIgcz10LndpZHRoLGg9dC5oZWlnaHQ7bnVsbCE9aS53aWR0aCYmKHM9aS53aWR0aCksbnVsbCE9aS5oZWlnaHQmJihoPWkuaGVpZ2h0KSx0aGlzLmRwcj1pLmRldmljZVBpeGVsUmF0aW98fDEsdC53aWR0aD1zKnRoaXMuZHByLHQuaGVpZ2h0PWgqdGhpcy5kcHIsdGhpcy5fd2lkdGg9cyx0aGlzLl9oZWlnaHQ9aDt2YXIgbD1uZXcgQ2kodCx0aGlzLHRoaXMuZHByKTtsLl9fYnVpbHRpbl9fPSEwLGwuaW5pdENvbnRleHQoKSwob1tUcl09bCkuemxldmVsPVRyLGEucHVzaChUciksdGhpcy5fZG9tUm9vdD10fWVsc2V7dGhpcy5fd2lkdGg9dGhpcy5fZ2V0U2l6ZSgwKSx0aGlzLl9oZWlnaHQ9dGhpcy5fZ2V0U2l6ZSgxKTt2YXIgdT10aGlzLl9kb21Sb290PWZ1bmN0aW9uKHQsZSl7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gaS5zdHlsZS5jc3NUZXh0PVtcInBvc2l0aW9uOnJlbGF0aXZlXCIsXCJ3aWR0aDpcIit0K1wicHhcIixcImhlaWdodDpcIitlK1wicHhcIixcInBhZGRpbmc6MFwiLFwibWFyZ2luOjBcIixcImJvcmRlci13aWR0aDowXCJdLmpvaW4oXCI7XCIpK1wiO1wiLGl9KHRoaXMuX3dpZHRoLHRoaXMuX2hlaWdodCk7dC5hcHBlbmRDaGlsZCh1KX10aGlzLl9ob3ZlcmxheWVyPW51bGwsdGhpcy5faG92ZXJFbGVtZW50cz1bXX1Qci5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlByLGdldFR5cGU6ZnVuY3Rpb24oKXtyZXR1cm5cImNhbnZhc1wifSxpc1NpbmdsZUNhbnZhczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaW5nbGVDYW52YXN9LGdldFZpZXdwb3J0Um9vdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb21Sb290fSxnZXRWaWV3cG9ydFJvb3RPZmZzZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFZpZXdwb3J0Um9vdCgpO2lmKHQpcmV0dXJue29mZnNldExlZnQ6dC5vZmZzZXRMZWZ0fHwwLG9mZnNldFRvcDp0Lm9mZnNldFRvcHx8MH19LHJlZnJlc2g6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdG9yYWdlLmdldERpc3BsYXlMaXN0KCEwKSxpPXRoaXMuX3psZXZlbExpc3Q7dGhpcy5fcmVkcmF3SWQ9TWF0aC5yYW5kb20oKSx0aGlzLl9wYWludExpc3QoZSx0LHRoaXMuX3JlZHJhd0lkKTtmb3IodmFyIHI9MDtyPGkubGVuZ3RoO3IrKyl7dmFyIG49aVtyXSxhPXRoaXMuX2xheWVyc1tuXTtpZighYS5fX2J1aWx0aW5fXyYmYS5yZWZyZXNoKXt2YXIgbz0wPT09cj90aGlzLl9iYWNrZ3JvdW5kQ29sb3I6bnVsbDthLnJlZnJlc2gobyl9fXJldHVybiB0aGlzLnJlZnJlc2hIb3ZlcigpLHRoaXN9LGFkZEhvdmVyOmZ1bmN0aW9uKHQsZSl7aWYoIXQuX19ob3Zlck1pcil7dmFyIGk9bmV3IHQuY29uc3RydWN0b3Ioe3N0eWxlOnQuc3R5bGUsc2hhcGU6dC5zaGFwZSx6OnQueix6Mjp0LnoyLHNpbGVudDp0LnNpbGVudH0pO3JldHVybihpLl9fZnJvbT10KS5fX2hvdmVyTWlyPWksZSYmaS5zZXRTdHlsZShlKSx0aGlzLl9ob3ZlckVsZW1lbnRzLnB1c2goaSksaX19LHJlbW92ZUhvdmVyOmZ1bmN0aW9uKHQpe3ZhciBlPXQuX19ob3Zlck1pcixpPXRoaXMuX2hvdmVyRWxlbWVudHMscj13KGksZSk7MDw9ciYmaS5zcGxpY2UociwxKSx0Ll9faG92ZXJNaXI9bnVsbH0sY2xlYXJIb3ZlcjpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5faG92ZXJFbGVtZW50cyxpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciByPWVbaV0uX19mcm9tO3ImJihyLl9faG92ZXJNaXI9bnVsbCl9ZS5sZW5ndGg9MH0scmVmcmVzaEhvdmVyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5faG92ZXJFbGVtZW50cyxlPXQubGVuZ3RoLGk9dGhpcy5faG92ZXJsYXllcjtpZihpJiZpLmNsZWFyKCksZSl7bGkodCx0aGlzLnN0b3JhZ2UuZGlzcGxheWFibGVTb3J0RnVuYyk7dmFyIHI9e307KGk9aXx8KHRoaXMuX2hvdmVybGF5ZXI9dGhpcy5nZXRMYXllcigxZTUpKSkuY3R4LnNhdmUoKTtmb3IodmFyIG49MDtuPGU7KXt2YXIgYT10W25dLG89YS5fX2Zyb207byYmby5fX3pyPyhuKyssby5pbnZpc2libGV8fChhLnRyYW5zZm9ybT1vLnRyYW5zZm9ybSxhLmludlRyYW5zZm9ybT1vLmludlRyYW5zZm9ybSxhLl9fY2xpcFBhdGhzPW8uX19jbGlwUGF0aHMsdGhpcy5fZG9QYWludEVsKGEsaSwhMCxyKSkpOih0LnNwbGljZShuLDEpLG8uX19ob3Zlck1pcj1udWxsLGUtLSl9aS5jdHgucmVzdG9yZSgpfX0sZ2V0SG92ZXJMYXllcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldExheWVyKDFlNSl9LF9wYWludExpc3Q6ZnVuY3Rpb24odCxlLGkpe2lmKHRoaXMuX3JlZHJhd0lkPT09aSl7ZT1lfHwhMSx0aGlzLl91cGRhdGVMYXllclN0YXR1cyh0KTt2YXIgcj10aGlzLl9kb1BhaW50TGlzdCh0LGUpO2lmKHRoaXMuX25lZWRzTWFudWFsbHlDb21wb3NpdGluZyYmdGhpcy5fY29tcG9zaXRlTWFudWFsbHkoKSwhcil7dmFyIG49dGhpcztNaShmdW5jdGlvbigpe24uX3BhaW50TGlzdCh0LGUsaSl9KX19fSxfY29tcG9zaXRlTWFudWFsbHk6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldExheWVyKFRyKS5jdHgsaT10aGlzLl9kb21Sb290LndpZHRoLHI9dGhpcy5fZG9tUm9vdC5oZWlnaHQ7ZS5jbGVhclJlY3QoMCwwLGksciksdGhpcy5lYWNoQnVpbHRpbkxheWVyKGZ1bmN0aW9uKHQpe3QudmlydHVhbCYmZS5kcmF3SW1hZ2UodC5kb20sMCwwLGkscil9KX0sX2RvUGFpbnRMaXN0OmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPVtdLHI9MDtyPHRoaXMuX3psZXZlbExpc3QubGVuZ3RoO3IrKyl7dmFyIG49dGhpcy5femxldmVsTGlzdFtyXTsocz10aGlzLl9sYXllcnNbbl0pLl9fYnVpbHRpbl9fJiZzIT09dGhpcy5faG92ZXJsYXllciYmKHMuX19kaXJ0eXx8ZSkmJmkucHVzaChzKX1mb3IodmFyIGE9ITAsbz0wO288aS5sZW5ndGg7bysrKXt2YXIgcyxoPShzPWlbb10pLmN0eCxsPXt9O2guc2F2ZSgpO3ZhciB1PWU/cy5fX3N0YXJ0SW5kZXg6cy5fX2RyYXdJbmRleCxjPSFlJiZzLmluY3JlbWVudGFsJiZEYXRlLm5vdyxmPWMmJkRhdGUubm93KCksZD1zLnpsZXZlbD09PXRoaXMuX3psZXZlbExpc3RbMF0/dGhpcy5fYmFja2dyb3VuZENvbG9yOm51bGw7aWYocy5fX3N0YXJ0SW5kZXg9PT1zLl9fZW5kSW5kZXgpcy5jbGVhcighMSxkKTtlbHNlIGlmKHU9PT1zLl9fc3RhcnRJbmRleCl7dmFyIHA9dFt1XTtwLmluY3JlbWVudGFsJiZwLm5vdENsZWFyJiYhZXx8cy5jbGVhcighMSxkKX0tMT09PXUmJihjb25zb2xlLmVycm9yKFwiRm9yIHNvbWUgdW5rbm93biByZWFzb24uIGRyYXdJbmRleCBpcyAtMVwiKSx1PXMuX19zdGFydEluZGV4KTtmb3IodmFyIHY9dTt2PHMuX19lbmRJbmRleDt2Kyspe3ZhciBnPXRbdl07aWYodGhpcy5fZG9QYWludEVsKGcscyxlLGwpLGcuX19kaXJ0eT1nLl9fZGlydHlUZXh0PSExLGMpaWYoMTU8RGF0ZS5ub3coKS1mKWJyZWFrfXMuX19kcmF3SW5kZXg9dixzLl9fZHJhd0luZGV4PHMuX19lbmRJbmRleCYmKGE9ITEpLGwucHJldkVsQ2xpcFBhdGhzJiZoLnJlc3RvcmUoKSxoLnJlc3RvcmUoKX1yZXR1cm4gXy53eGEmJlQodGhpcy5fbGF5ZXJzLGZ1bmN0aW9uKHQpe3QmJnQuY3R4JiZ0LmN0eC5kcmF3JiZ0LmN0eC5kcmF3KCl9KSxhfSxfZG9QYWludEVsOmZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBuPWUuY3R4LGE9dC50cmFuc2Zvcm07aWYoKGUuX19kaXJ0eXx8aSkmJiF0LmludmlzaWJsZSYmMCE9PXQuc3R5bGUub3BhY2l0eSYmKCFhfHxhWzBdfHxhWzNdKSYmKCF0LmN1bGxpbmd8fCFmdW5jdGlvbih0LGUsaSl7cmV0dXJuIENyLmNvcHkodC5nZXRCb3VuZGluZ1JlY3QoKSksdC50cmFuc2Zvcm0mJkNyLmFwcGx5VHJhbnNmb3JtKHQudHJhbnNmb3JtKSxNci53aWR0aD1lLE1yLmhlaWdodD1pLCFDci5pbnRlcnNlY3QoTXIpfSh0LHRoaXMuX3dpZHRoLHRoaXMuX2hlaWdodCkpKXt2YXIgbz10Ll9fY2xpcFBhdGhzLHM9ci5wcmV2RWxDbGlwUGF0aHM7cyYmIWZ1bmN0aW9uKHQsZSl7aWYodD09PWUpcmV0dXJuITE7aWYoIXR8fCFlfHx0Lmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiEwO2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKWlmKHRbaV0hPT1lW2ldKXJldHVybiEwO3JldHVybiExfShvLHMpfHwocyYmKG4ucmVzdG9yZSgpLHIucHJldkVsQ2xpcFBhdGhzPW51bGwsci5wcmV2RWw9bnVsbCksbyYmKG4uc2F2ZSgpLGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciByPXRbaV07ci5zZXRUcmFuc2Zvcm0oZSksZS5iZWdpblBhdGgoKSxyLmJ1aWxkUGF0aChlLHIuc2hhcGUpLGUuY2xpcCgpLHIucmVzdG9yZVRyYW5zZm9ybShlKX19KG8sbiksci5wcmV2RWxDbGlwUGF0aHM9bykpLHQuYmVmb3JlQnJ1c2gmJnQuYmVmb3JlQnJ1c2gobiksdC5icnVzaChuLHIucHJldkVsfHxudWxsKSwoci5wcmV2RWw9dCkuYWZ0ZXJCcnVzaCYmdC5hZnRlckJydXNoKG4pfX0sZ2V0TGF5ZXI6ZnVuY3Rpb24odCxlKXt0aGlzLl9zaW5nbGVDYW52YXMmJiF0aGlzLl9uZWVkc01hbnVhbGx5Q29tcG9zaXRpbmcmJih0PVRyKTt2YXIgaT10aGlzLl9sYXllcnNbdF07cmV0dXJuIGl8fCgoaT1uZXcgQ2koXCJ6cl9cIit0LHRoaXMsdGhpcy5kcHIpKS56bGV2ZWw9dCxpLl9fYnVpbHRpbl9fPSEwLHRoaXMuX2xheWVyQ29uZmlnW3RdJiZwKGksdGhpcy5fbGF5ZXJDb25maWdbdF0sITApLGUmJihpLnZpcnR1YWw9ZSksdGhpcy5pbnNlcnRMYXllcih0LGkpLGkuaW5pdENvbnRleHQoKSksaX0saW5zZXJ0TGF5ZXI6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9sYXllcnMscj10aGlzLl96bGV2ZWxMaXN0LG49ci5sZW5ndGgsYT1udWxsLG89LTEscz10aGlzLl9kb21Sb290O2lmKGlbdF0pWGUoXCJaTGV2ZWwgXCIrdCtcIiBoYXMgYmVlbiB1c2VkIGFscmVhZHlcIik7ZWxzZSBpZihmdW5jdGlvbih0KXtyZXR1cm4hIXQmJighIXQuX19idWlsdGluX198fFwiZnVuY3Rpb25cIj09dHlwZW9mIHQucmVzaXplJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnJlZnJlc2gpfShlKSl7aWYoMDxuJiZ0PnJbMF0pe2ZvcihvPTA7bzxuLTEmJiEocltvXTx0JiZyW28rMV0+dCk7bysrKTthPWlbcltvXV19aWYoci5zcGxpY2UobysxLDAsdCksIShpW3RdPWUpLnZpcnR1YWwpaWYoYSl7dmFyIGg9YS5kb207aC5uZXh0U2libGluZz9zLmluc2VydEJlZm9yZShlLmRvbSxoLm5leHRTaWJsaW5nKTpzLmFwcGVuZENoaWxkKGUuZG9tKX1lbHNlIHMuZmlyc3RDaGlsZD9zLmluc2VydEJlZm9yZShlLmRvbSxzLmZpcnN0Q2hpbGQpOnMuYXBwZW5kQ2hpbGQoZS5kb20pfWVsc2UgWGUoXCJMYXllciBvZiB6bGV2ZWwgXCIrdCtcIiBpcyBub3QgdmFsaWRcIil9LGVhY2hMYXllcjpmdW5jdGlvbih0LGUpe3ZhciBpLHIsbj10aGlzLl96bGV2ZWxMaXN0O2ZvcihyPTA7cjxuLmxlbmd0aDtyKyspaT1uW3JdLHQuY2FsbChlLHRoaXMuX2xheWVyc1tpXSxpKX0sZWFjaEJ1aWx0aW5MYXllcjpmdW5jdGlvbih0LGUpe3ZhciBpLHIsbixhPXRoaXMuX3psZXZlbExpc3Q7Zm9yKG49MDtuPGEubGVuZ3RoO24rKylyPWFbbl0sKGk9dGhpcy5fbGF5ZXJzW3JdKS5fX2J1aWx0aW5fXyYmdC5jYWxsKGUsaSxyKX0sZWFjaE90aGVyTGF5ZXI6ZnVuY3Rpb24odCxlKXt2YXIgaSxyLG4sYT10aGlzLl96bGV2ZWxMaXN0O2ZvcihuPTA7bjxhLmxlbmd0aDtuKyspcj1hW25dLChpPXRoaXMuX2xheWVyc1tyXSkuX19idWlsdGluX198fHQuY2FsbChlLGkscil9LGdldExheWVyczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sYXllcnN9LF91cGRhdGVMYXllclN0YXR1czpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ImJihyLl9fZW5kSW5kZXghPT10JiYoci5fX2RpcnR5PSEwKSxyLl9fZW5kSW5kZXg9dCl9aWYodGhpcy5lYWNoQnVpbHRpbkxheWVyKGZ1bmN0aW9uKHQsZSl7dC5fX2RpcnR5PXQuX191c2VkPSExfSksdGhpcy5fc2luZ2xlQ2FudmFzKWZvcih2YXIgaT0xO2k8dC5sZW5ndGg7aSsrKXtpZigoYT10W2ldKS56bGV2ZWwhPT10W2ktMV0uemxldmVsfHxhLmluY3JlbWVudGFsKXt0aGlzLl9uZWVkc01hbnVhbGx5Q29tcG9zaXRpbmc9ITA7YnJlYWt9fXZhciByPW51bGwsbj0wO2ZvcihpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBhLG8scz0oYT10W2ldKS56bGV2ZWw7YS5pbmNyZW1lbnRhbD8oKG89dGhpcy5nZXRMYXllcihzKy4wMDEsdGhpcy5fbmVlZHNNYW51YWxseUNvbXBvc2l0aW5nKSkuaW5jcmVtZW50YWw9ITAsbj0xKTpvPXRoaXMuZ2V0TGF5ZXIocysoMDxuPy4wMTowKSx0aGlzLl9uZWVkc01hbnVhbGx5Q29tcG9zaXRpbmcpLG8uX19idWlsdGluX198fFhlKFwiWkxldmVsIFwiK3MrXCIgaGFzIGJlZW4gdXNlZCBieSB1bmtvd24gbGF5ZXIgXCIrby5pZCksbyE9PXImJihvLl9fdXNlZD0hMCxvLl9fc3RhcnRJbmRleCE9PWkmJihvLl9fZGlydHk9ITApLG8uX19zdGFydEluZGV4PWksby5pbmNyZW1lbnRhbD9vLl9fZHJhd0luZGV4PS0xOm8uX19kcmF3SW5kZXg9aSxlKGkpLHI9byksYS5fX2RpcnR5JiYoby5fX2RpcnR5PSEwLG8uaW5jcmVtZW50YWwmJm8uX19kcmF3SW5kZXg8MCYmKG8uX19kcmF3SW5kZXg9aSkpfWUoaSksdGhpcy5lYWNoQnVpbHRpbkxheWVyKGZ1bmN0aW9uKHQsZSl7IXQuX191c2VkJiYwPHQuZ2V0RWxlbWVudENvdW50KCkmJih0Ll9fZGlydHk9ITAsdC5fX3N0YXJ0SW5kZXg9dC5fX2VuZEluZGV4PXQuX19kcmF3SW5kZXg9MCksdC5fX2RpcnR5JiZ0Ll9fZHJhd0luZGV4PDAmJih0Ll9fZHJhd0luZGV4PXQuX19zdGFydEluZGV4KX0pfSxjbGVhcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2hCdWlsdGluTGF5ZXIodGhpcy5fY2xlYXJMYXllciksdGhpc30sX2NsZWFyTGF5ZXI6ZnVuY3Rpb24odCl7dC5jbGVhcigpfSxzZXRCYWNrZ3JvdW5kQ29sb3I6ZnVuY3Rpb24odCl7dGhpcy5fYmFja2dyb3VuZENvbG9yPXR9LGNvbmZpZ0xheWVyOmZ1bmN0aW9uKHQsZSl7aWYoZSl7dmFyIGk9dGhpcy5fbGF5ZXJDb25maWc7aVt0XT9wKGlbdF0sZSwhMCk6aVt0XT1lO2Zvcih2YXIgcj0wO3I8dGhpcy5femxldmVsTGlzdC5sZW5ndGg7cisrKXt2YXIgbj10aGlzLl96bGV2ZWxMaXN0W3JdO2lmKG49PT10fHxuPT09dCsuMDEpcCh0aGlzLl9sYXllcnNbbl0saVt0XSwhMCl9fX0sZGVsTGF5ZXI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbGF5ZXJzLGk9dGhpcy5femxldmVsTGlzdCxyPWVbdF07ciYmKHIuZG9tLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoci5kb20pLGRlbGV0ZSBlW3RdLGkuc3BsaWNlKHcoaSx0KSwxKSl9LHJlc2l6ZTpmdW5jdGlvbihlLGkpe2lmKHRoaXMuX2RvbVJvb3Quc3R5bGUpe3ZhciB0PXRoaXMuX2RvbVJvb3Q7dC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO3ZhciByPXRoaXMuX29wdHM7aWYobnVsbCE9ZSYmKHIud2lkdGg9ZSksbnVsbCE9aSYmKHIuaGVpZ2h0PWkpLGU9dGhpcy5fZ2V0U2l6ZSgwKSxpPXRoaXMuX2dldFNpemUoMSksdC5zdHlsZS5kaXNwbGF5PVwiXCIsdGhpcy5fd2lkdGghPT1lfHxpIT09dGhpcy5faGVpZ2h0KXtmb3IodmFyIG4gaW4gdC5zdHlsZS53aWR0aD1lK1wicHhcIix0LnN0eWxlLmhlaWdodD1pK1wicHhcIix0aGlzLl9sYXllcnMpdGhpcy5fbGF5ZXJzLmhhc093blByb3BlcnR5KG4pJiZ0aGlzLl9sYXllcnNbbl0ucmVzaXplKGUsaSk7VCh0aGlzLl9wcm9ncmVzc2l2ZUxheWVycyxmdW5jdGlvbih0KXt0LnJlc2l6ZShlLGkpfSksdGhpcy5yZWZyZXNoKCEwKX10aGlzLl93aWR0aD1lLHRoaXMuX2hlaWdodD1pfWVsc2V7aWYobnVsbD09ZXx8bnVsbD09aSlyZXR1cm47dGhpcy5fd2lkdGg9ZSx0aGlzLl9oZWlnaHQ9aSx0aGlzLmdldExheWVyKFRyKS5yZXNpemUoZSxpKX1yZXR1cm4gdGhpc30sY2xlYXJMYXllcjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9sYXllcnNbdF07ZSYmZS5jbGVhcigpfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5yb290LmlubmVySFRNTD1cIlwiLHRoaXMucm9vdD10aGlzLnN0b3JhZ2U9dGhpcy5fZG9tUm9vdD10aGlzLl9sYXllcnM9bnVsbH0sZ2V0UmVuZGVyZWRDYW52YXM6ZnVuY3Rpb24odCl7aWYodD10fHx7fSx0aGlzLl9zaW5nbGVDYW52YXMmJiF0aGlzLl9jb21wb3NpdGVNYW51YWxseSlyZXR1cm4gdGhpcy5fbGF5ZXJzW1RyXS5kb207dmFyIGU9bmV3IENpKFwiaW1hZ2VcIix0aGlzLHQucGl4ZWxSYXRpb3x8dGhpcy5kcHIpO2lmKGUuaW5pdENvbnRleHQoKSxlLmNsZWFyKCExLHQuYmFja2dyb3VuZENvbG9yfHx0aGlzLl9iYWNrZ3JvdW5kQ29sb3IpLHQucGl4ZWxSYXRpbzw9dGhpcy5kcHIpe3RoaXMucmVmcmVzaCgpO3ZhciBpPWUuZG9tLndpZHRoLHI9ZS5kb20uaGVpZ2h0LG49ZS5jdHg7dGhpcy5lYWNoTGF5ZXIoZnVuY3Rpb24odCl7dC5fX2J1aWx0aW5fXz9uLmRyYXdJbWFnZSh0LmRvbSwwLDAsaSxyKTp0LnJlbmRlclRvQ2FudmFzJiYoZS5jdHguc2F2ZSgpLHQucmVuZGVyVG9DYW52YXMoZS5jdHgpLGUuY3R4LnJlc3RvcmUoKSl9KX1lbHNlIGZvcih2YXIgYT17fSxvPXRoaXMuc3RvcmFnZS5nZXREaXNwbGF5TGlzdCghMCkscz0wO3M8by5sZW5ndGg7cysrKXt2YXIgaD1vW3NdO3RoaXMuX2RvUGFpbnRFbChoLGUsITAsYSl9cmV0dXJuIGUuZG9tfSxnZXRXaWR0aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93aWR0aH0sZ2V0SGVpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hlaWdodH0sX2dldFNpemU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fb3B0cyxpPVtcIndpZHRoXCIsXCJoZWlnaHRcIl1bdF0scj1bXCJjbGllbnRXaWR0aFwiLFwiY2xpZW50SGVpZ2h0XCJdW3RdLG49W1wicGFkZGluZ0xlZnRcIixcInBhZGRpbmdUb3BcIl1bdF0sYT1bXCJwYWRkaW5nUmlnaHRcIixcInBhZGRpbmdCb3R0b21cIl1bdF07aWYobnVsbCE9ZVtpXSYmXCJhdXRvXCIhPT1lW2ldKXJldHVybiBwYXJzZUZsb2F0KGVbaV0pO3ZhciBvPXRoaXMucm9vdCxzPWRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUobyk7cmV0dXJuKG9bcl18fFNyKHNbaV0pfHxTcihvLnN0eWxlW2ldKSktKFNyKHNbbl0pfHwwKS0oU3Ioc1thXSl8fDApfDB9LHBhdGhUb0ltYWdlOmZ1bmN0aW9uKHQsZSl7ZT1lfHx0aGlzLmRwcjt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLHI9aS5nZXRDb250ZXh0KFwiMmRcIiksbj10LmdldEJvdW5kaW5nUmVjdCgpLGE9dC5zdHlsZSxvPWEuc2hhZG93Qmx1ciplLHM9YS5zaGFkb3dPZmZzZXRYKmUsaD1hLnNoYWRvd09mZnNldFkqZSxsPWEuaGFzU3Ryb2tlKCk/YS5saW5lV2lkdGg6MCx1PU1hdGgubWF4KGwvMixvLXMpLGM9TWF0aC5tYXgobC8yLHMrbyksZj1NYXRoLm1heChsLzIsby1oKSxkPU1hdGgubWF4KGwvMixoK28pLHA9bi53aWR0aCt1K2Msdj1uLmhlaWdodCtmK2Q7aS53aWR0aD1wKmUsaS5oZWlnaHQ9diplLHIuc2NhbGUoZSxlKSxyLmNsZWFyUmVjdCgwLDAscCx2KSxyLmRwcj1lO3ZhciBnPXtwb3NpdGlvbjp0LnBvc2l0aW9uLHJvdGF0aW9uOnQucm90YXRpb24sc2NhbGU6dC5zY2FsZX07dC5wb3NpdGlvbj1bdS1uLngsZi1uLnldLHQucm90YXRpb249MCx0LnNjYWxlPVsxLDFdLHQudXBkYXRlVHJhbnNmb3JtKCksdCYmdC5icnVzaChyKTt2YXIgXz1uZXcga3Ioe3N0eWxlOnt4OjAseTowLGltYWdlOml9fSk7cmV0dXJuIG51bGwhPWcucG9zaXRpb24mJihfLnBvc2l0aW9uPXQucG9zaXRpb249Zy5wb3NpdGlvbiksbnVsbCE9Zy5yb3RhdGlvbiYmKF8ucm90YXRpb249dC5yb3RhdGlvbj1nLnJvdGF0aW9uKSxudWxsIT1nLnNjYWxlJiYoXy5zY2FsZT10LnNjYWxlPWcuc2NhbGUpLF99fTtmdW5jdGlvbiBBcih0KXt0PXR8fHt9LHRoaXMuc3RhZ2U9dC5zdGFnZXx8e30sdGhpcy5vbmZyYW1lPXQub25mcmFtZXx8ZnVuY3Rpb24oKXt9LHRoaXMuX2NsaXBzPVtdLHRoaXMuX3J1bm5pbmc9ITEsdGhpcy5fdGltZSx0aGlzLl9wYXVzZWRUaW1lLHRoaXMuX3BhdXNlU3RhcnQsdGhpcy5fcGF1c2VkPSExLHV0LmNhbGwodGhpcyl9QXIucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpBcixhZGRDbGlwOmZ1bmN0aW9uKHQpe3RoaXMuX2NsaXBzLnB1c2godCl9LGFkZEFuaW1hdG9yOmZ1bmN0aW9uKHQpe3QuYW5pbWF0aW9uPXRoaXM7Zm9yKHZhciBlPXQuZ2V0Q2xpcHMoKSxpPTA7aTxlLmxlbmd0aDtpKyspdGhpcy5hZGRDbGlwKGVbaV0pfSxyZW1vdmVDbGlwOmZ1bmN0aW9uKHQpe3ZhciBlPXcodGhpcy5fY2xpcHMsdCk7MDw9ZSYmdGhpcy5fY2xpcHMuc3BsaWNlKGUsMSl9LHJlbW92ZUFuaW1hdG9yOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LmdldENsaXBzKCksaT0wO2k8ZS5sZW5ndGg7aSsrKXRoaXMucmVtb3ZlQ2xpcChlW2ldKTt0LmFuaW1hdGlvbj1udWxsfSxfdXBkYXRlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PShuZXcgRGF0ZSkuZ2V0VGltZSgpLXRoaXMuX3BhdXNlZFRpbWUsZT10LXRoaXMuX3RpbWUsaT10aGlzLl9jbGlwcyxyPWkubGVuZ3RoLG49W10sYT1bXSxvPTA7bzxyO28rKyl7dmFyIHM9aVtvXSxoPXMuc3RlcCh0LGUpO2gmJihuLnB1c2goaCksYS5wdXNoKHMpKX1mb3Iobz0wO288cjspaVtvXS5fbmVlZHNSZW1vdmU/KGlbb109aVtyLTFdLGkucG9wKCksci0tKTpvKys7cj1uLmxlbmd0aDtmb3Iobz0wO288cjtvKyspYVtvXS5maXJlKG5bb10pO3RoaXMuX3RpbWU9dCx0aGlzLm9uZnJhbWUoZSksdGhpcy50cmlnZ2VyKFwiZnJhbWVcIixlKSx0aGlzLnN0YWdlLnVwZGF0ZSYmdGhpcy5zdGFnZS51cGRhdGUoKX0sX3N0YXJ0TG9vcDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5fcnVubmluZz0hMCxNaShmdW5jdGlvbiB0KCl7ZS5fcnVubmluZyYmKE1pKHQpLGUuX3BhdXNlZHx8ZS5fdXBkYXRlKCkpfSl9LHN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5fdGltZT0obmV3IERhdGUpLmdldFRpbWUoKSx0aGlzLl9wYXVzZWRUaW1lPTAsdGhpcy5fc3RhcnRMb29wKCl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLl9ydW5uaW5nPSExfSxwYXVzZTpmdW5jdGlvbigpe3RoaXMuX3BhdXNlZHx8KHRoaXMuX3BhdXNlU3RhcnQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksdGhpcy5fcGF1c2VkPSEwKX0scmVzdW1lOmZ1bmN0aW9uKCl7dGhpcy5fcGF1c2VkJiYodGhpcy5fcGF1c2VkVGltZSs9KG5ldyBEYXRlKS5nZXRUaW1lKCktdGhpcy5fcGF1c2VTdGFydCx0aGlzLl9wYXVzZWQ9ITEpfSxjbGVhcjpmdW5jdGlvbigpe3RoaXMuX2NsaXBzPVtdfSxpc0ZpbmlzaGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuX2NsaXBzLmxlbmd0aH0sYW5pbWF0ZTpmdW5jdGlvbih0LGUpe3ZhciBpPW5ldyBGZSh0LChlPWV8fHt9KS5sb29wLGUuZ2V0dGVyLGUuc2V0dGVyKTtyZXR1cm4gdGhpcy5hZGRBbmltYXRvcihpKSxpfX0sayhBcix1dCk7dmFyIExyLHpyLERyPV8uZG9tU3VwcG9ydGVkLEJyPSh6cj17cG9pbnRlcmRvd246MSxwb2ludGVydXA6MSxwb2ludGVybW92ZToxLHBvaW50ZXJvdXQ6MX0se21vdXNlOkxyPVtcImNsaWNrXCIsXCJkYmxjbGlja1wiLFwibW91c2V3aGVlbFwiLFwibW91c2VvdXRcIixcIm1vdXNldXBcIixcIm1vdXNlZG93blwiLFwibW91c2Vtb3ZlXCIsXCJjb250ZXh0bWVudVwiXSx0b3VjaDpbXCJ0b3VjaHN0YXJ0XCIsXCJ0b3VjaGVuZFwiLFwidG91Y2htb3ZlXCJdLHBvaW50ZXI6UyhMcixmdW5jdGlvbih0KXt2YXIgZT10LnJlcGxhY2UoXCJtb3VzZVwiLFwicG9pbnRlclwiKTtyZXR1cm4genIuaGFzT3duUHJvcGVydHkoZSk/ZTp0fSl9KSxJcj17bW91c2U6W1wibW91c2Vtb3ZlXCIsXCJtb3VzZXVwXCJdLHBvaW50ZXI6W1wicG9pbnRlcm1vdmVcIixcInBvaW50ZXJ1cFwiXX07ZnVuY3Rpb24gT3IodCl7cmV0dXJuXCJtb3VzZXdoZWVsXCI9PT10JiZfLmJyb3dzZXIuZmlyZWZveD9cIkRPTU1vdXNlU2Nyb2xsXCI6dH1mdW5jdGlvbiBFcih0KXt2YXIgZT10LnBvaW50ZXJUeXBlO3JldHVyblwicGVuXCI9PT1lfHxcInRvdWNoXCI9PT1lfWZ1bmN0aW9uIFJyKHQpe3QmJih0LnpyQnlUb3VjaD0hMCl9ZnVuY3Rpb24gRnIodCxlKXtmb3IodmFyIGk9ITE7KGU9ZSYmZS5wYXJlbnROb2RlKSYmOSE9PWUubm9kZVR5cGUmJiEoaT1lPT09dC5wYWludGVyUm9vdCk7KTtyZXR1cm4gaX1mdW5jdGlvbiBIcih0LGUpe3RoaXMudHlwZT1lLnR5cGUsdGhpcy50YXJnZXQ9dGhpcy5jdXJyZW50VGFyZ2V0PXQuZG9tLHRoaXMucG9pbnRlclR5cGU9ZS5wb2ludGVyVHlwZSx0aGlzLmNsaWVudFg9ZS5jbGllbnRYLHRoaXMuY2xpZW50WT1lLmNsaWVudFl9dmFyIE5yPUhyLnByb3RvdHlwZTtOci5zdG9wUHJvcGFnYXRpb249TnIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uPU5yLnByZXZlbnREZWZhdWx0PVc7dmFyIFdyPXttb3VzZWRvd246ZnVuY3Rpb24odCl7dD1idCh0aGlzLmRvbSx0KSx0aGlzLl9tYXlQb2ludGVyQ2FwdHVyZT1bdC56clgsdC56clldLHRoaXMudHJpZ2dlcihcIm1vdXNlZG93blwiLHQpfSxtb3VzZW1vdmU6ZnVuY3Rpb24odCl7dD1idCh0aGlzLmRvbSx0KTt2YXIgZT10aGlzLl9tYXlQb2ludGVyQ2FwdHVyZTshZXx8dC56clg9PT1lWzBdJiZ0LnpyWT09PWVbMV18fFVyKHRoaXMsITApLHRoaXMudHJpZ2dlcihcIm1vdXNlbW92ZVwiLHQpfSxtb3VzZXVwOmZ1bmN0aW9uKHQpe3Q9YnQodGhpcy5kb20sdCksVXIodGhpcywhMSksdGhpcy50cmlnZ2VyKFwibW91c2V1cFwiLHQpfSxtb3VzZW91dDpmdW5jdGlvbih0KXt0PWJ0KHRoaXMuZG9tLHQpLHRoaXMuX3BvaW50ZXJDYXB0dXJpbmcmJih0LnpyRXZlbnRDb250cm9sPVwibm9fZ2xvYmFsb3V0XCIpO3ZhciBlPXQudG9FbGVtZW50fHx0LnJlbGF0ZWRUYXJnZXQ7dC56cklzVG9Mb2NhbERPTT1Gcih0aGlzLGUpLHRoaXMudHJpZ2dlcihcIm1vdXNlb3V0XCIsdCl9LHRvdWNoc3RhcnQ6ZnVuY3Rpb24odCl7UnIodD1idCh0aGlzLmRvbSx0KSksdGhpcy5fbGFzdFRvdWNoTW9tZW50PW5ldyBEYXRlLHRoaXMuaGFuZGxlci5wcm9jZXNzR2VzdHVyZSh0LFwic3RhcnRcIiksV3IubW91c2Vtb3ZlLmNhbGwodGhpcyx0KSxXci5tb3VzZWRvd24uY2FsbCh0aGlzLHQpfSx0b3VjaG1vdmU6ZnVuY3Rpb24odCl7UnIodD1idCh0aGlzLmRvbSx0KSksdGhpcy5oYW5kbGVyLnByb2Nlc3NHZXN0dXJlKHQsXCJjaGFuZ2VcIiksV3IubW91c2Vtb3ZlLmNhbGwodGhpcyx0KX0sdG91Y2hlbmQ6ZnVuY3Rpb24odCl7UnIodD1idCh0aGlzLmRvbSx0KSksdGhpcy5oYW5kbGVyLnByb2Nlc3NHZXN0dXJlKHQsXCJlbmRcIiksV3IubW91c2V1cC5jYWxsKHRoaXMsdCksK25ldyBEYXRlLXRoaXMuX2xhc3RUb3VjaE1vbWVudDwzMDAmJldyLmNsaWNrLmNhbGwodGhpcyx0KX0scG9pbnRlcmRvd246ZnVuY3Rpb24odCl7V3IubW91c2Vkb3duLmNhbGwodGhpcyx0KX0scG9pbnRlcm1vdmU6ZnVuY3Rpb24odCl7RXIodCl8fFdyLm1vdXNlbW92ZS5jYWxsKHRoaXMsdCl9LHBvaW50ZXJ1cDpmdW5jdGlvbih0KXtXci5tb3VzZXVwLmNhbGwodGhpcyx0KX0scG9pbnRlcm91dDpmdW5jdGlvbih0KXtFcih0KXx8V3IubW91c2VvdXQuY2FsbCh0aGlzLHQpfX07VChbXCJjbGlja1wiLFwibW91c2V3aGVlbFwiLFwiZGJsY2xpY2tcIixcImNvbnRleHRtZW51XCJdLGZ1bmN0aW9uKGUpe1dyW2VdPWZ1bmN0aW9uKHQpe3Q9YnQodGhpcy5kb20sdCksdGhpcy50cmlnZ2VyKGUsdCl9fSk7dmFyIFZyPXtwb2ludGVybW92ZTpmdW5jdGlvbih0KXtFcih0KXx8VnIubW91c2Vtb3ZlLmNhbGwodGhpcyx0KX0scG9pbnRlcnVwOmZ1bmN0aW9uKHQpe1ZyLm1vdXNldXAuY2FsbCh0aGlzLHQpfSxtb3VzZW1vdmU6ZnVuY3Rpb24odCl7dGhpcy50cmlnZ2VyKFwibW91c2Vtb3ZlXCIsdCl9LG1vdXNldXA6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcG9pbnRlckNhcHR1cmluZztVcih0aGlzLCExKSx0aGlzLnRyaWdnZXIoXCJtb3VzZXVwXCIsdCksZSYmKHQuenJFdmVudENvbnRyb2w9XCJvbmx5X2dsb2JhbG91dFwiLHRoaXMudHJpZ2dlcihcIm1vdXNlb3V0XCIsdCkpfX07ZnVuY3Rpb24gWHIoaSxyKXt2YXIgbj1yLmRvbUhhbmRsZXJzO18ucG9pbnRlckV2ZW50c1N1cHBvcnRlZD9UKEJyLnBvaW50ZXIsZnVuY3Rpb24oZSl7anIocixlLGZ1bmN0aW9uKHQpe25bZV0uY2FsbChpLHQpfSl9KTooXy50b3VjaEV2ZW50c1N1cHBvcnRlZCYmVChCci50b3VjaCxmdW5jdGlvbihlKXtqcihyLGUsZnVuY3Rpb24odCl7bltlXS5jYWxsKGksdCksZnVuY3Rpb24odCl7dC50b3VjaGluZz0hMCxudWxsIT10LnRvdWNoVGltZXImJihjbGVhclRpbWVvdXQodC50b3VjaFRpbWVyKSx0LnRvdWNoVGltZXI9bnVsbCksdC50b3VjaFRpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LnRvdWNoaW5nPSExLHQudG91Y2hUaW1lcj1udWxsfSw3MDApfShyKX0pfSksVChCci5tb3VzZSxmdW5jdGlvbihlKXtqcihyLGUsZnVuY3Rpb24odCl7dD13dCh0KSxyLnRvdWNoaW5nfHxuW2VdLmNhbGwoaSx0KX0pfSkpfWZ1bmN0aW9uIHFyKGkscil7ZnVuY3Rpb24gdChlKXtqcihyLGUsZnVuY3Rpb24odCl7dD13dCh0KSxGcihpLHQudGFyZ2V0KXx8KHQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYnQodC5kb20sbmV3IEhyKHQsZSksITApfShpLHQpLHIuZG9tSGFuZGxlcnNbZV0uY2FsbChpLHQpKX0se2NhcHR1cmU6ITB9KX1fLnBvaW50ZXJFdmVudHNTdXBwb3J0ZWQ/VChJci5wb2ludGVyLHQpOl8udG91Y2hFdmVudHNTdXBwb3J0ZWR8fFQoSXIubW91c2UsdCl9ZnVuY3Rpb24ganIodCxlLGkscil7dC5tb3VudGVkW2VdPWksdC5saXN0ZW5lck9wdHNbZV09cixmdW5jdGlvbih0LGUsaSxyKXt2dD90LmFkZEV2ZW50TGlzdGVuZXIoZSxpLHIpOnQuYXR0YWNoRXZlbnQoXCJvblwiK2UsaSl9KHQuZG9tVGFyZ2V0LE9yKGUpLGkscil9ZnVuY3Rpb24gWXIodCl7dmFyIGUsaSxyLG4sYT10Lm1vdW50ZWQ7Zm9yKHZhciBvIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShvKSYmKGU9dC5kb21UYXJnZXQsaT1PcihvKSxyPWFbb10sbj10Lmxpc3RlbmVyT3B0c1tvXSx2dD9lLnJlbW92ZUV2ZW50TGlzdGVuZXIoaSxyLG4pOmUuZGV0YWNoRXZlbnQoXCJvblwiK2kscikpO3QubW91bnRlZD17fX1mdW5jdGlvbiBVcih0LGUpe2lmKHQuX21heVBvaW50ZXJDYXB0dXJlPW51bGwsRHImJnQuX3BvaW50ZXJDYXB0dXJpbmdeZSl7dC5fcG9pbnRlckNhcHR1cmluZz1lO3ZhciBpPXQuX2dsb2JhbEhhbmRsZXJTY29wZTtlP3FyKHQsaSk6WXIoaSl9fWZ1bmN0aW9uIEdyKHQsZSl7dGhpcy5kb21UYXJnZXQ9dCx0aGlzLmRvbUhhbmRsZXJzPWUsdGhpcy5tb3VudGVkPXt9LHRoaXMubGlzdGVuZXJPcHRzPXt9LHRoaXMudG91Y2hUaW1lcj1udWxsLHRoaXMudG91Y2hpbmc9ITF9ZnVuY3Rpb24gWnIodCxlKXt1dC5jYWxsKHRoaXMpLHRoaXMuZG9tPXQsdGhpcy5wYWludGVyUm9vdD1lLHRoaXMuX2xvY2FsSGFuZGxlclNjb3BlPW5ldyBHcih0LFdyKSxEciYmKHRoaXMuX2dsb2JhbEhhbmRsZXJTY29wZT1uZXcgR3IoZG9jdW1lbnQsVnIpKSx0aGlzLl9wb2ludGVyQ2FwdHVyaW5nPSExLHRoaXMuX21heVBvaW50ZXJDYXB0dXJlPW51bGwsWHIodGhpcyx0aGlzLl9sb2NhbEhhbmRsZXJTY29wZSl9dmFyIFFyPVpyLnByb3RvdHlwZTtRci5kaXNwb3NlPWZ1bmN0aW9uKCl7WXIodGhpcy5fbG9jYWxIYW5kbGVyU2NvcGUpLERyJiZZcih0aGlzLl9nbG9iYWxIYW5kbGVyU2NvcGUpfSxRci5zZXRDdXJzb3I9ZnVuY3Rpb24odCl7dGhpcy5kb20uc3R5bGUmJih0aGlzLmRvbS5zdHlsZS5jdXJzb3I9dHx8XCJkZWZhdWx0XCIpfSxrKFpyLHV0KTt2YXIgJHI9IV8uY2FudmFzU3VwcG9ydGVkLEtyPXtjYW52YXM6UHJ9LEpyPXt9O2Z1bmN0aW9uIHRuKHQsZSl7S3JbdF09ZX1mdW5jdGlvbiBlbih0LGUsaSl7aT1pfHx7fSx0aGlzLmRvbT1lLHRoaXMuaWQ9dDt2YXIgcj10aGlzLG49bmV3IGNpLGE9aS5yZW5kZXJlcjtpZigkcil7aWYoIUtyLnZtbCl0aHJvdyBuZXcgRXJyb3IoXCJZb3UgbmVlZCB0byByZXF1aXJlICd6cmVuZGVyL3ZtbC92bWwnIHRvIHN1cHBvcnQgSUU4XCIpO2E9XCJ2bWxcIn1lbHNlIGEmJktyW2FdfHwoYT1cImNhbnZhc1wiKTt2YXIgbz1uZXcgS3JbYV0oZSxuLGksdCk7dGhpcy5zdG9yYWdlPW4sdGhpcy5wYWludGVyPW87dmFyIHM9Xy5ub2RlfHxfLndvcmtlcj9udWxsOm5ldyBacihvLmdldFZpZXdwb3J0Um9vdCgpLG8ucm9vdCk7dGhpcy5oYW5kbGVyPW5ldyBMdChuLG8scyxvLnJvb3QpLHRoaXMuYW5pbWF0aW9uPW5ldyBBcih7c3RhZ2U6e3VwZGF0ZTpDKHRoaXMuZmx1c2gsdGhpcyl9fSksdGhpcy5hbmltYXRpb24uc3RhcnQoKSx0aGlzLl9uZWVkc1JlZnJlc2g7dmFyIGg9bi5kZWxGcm9tU3RvcmFnZSxsPW4uYWRkVG9TdG9yYWdlO24uZGVsRnJvbVN0b3JhZ2U9ZnVuY3Rpb24odCl7aC5jYWxsKG4sdCksdCYmdC5yZW1vdmVTZWxmRnJvbVpyKHIpfSxuLmFkZFRvU3RvcmFnZT1mdW5jdGlvbih0KXtsLmNhbGwobix0KSx0LmFkZFNlbGZUb1pyKHIpfX1lbi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmVuLGdldElkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaWR9LGFkZDpmdW5jdGlvbih0KXt0aGlzLnN0b3JhZ2UuYWRkUm9vdCh0KSx0aGlzLl9uZWVkc1JlZnJlc2g9ITB9LHJlbW92ZTpmdW5jdGlvbih0KXt0aGlzLnN0b3JhZ2UuZGVsUm9vdCh0KSx0aGlzLl9uZWVkc1JlZnJlc2g9ITB9LGNvbmZpZ0xheWVyOmZ1bmN0aW9uKHQsZSl7dGhpcy5wYWludGVyLmNvbmZpZ0xheWVyJiZ0aGlzLnBhaW50ZXIuY29uZmlnTGF5ZXIodCxlKSx0aGlzLl9uZWVkc1JlZnJlc2g9ITB9LHNldEJhY2tncm91bmRDb2xvcjpmdW5jdGlvbih0KXt0aGlzLnBhaW50ZXIuc2V0QmFja2dyb3VuZENvbG9yJiZ0aGlzLnBhaW50ZXIuc2V0QmFja2dyb3VuZENvbG9yKHQpLHRoaXMuX25lZWRzUmVmcmVzaD0hMH0scmVmcmVzaEltbWVkaWF0ZWx5OmZ1bmN0aW9uKCl7dGhpcy5fbmVlZHNSZWZyZXNoPXRoaXMuX25lZWRzUmVmcmVzaEhvdmVyPSExLHRoaXMucGFpbnRlci5yZWZyZXNoKCksdGhpcy5fbmVlZHNSZWZyZXNoPXRoaXMuX25lZWRzUmVmcmVzaEhvdmVyPSExfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fbmVlZHNSZWZyZXNoPSEwfSxmbHVzaDpmdW5jdGlvbigpe3ZhciB0O3RoaXMuX25lZWRzUmVmcmVzaCYmKHQ9ITAsdGhpcy5yZWZyZXNoSW1tZWRpYXRlbHkoKSksdGhpcy5fbmVlZHNSZWZyZXNoSG92ZXImJih0PSEwLHRoaXMucmVmcmVzaEhvdmVySW1tZWRpYXRlbHkoKSksdCYmdGhpcy50cmlnZ2VyKFwicmVuZGVyZWRcIil9LGFkZEhvdmVyOmZ1bmN0aW9uKHQsZSl7aWYodGhpcy5wYWludGVyLmFkZEhvdmVyKXt2YXIgaT10aGlzLnBhaW50ZXIuYWRkSG92ZXIodCxlKTtyZXR1cm4gdGhpcy5yZWZyZXNoSG92ZXIoKSxpfX0scmVtb3ZlSG92ZXI6ZnVuY3Rpb24odCl7dGhpcy5wYWludGVyLnJlbW92ZUhvdmVyJiYodGhpcy5wYWludGVyLnJlbW92ZUhvdmVyKHQpLHRoaXMucmVmcmVzaEhvdmVyKCkpfSxjbGVhckhvdmVyOmZ1bmN0aW9uKCl7dGhpcy5wYWludGVyLmNsZWFySG92ZXImJih0aGlzLnBhaW50ZXIuY2xlYXJIb3ZlcigpLHRoaXMucmVmcmVzaEhvdmVyKCkpfSxyZWZyZXNoSG92ZXI6ZnVuY3Rpb24oKXt0aGlzLl9uZWVkc1JlZnJlc2hIb3Zlcj0hMH0scmVmcmVzaEhvdmVySW1tZWRpYXRlbHk6ZnVuY3Rpb24oKXt0aGlzLl9uZWVkc1JlZnJlc2hIb3Zlcj0hMSx0aGlzLnBhaW50ZXIucmVmcmVzaEhvdmVyJiZ0aGlzLnBhaW50ZXIucmVmcmVzaEhvdmVyKCl9LHJlc2l6ZTpmdW5jdGlvbih0KXt0PXR8fHt9LHRoaXMucGFpbnRlci5yZXNpemUodC53aWR0aCx0LmhlaWdodCksdGhpcy5oYW5kbGVyLnJlc2l6ZSgpfSxjbGVhckFuaW1hdGlvbjpmdW5jdGlvbigpe3RoaXMuYW5pbWF0aW9uLmNsZWFyKCl9LGdldFdpZHRoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFpbnRlci5nZXRXaWR0aCgpfSxnZXRIZWlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYWludGVyLmdldEhlaWdodCgpfSxwYXRoVG9JbWFnZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnBhaW50ZXIucGF0aFRvSW1hZ2UodCxlKX0sc2V0Q3Vyc29yU3R5bGU6ZnVuY3Rpb24odCl7dGhpcy5oYW5kbGVyLnNldEN1cnNvclN0eWxlKHQpfSxmaW5kSG92ZXI6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5oYW5kbGVyLmZpbmRIb3Zlcih0LGUpfSxvbjpmdW5jdGlvbih0LGUsaSl7dGhpcy5oYW5kbGVyLm9uKHQsZSxpKX0sb2ZmOmZ1bmN0aW9uKHQsZSl7dGhpcy5oYW5kbGVyLm9mZih0LGUpfSx0cmlnZ2VyOmZ1bmN0aW9uKHQsZSl7dGhpcy5oYW5kbGVyLnRyaWdnZXIodCxlKX0sY2xlYXI6ZnVuY3Rpb24oKXt0aGlzLnN0b3JhZ2UuZGVsUm9vdCgpLHRoaXMucGFpbnRlci5jbGVhcigpfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5hbmltYXRpb24uc3RvcCgpLHRoaXMuY2xlYXIoKSx0aGlzLnN0b3JhZ2UuZGlzcG9zZSgpLHRoaXMucGFpbnRlci5kaXNwb3NlKCksdGhpcy5oYW5kbGVyLmRpc3Bvc2UoKSx0aGlzLmFuaW1hdGlvbj10aGlzLnN0b3JhZ2U9dGhpcy5wYWludGVyPXRoaXMuaGFuZGxlcj1udWxsLGZ1bmN0aW9uKHQpe2RlbGV0ZSBKclt0XX0odGhpcy5pZCl9fTt2YXIgcm49TWF0aC5wb3csbm49TWF0aC5zcXJ0LGFuPTFlLTgsb249MWUtNCxzbj1ubigzKSxobj0xLzMsbG49cSgpLHVuPXEoKSxjbj1xKCk7ZnVuY3Rpb24gZm4odCl7cmV0dXJuLWFuPHQmJnQ8YW59ZnVuY3Rpb24gZG4odCl7cmV0dXJuIGFuPHR8fHQ8LWFufWZ1bmN0aW9uIHBuKHQsZSxpLHIsbil7dmFyIGE9MS1uO3JldHVybiBhKmEqKGEqdCszKm4qZSkrbipuKihuKnIrMyphKmkpfWZ1bmN0aW9uIHZuKHQsZSxpLHIsbil7dmFyIGE9MS1uO3JldHVybiAzKigoKGUtdCkqYSsyKihpLWUpKm4pKmErKHItaSkqbipuKX1mdW5jdGlvbiBnbih0LGUsaSxyLG4pe3ZhciBhPTYqaS0xMiplKzYqdCxvPTkqZSszKnItMyp0LTkqaSxzPTMqZS0zKnQsaD0wO2lmKGZuKG8pKXtpZihkbihhKSkwPD0odT0tcy9hKSYmdTw9MSYmKG5baCsrXT11KX1lbHNle3ZhciBsPWEqYS00Km8qcztpZihmbihsKSluWzBdPS1hLygyKm8pO2Vsc2UgaWYoMDxsKXt2YXIgdSxjPW5uKGwpLGY9KC1hLWMpLygyKm8pOzA8PSh1PSgtYStjKS8oMipvKSkmJnU8PTEmJihuW2grK109dSksMDw9ZiYmZjw9MSYmKG5baCsrXT1mKX19cmV0dXJuIGh9ZnVuY3Rpb24gX24odCxlLGkscixuLGEpe3ZhciBvPShlLXQpKm4rdCxzPShpLWUpKm4rZSxoPShyLWkpKm4raSxsPShzLW8pKm4rbyx1PShoLXMpKm4rcyxjPSh1LWwpKm4rbDthWzBdPXQsYVsxXT1vLGFbMl09bCxhWzNdPWMsYVs0XT1jLGFbNV09dSxhWzZdPWgsYVs3XT1yfWZ1bmN0aW9uIG1uKHQsZSxpLHIpe3ZhciBuPTEtcjtyZXR1cm4gbioobip0KzIqciplKStyKnIqaX1mdW5jdGlvbiB5bih0LGUsaSxyKXtyZXR1cm4gMiooKDEtcikqKGUtdCkrciooaS1lKSl9ZnVuY3Rpb24geG4odCxlLGkpe3ZhciByPXQraS0yKmU7cmV0dXJuIDA9PXI/LjU6KHQtZSkvcn1mdW5jdGlvbiB3bih0LGUsaSxyLG4pe3ZhciBhPShlLXQpKnIrdCxvPShpLWUpKnIrZSxzPShvLWEpKnIrYTtuWzBdPXQsblsxXT1hLG5bMl09cyxuWzNdPXMsbls0XT1vLG5bNV09aX12YXIgYm49TWF0aC5taW4sa249TWF0aC5tYXgsVG49TWF0aC5zaW4sU249TWF0aC5jb3MsQ249MipNYXRoLlBJLE1uPXEoKSxQbj1xKCksQW49cSgpO2Z1bmN0aW9uIExuKHQsZSxpLHIsbixhKXtuWzBdPWJuKHQsaSksblsxXT1ibihlLHIpLGFbMF09a24odCxpKSxhWzFdPWtuKGUscil9dmFyIHpuPVtdLERuPVtdO2Z1bmN0aW9uIEJuKHQsZSxpLHIsbixhLG8scyxoLGwpe3ZhciB1LGM9Z24sZj1wbixkPWModCxpLG4sbyx6bik7Zm9yKGhbMF09MS8wLGhbMV09MS8wLGxbMF09LTEvMCxsWzFdPS0xLzAsdT0wO3U8ZDt1Kyspe3ZhciBwPWYodCxpLG4sbyx6blt1XSk7aFswXT1ibihwLGhbMF0pLGxbMF09a24ocCxsWzBdKX1mb3IoZD1jKGUscixhLHMsRG4pLHU9MDt1PGQ7dSsrKXt2YXIgdj1mKGUscixhLHMsRG5bdV0pO2hbMV09Ym4odixoWzFdKSxsWzFdPWtuKHYsbFsxXSl9aFswXT1ibih0LGhbMF0pLGxbMF09a24odCxsWzBdKSxoWzBdPWJuKG8saFswXSksbFswXT1rbihvLGxbMF0pLGhbMV09Ym4oZSxoWzFdKSxsWzFdPWtuKGUsbFsxXSksaFsxXT1ibihzLGhbMV0pLGxbMV09a24ocyxsWzFdKX1mdW5jdGlvbiBJbih0LGUsaSxyLG4sYSxvLHMsaCl7dmFyIGw9YXQsdT1vdCxjPU1hdGguYWJzKG4tYSk7aWYoYyVDbjwxZS00JiYxZS00PGMpcmV0dXJuIHNbMF09dC1pLHNbMV09ZS1yLGhbMF09dCtpLHZvaWQoaFsxXT1lK3IpO2lmKE1uWzBdPVNuKG4pKmkrdCxNblsxXT1UbihuKSpyK2UsUG5bMF09U24oYSkqaSt0LFBuWzFdPVRuKGEpKnIrZSxsKHMsTW4sUG4pLHUoaCxNbixQbiksKG4lPUNuKTwwJiYobis9Q24pLChhJT1Dbik8MCYmKGErPUNuKSxhPG4mJiFvP2ErPUNuOm48YSYmbyYmKG4rPUNuKSxvKXt2YXIgZj1hO2E9bixuPWZ9Zm9yKHZhciBkPTA7ZDxhO2QrPU1hdGguUEkvMiluPGQmJihBblswXT1TbihkKSppK3QsQW5bMV09VG4oZCkqcitlLGwocyxBbixzKSx1KGgsQW4saCkpfXZhciBPbj17TToxLEw6MixDOjMsUTo0LEE6NSxaOjYsUjo3fSxFbj1bXSxSbj1bXSxGbj1bXSxIbj1bXSxObj1NYXRoLm1pbixXbj1NYXRoLm1heCxWbj1NYXRoLmNvcyxYbj1NYXRoLnNpbixxbj1NYXRoLnNxcnQsam49TWF0aC5hYnMsWW49XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEZsb2F0MzJBcnJheSxVbj1mdW5jdGlvbih0KXt0aGlzLl9zYXZlRGF0YT0hdCx0aGlzLl9zYXZlRGF0YSYmKHRoaXMuZGF0YT1bXSksdGhpcy5fY3R4PW51bGx9O2Z1bmN0aW9uIEduKHQsZSxpLHIsbixhLG8pe2lmKDA9PT1uKXJldHVybiExO3ZhciBzPW4saD0wO2lmKGUrczxvJiZyK3M8b3x8bzxlLXMmJm88ci1zfHx0K3M8YSYmaStzPGF8fGE8dC1zJiZhPGktcylyZXR1cm4hMTtpZih0PT09aSlyZXR1cm4gTWF0aC5hYnMoYS10KTw9cy8yO3ZhciBsPShoPShlLXIpLyh0LWkpKSphLW8rKHQqci1pKmUpLyh0LWkpO3JldHVybiBsKmwvKGgqaCsxKTw9cy8yKnMvMn1mdW5jdGlvbiBabih0LGUsaSxyLG4sYSxvLHMsaCxsLHUpe2lmKDA9PT1oKXJldHVybiExO3ZhciBjPWg7cmV0dXJuIShlK2M8dSYmcitjPHUmJmErYzx1JiZzK2M8dXx8dTxlLWMmJnU8ci1jJiZ1PGEtYyYmdTxzLWN8fHQrYzxsJiZpK2M8bCYmbitjPGwmJm8rYzxsfHxsPHQtYyYmbDxpLWMmJmw8bi1jJiZsPG8tYykmJmZ1bmN0aW9uKHQsZSxpLHIsbixhLG8scyxoLGwsdSl7dmFyIGMsZixkLHAsdixnPS4wMDUsXz0xLzA7bG5bMF09aCxsblsxXT1sO2Zvcih2YXIgbT0wO208MTttKz0uMDUpdW5bMF09cG4odCxpLG4sbyxtKSx1blsxXT1wbihlLHIsYSxzLG0pLChwPXJ0KGxuLHVuKSk8XyYmKGM9bSxfPXApO189MS8wO2Zvcih2YXIgeT0wO3k8MzImJiEoZzxvbik7eSsrKWY9Yy1nLGQ9YytnLHVuWzBdPXBuKHQsaSxuLG8sZiksdW5bMV09cG4oZSxyLGEscyxmKSxwPXJ0KHVuLGxuKSwwPD1mJiZwPF8/KGM9ZixfPXApOihjblswXT1wbih0LGksbixvLGQpLGNuWzFdPXBuKGUscixhLHMsZCksdj1ydChjbixsbiksZDw9MSYmdjxfPyhjPWQsXz12KTpnKj0uNSk7cmV0dXJuIHUmJih1WzBdPXBuKHQsaSxuLG8sYyksdVsxXT1wbihlLHIsYSxzLGMpKSxubihfKX0odCxlLGkscixuLGEsbyxzLGwsdSxudWxsKTw9Yy8yfWZ1bmN0aW9uIFFuKHQsZSxpLHIsbixhLG8scyxoKXtpZigwPT09bylyZXR1cm4hMTt2YXIgbD1vO3JldHVybiEoZStsPGgmJnIrbDxoJiZhK2w8aHx8aDxlLWwmJmg8ci1sJiZoPGEtbHx8dCtsPHMmJmkrbDxzJiZuK2w8c3x8czx0LWwmJnM8aS1sJiZzPG4tbCkmJmZ1bmN0aW9uKHQsZSxpLHIsbixhLG8scyxoKXt2YXIgbCx1PS4wMDUsYz0xLzA7bG5bMF09byxsblsxXT1zO2Zvcih2YXIgZj0wO2Y8MTtmKz0uMDUpe3VuWzBdPW1uKHQsaSxuLGYpLHVuWzFdPW1uKGUscixhLGYpLChnPXJ0KGxuLHVuKSk8YyYmKGw9ZixjPWcpfWM9MS8wO2Zvcih2YXIgZD0wO2Q8MzImJiEodTxvbik7ZCsrKXt2YXIgcD1sLXUsdj1sK3U7dW5bMF09bW4odCxpLG4scCksdW5bMV09bW4oZSxyLGEscCk7dmFyIGc9cnQodW4sbG4pO2lmKDA8PXAmJmc8YylsPXAsYz1nO2Vsc2V7Y25bMF09bW4odCxpLG4sdiksY25bMV09bW4oZSxyLGEsdik7dmFyIF89cnQoY24sbG4pO3Y8PTEmJl88Yz8obD12LGM9Xyk6dSo9LjV9fXJldHVybiBoJiYoaFswXT1tbih0LGksbixsKSxoWzFdPW1uKGUscixhLGwpKSxubihjKX0odCxlLGkscixuLGEscyxoLG51bGwpPD1sLzJ9VW4ucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpVbixfeGk6MCxfeWk6MCxfeDA6MCxfeTA6MCxfdXg6MCxfdXk6MCxfbGVuOjAsX2xpbmVEYXNoOm51bGwsX2Rhc2hPZmZzZXQ6MCxfZGFzaElkeDowLF9kYXNoU3VtOjAsc2V0U2NhbGU6ZnVuY3Rpb24odCxlLGkpe2k9aXx8MCx0aGlzLl91eD1qbihpL05lL3QpfHwwLHRoaXMuX3V5PWpuKGkvTmUvZSl8fDB9LGdldENvbnRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3R4fSxiZWdpblBhdGg6ZnVuY3Rpb24odCl7cmV0dXJuKHRoaXMuX2N0eD10KSYmdC5iZWdpblBhdGgoKSx0JiYodGhpcy5kcHI9dC5kcHIpLHRoaXMuX3NhdmVEYXRhJiYodGhpcy5fbGVuPTApLHRoaXMuX2xpbmVEYXNoJiYodGhpcy5fbGluZURhc2g9bnVsbCx0aGlzLl9kYXNoT2Zmc2V0PTApLHRoaXN9LG1vdmVUbzpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmFkZERhdGEoT24uTSx0LGUpLHRoaXMuX2N0eCYmdGhpcy5fY3R4Lm1vdmVUbyh0LGUpLHRoaXMuX3gwPXQsdGhpcy5feTA9ZSx0aGlzLl94aT10LHRoaXMuX3lpPWUsdGhpc30sbGluZVRvOmZ1bmN0aW9uKHQsZSl7dmFyIGk9am4odC10aGlzLl94aSk+dGhpcy5fdXh8fGpuKGUtdGhpcy5feWkpPnRoaXMuX3V5fHx0aGlzLl9sZW48NTtyZXR1cm4gdGhpcy5hZGREYXRhKE9uLkwsdCxlKSx0aGlzLl9jdHgmJmkmJih0aGlzLl9uZWVkc0Rhc2goKT90aGlzLl9kYXNoZWRMaW5lVG8odCxlKTp0aGlzLl9jdHgubGluZVRvKHQsZSkpLGkmJih0aGlzLl94aT10LHRoaXMuX3lpPWUpLHRoaXN9LGJlemllckN1cnZlVG86ZnVuY3Rpb24odCxlLGkscixuLGEpe3JldHVybiB0aGlzLmFkZERhdGEoT24uQyx0LGUsaSxyLG4sYSksdGhpcy5fY3R4JiYodGhpcy5fbmVlZHNEYXNoKCk/dGhpcy5fZGFzaGVkQmV6aWVyVG8odCxlLGkscixuLGEpOnRoaXMuX2N0eC5iZXppZXJDdXJ2ZVRvKHQsZSxpLHIsbixhKSksdGhpcy5feGk9bix0aGlzLl95aT1hLHRoaXN9LHF1YWRyYXRpY0N1cnZlVG86ZnVuY3Rpb24odCxlLGkscil7cmV0dXJuIHRoaXMuYWRkRGF0YShPbi5RLHQsZSxpLHIpLHRoaXMuX2N0eCYmKHRoaXMuX25lZWRzRGFzaCgpP3RoaXMuX2Rhc2hlZFF1YWRyYXRpY1RvKHQsZSxpLHIpOnRoaXMuX2N0eC5xdWFkcmF0aWNDdXJ2ZVRvKHQsZSxpLHIpKSx0aGlzLl94aT1pLHRoaXMuX3lpPXIsdGhpc30sYXJjOmZ1bmN0aW9uKHQsZSxpLHIsbixhKXtyZXR1cm4gdGhpcy5hZGREYXRhKE9uLkEsdCxlLGksaSxyLG4tciwwLGE/MDoxKSx0aGlzLl9jdHgmJnRoaXMuX2N0eC5hcmModCxlLGkscixuLGEpLHRoaXMuX3hpPVZuKG4pKmkrdCx0aGlzLl95aT1YbihuKSppK2UsdGhpc30sYXJjVG86ZnVuY3Rpb24odCxlLGkscixuKXtyZXR1cm4gdGhpcy5fY3R4JiZ0aGlzLl9jdHguYXJjVG8odCxlLGkscixuKSx0aGlzfSxyZWN0OmZ1bmN0aW9uKHQsZSxpLHIpe3JldHVybiB0aGlzLl9jdHgmJnRoaXMuX2N0eC5yZWN0KHQsZSxpLHIpLHRoaXMuYWRkRGF0YShPbi5SLHQsZSxpLHIpLHRoaXN9LGNsb3NlUGF0aDpmdW5jdGlvbigpe3RoaXMuYWRkRGF0YShPbi5aKTt2YXIgdD10aGlzLl9jdHgsZT10aGlzLl94MCxpPXRoaXMuX3kwO3JldHVybiB0JiYodGhpcy5fbmVlZHNEYXNoKCkmJnRoaXMuX2Rhc2hlZExpbmVUbyhlLGkpLHQuY2xvc2VQYXRoKCkpLHRoaXMuX3hpPWUsdGhpcy5feWk9aSx0aGlzfSxmaWxsOmZ1bmN0aW9uKHQpe3QmJnQuZmlsbCgpLHRoaXMudG9TdGF0aWMoKX0sc3Ryb2tlOmZ1bmN0aW9uKHQpe3QmJnQuc3Ryb2tlKCksdGhpcy50b1N0YXRpYygpfSxzZXRMaW5lRGFzaDpmdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgQXJyYXkpe3RoaXMuX2xpbmVEYXNoPXQ7Zm9yKHZhciBlPXRoaXMuX2Rhc2hJZHg9MCxpPTA7aTx0Lmxlbmd0aDtpKyspZSs9dFtpXTt0aGlzLl9kYXNoU3VtPWV9cmV0dXJuIHRoaXN9LHNldExpbmVEYXNoT2Zmc2V0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kYXNoT2Zmc2V0PXQsdGhpc30sbGVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xlbn0sc2V0RGF0YTpmdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aDt0aGlzLmRhdGEmJnRoaXMuZGF0YS5sZW5ndGg9PT1lfHwhWW58fCh0aGlzLmRhdGE9bmV3IEZsb2F0MzJBcnJheShlKSk7Zm9yKHZhciBpPTA7aTxlO2krKyl0aGlzLmRhdGFbaV09dFtpXTt0aGlzLl9sZW49ZX0sYXBwZW5kUGF0aDpmdW5jdGlvbih0KXt0IGluc3RhbmNlb2YgQXJyYXl8fCh0PVt0XSk7Zm9yKHZhciBlPXQubGVuZ3RoLGk9MCxyPXRoaXMuX2xlbixuPTA7bjxlO24rKylpKz10W25dLmxlbigpO1luJiZ0aGlzLmRhdGEgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkmJih0aGlzLmRhdGE9bmV3IEZsb2F0MzJBcnJheShyK2kpKTtmb3Iobj0wO248ZTtuKyspZm9yKHZhciBhPXRbbl0uZGF0YSxvPTA7bzxhLmxlbmd0aDtvKyspdGhpcy5kYXRhW3IrK109YVtvXTt0aGlzLl9sZW49cn0sYWRkRGF0YTpmdW5jdGlvbih0KXtpZih0aGlzLl9zYXZlRGF0YSl7dmFyIGU9dGhpcy5kYXRhO3RoaXMuX2xlbithcmd1bWVudHMubGVuZ3RoPmUubGVuZ3RoJiYodGhpcy5fZXhwYW5kRGF0YSgpLGU9dGhpcy5kYXRhKTtmb3IodmFyIGk9MDtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKWVbdGhpcy5fbGVuKytdPWFyZ3VtZW50c1tpXTt0aGlzLl9wcmV2Q21kPXR9fSxfZXhwYW5kRGF0YTpmdW5jdGlvbigpe2lmKCEodGhpcy5kYXRhIGluc3RhbmNlb2YgQXJyYXkpKXtmb3IodmFyIHQ9W10sZT0wO2U8dGhpcy5fbGVuO2UrKyl0W2VdPXRoaXMuZGF0YVtlXTt0aGlzLmRhdGE9dH19LF9uZWVkc0Rhc2g6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGluZURhc2h9LF9kYXNoZWRMaW5lVG86ZnVuY3Rpb24odCxlKXt2YXIgaSxyLG49dGhpcy5fZGFzaFN1bSxhPXRoaXMuX2Rhc2hPZmZzZXQsbz10aGlzLl9saW5lRGFzaCxzPXRoaXMuX2N0eCxoPXRoaXMuX3hpLGw9dGhpcy5feWksdT10LWgsYz1lLWwsZj1xbih1KnUrYypjKSxkPWgscD1sLHY9by5sZW5ndGg7Zm9yKGE8MCYmKGE9bithKSxkLT0oYSU9bikqKHUvPWYpLHAtPWEqKGMvPWYpOzA8dSYmZDw9dHx8dTwwJiZ0PD1kfHwwPT09dSYmKDA8YyYmcDw9ZXx8YzwwJiZlPD1wKTspZCs9dSooaT1vW3I9dGhpcy5fZGFzaElkeF0pLHArPWMqaSx0aGlzLl9kYXNoSWR4PShyKzEpJXYsMDx1JiZkPGh8fHU8MCYmaDxkfHwwPGMmJnA8bHx8YzwwJiZsPHB8fHNbciUyP1wibW92ZVRvXCI6XCJsaW5lVG9cIl0oMDw9dT9ObihkLHQpOlduKGQsdCksMDw9Yz9ObihwLGUpOlduKHAsZSkpO3U9ZC10LGM9cC1lLHRoaXMuX2Rhc2hPZmZzZXQ9LXFuKHUqdStjKmMpfSxfZGFzaGVkQmV6aWVyVG86ZnVuY3Rpb24odCxlLGkscixuLGEpe3ZhciBvLHMsaCxsLHUsYz10aGlzLl9kYXNoU3VtLGY9dGhpcy5fZGFzaE9mZnNldCxkPXRoaXMuX2xpbmVEYXNoLHA9dGhpcy5fY3R4LHY9dGhpcy5feGksZz10aGlzLl95aSxfPXBuLG09MCx5PXRoaXMuX2Rhc2hJZHgseD1kLmxlbmd0aCx3PTA7Zm9yKGY8MCYmKGY9YytmKSxmJT1jLG89MDtvPDE7bys9LjEpcz1fKHYsdCxpLG4sbysuMSktXyh2LHQsaSxuLG8pLGg9XyhnLGUscixhLG8rLjEpLV8oZyxlLHIsYSxvKSxtKz1xbihzKnMraCpoKTtmb3IoO3k8eCYmIShmPCh3Kz1kW3ldKSk7eSsrKTtmb3Iobz0ody1mKS9tO288PTE7KWw9Xyh2LHQsaSxuLG8pLHU9XyhnLGUscixhLG8pLHklMj9wLm1vdmVUbyhsLHUpOnAubGluZVRvKGwsdSksbys9ZFt5XS9tLHk9KHkrMSkleDt5JTIhPTAmJnAubGluZVRvKG4sYSkscz1uLWwsaD1hLXUsdGhpcy5fZGFzaE9mZnNldD0tcW4ocypzK2gqaCl9LF9kYXNoZWRRdWFkcmF0aWNUbzpmdW5jdGlvbih0LGUsaSxyKXt2YXIgbj1pLGE9cjtpPShpKzIqdCkvMyxyPShyKzIqZSkvMyx0PSh0aGlzLl94aSsyKnQpLzMsZT0odGhpcy5feWkrMiplKS8zLHRoaXMuX2Rhc2hlZEJlemllclRvKHQsZSxpLHIsbixhKX0sdG9TdGF0aWM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmRhdGE7dCBpbnN0YW5jZW9mIEFycmF5JiYodC5sZW5ndGg9dGhpcy5fbGVuLFluJiYodGhpcy5kYXRhPW5ldyBGbG9hdDMyQXJyYXkodCkpKX0sZ2V0Qm91bmRpbmdSZWN0OmZ1bmN0aW9uKCl7RW5bMF09RW5bMV09Rm5bMF09Rm5bMV09TnVtYmVyLk1BWF9WQUxVRSxSblswXT1SblsxXT1IblswXT1IblsxXT0tTnVtYmVyLk1BWF9WQUxVRTtmb3IodmFyIHQsZSxpLHIsbixhLG8scyxoLGwsdSxjLGYsZCxwPXRoaXMuZGF0YSx2PTAsZz0wLF89MCxtPTAseT0wO3k8cC5sZW5ndGg7KXt2YXIgeD1wW3krK107c3dpdGNoKDE9PT15JiYoXz12PXBbeV0sbT1nPXBbeSsxXSkseCl7Y2FzZSBPbi5NOnY9Xz1wW3krK10sZz1tPXBbeSsrXSxGblswXT1fLEZuWzFdPW0sSG5bMF09XyxIblsxXT1tO2JyZWFrO2Nhc2UgT24uTDpMbih2LGcscFt5XSxwW3krMV0sRm4sSG4pLHY9cFt5KytdLGc9cFt5KytdO2JyZWFrO2Nhc2UgT24uQzpCbih2LGcscFt5KytdLHBbeSsrXSxwW3krK10scFt5KytdLHBbeV0scFt5KzFdLEZuLEhuKSx2PXBbeSsrXSxnPXBbeSsrXTticmVhaztjYXNlIE9uLlE6dD12LGU9ZyxpPXBbeSsrXSxyPXBbeSsrXSxuPXBbeV0sYT1wW3krMV0sbz1GbixzPUhuLGw9aD12b2lkIDAsbD1tbix1PWtuKGJuKChoPXhuKSh0LGksbiksMSksMCksYz1rbihibihoKGUscixhKSwxKSwwKSxmPWwodCxpLG4sdSksZD1sKGUscixhLGMpLG9bMF09Ym4odCxuLGYpLG9bMV09Ym4oZSxhLGQpLHNbMF09a24odCxuLGYpLHNbMV09a24oZSxhLGQpLHY9cFt5KytdLGc9cFt5KytdO2JyZWFrO2Nhc2UgT24uQTp2YXIgdz1wW3krK10sYj1wW3krK10saz1wW3krK10sVD1wW3krK10sUz1wW3krK10sQz1wW3krK10rUzt5Kz0xO3ZhciBNPTEtcFt5KytdOzE9PT15JiYoXz1WbihTKSprK3csbT1YbihTKSpUK2IpLEluKHcsYixrLFQsUyxDLE0sRm4sSG4pLHY9Vm4oQykqayt3LGc9WG4oQykqVCtiO2JyZWFrO2Nhc2UgT24uUjpMbihfPXY9cFt5KytdLG09Zz1wW3krK10sXytwW3krK10sbStwW3krK10sRm4sSG4pO2JyZWFrO2Nhc2UgT24uWjp2PV8sZz1tfWF0KEVuLEVuLEZuKSxvdChSbixSbixIbil9cmV0dXJuIDA9PT15JiYoRW5bMF09RW5bMV09Um5bMF09Um5bMV09MCksbmV3IHRpKEVuWzBdLEVuWzFdLFJuWzBdLUVuWzBdLFJuWzFdLUVuWzFdKX0scmVidWlsZFBhdGg6ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGkscixuLGEsbyxzPXRoaXMuZGF0YSxoPXRoaXMuX3V4LGw9dGhpcy5fdXksdT10aGlzLl9sZW4sYz0wO2M8dTspe3ZhciBmPXNbYysrXTtzd2l0Y2goMT09PWMmJihlPXI9c1tjXSxpPW49c1tjKzFdKSxmKXtjYXNlIE9uLk06ZT1yPXNbYysrXSxpPW49c1tjKytdLHQubW92ZVRvKHIsbik7YnJlYWs7Y2FzZSBPbi5MOmE9c1tjKytdLG89c1tjKytdLChqbihhLXIpPmh8fGpuKG8tbik+bHx8Yz09PXUtMSkmJih0LmxpbmVUbyhhLG8pLHI9YSxuPW8pO2JyZWFrO2Nhc2UgT24uQzp0LmJlemllckN1cnZlVG8oc1tjKytdLHNbYysrXSxzW2MrK10sc1tjKytdLHNbYysrXSxzW2MrK10pLHI9c1tjLTJdLG49c1tjLTFdO2JyZWFrO2Nhc2UgT24uUTp0LnF1YWRyYXRpY0N1cnZlVG8oc1tjKytdLHNbYysrXSxzW2MrK10sc1tjKytdKSxyPXNbYy0yXSxuPXNbYy0xXTticmVhaztjYXNlIE9uLkE6dmFyIGQ9c1tjKytdLHA9c1tjKytdLHY9c1tjKytdLGc9c1tjKytdLF89c1tjKytdLG09c1tjKytdLHk9c1tjKytdLHg9c1tjKytdLHc9Zzx2P3Y6ZyxiPWc8dj8xOnYvZyxrPWc8dj9nL3Y6MSxUPV8rbTsuMDAxPE1hdGguYWJzKHYtZyk/KHQudHJhbnNsYXRlKGQscCksdC5yb3RhdGUoeSksdC5zY2FsZShiLGspLHQuYXJjKDAsMCx3LF8sVCwxLXgpLHQuc2NhbGUoMS9iLDEvayksdC5yb3RhdGUoLXkpLHQudHJhbnNsYXRlKC1kLC1wKSk6dC5hcmMoZCxwLHcsXyxULDEteCksMT09PWMmJihlPVZuKF8pKnYrZCxpPVhuKF8pKmcrcCkscj1WbihUKSp2K2Qsbj1YbihUKSpnK3A7YnJlYWs7Y2FzZSBPbi5SOmU9cj1zW2NdLGk9bj1zW2MrMV0sdC5yZWN0KHNbYysrXSxzW2MrK10sc1tjKytdLHNbYysrXSk7YnJlYWs7Y2FzZSBPbi5aOnQuY2xvc2VQYXRoKCkscj1lLG49aX19fX0sVW4uQ01EPU9uO3ZhciAkbj0yKk1hdGguUEk7ZnVuY3Rpb24gS24odCl7cmV0dXJuKHQlPSRuKTwwJiYodCs9JG4pLHR9dmFyIEpuPTIqTWF0aC5QSTtmdW5jdGlvbiB0YSh0LGUsaSxyLG4sYSxvLHMsaCl7aWYoMD09PW8pcmV0dXJuITE7dmFyIGw9bztzLT10LGgtPWU7dmFyIHU9TWF0aC5zcXJ0KHMqcytoKmgpO2lmKGk8dS1sfHx1K2w8aSlyZXR1cm4hMTtpZihNYXRoLmFicyhyLW4pJUpuPDFlLTQpcmV0dXJuITA7aWYoYSl7dmFyIGM9cjtyPUtuKG4pLG49S24oYyl9ZWxzZSByPUtuKHIpLG49S24obik7bjxyJiYobis9Sm4pO3ZhciBmPU1hdGguYXRhbjIoaCxzKTtyZXR1cm4gZjwwJiYoZis9Sm4pLHI8PWYmJmY8PW58fHI8PWYrSm4mJmYrSm48PW59ZnVuY3Rpb24gZWEodCxlLGkscixuLGEpe2lmKGU8YSYmcjxhfHxhPGUmJmE8cilyZXR1cm4gMDtpZihyPT09ZSlyZXR1cm4gMDt2YXIgbz1yPGU/MTotMSxzPShhLWUpLyhyLWUpOzEhPXMmJjAhPXN8fChvPXI8ZT8uNTotLjUpO3ZhciBoPXMqKGktdCkrdDtyZXR1cm4gaD09PW4/MS8wOm48aD9vOjB9dmFyIGlhPVVuLkNNRCxyYT0yKk1hdGguUEksbmE9MWUtNDt2YXIgYWE9Wy0xLC0xLC0xXSxvYT1bLTEsLTFdO2Z1bmN0aW9uIHNhKHQsZSxpLHIsbixhLG8scyxoLGwpe2lmKGU8bCYmcjxsJiZhPGwmJnM8bHx8bDxlJiZsPHImJmw8YSYmbDxzKXJldHVybiAwO3ZhciB1LGM9ZnVuY3Rpb24odCxlLGkscixuLGEpe3ZhciBvPXIrMyooZS1pKS10LHM9MyooaS0yKmUrdCksaD0zKihlLXQpLGw9dC1uLHU9cypzLTMqbypoLGM9cypoLTkqbypsLGY9aCpoLTMqcypsLGQ9MDtpZihmbih1KSYmZm4oYykpe2lmKGZuKHMpKWFbMF09MDtlbHNlIDA8PShUPS1oL3MpJiZUPD0xJiYoYVtkKytdPVQpfWVsc2V7dmFyIHA9YypjLTQqdSpmO2lmKGZuKHApKXt2YXIgdj1jL3UsZz0tdi8yOzA8PShUPS1zL28rdikmJlQ8PTEmJihhW2QrK109VCksMDw9ZyYmZzw9MSYmKGFbZCsrXT1nKX1lbHNlIGlmKDA8cCl7dmFyIF89bm4ocCksbT11KnMrMS41Km8qKC1jK18pLHk9dSpzKzEuNSpvKigtYy1fKTswPD0oVD0oLXMtKChtPW08MD8tcm4oLW0saG4pOnJuKG0saG4pKSsoeT15PDA/LXJuKC15LGhuKTpybih5LGhuKSkpKS8oMypvKSkmJlQ8PTEmJihhW2QrK109VCl9ZWxzZXt2YXIgeD0oMip1KnMtMypvKmMpLygyKm5uKHUqdSp1KSksdz1NYXRoLmFjb3MoeCkvMyxiPW5uKHUpLGs9TWF0aC5jb3ModyksVD0oLXMtMipiKmspLygzKm8pLFM9KGc9KC1zK2IqKGsrc24qTWF0aC5zaW4odykpKS8oMypvKSwoLXMrYiooay1zbipNYXRoLnNpbih3KSkpLygzKm8pKTswPD1UJiZUPD0xJiYoYVtkKytdPVQpLDA8PWcmJmc8PTEmJihhW2QrK109ZyksMDw9UyYmUzw9MSYmKGFbZCsrXT1TKX19cmV0dXJuIGR9KGUscixhLHMsbCxhYSk7aWYoMD09PWMpcmV0dXJuIDA7Zm9yKHZhciBmLGQscD0wLHY9LTEsZz0wO2c8YztnKyspe3ZhciBfPWFhW2ddLG09MD09PV98fDE9PT1fPy41OjE7cG4odCxpLG4sbyxfKTxofHwodjwwJiYodj1nbihlLHIsYSxzLG9hKSxvYVsxXTxvYVswXSYmMTx2JiYodm9pZCAwLHU9b2FbMF0sb2FbMF09b2FbMV0sb2FbMV09dSksZj1wbihlLHIsYSxzLG9hWzBdKSwxPHYmJihkPXBuKGUscixhLHMsb2FbMV0pKSksMj09PXY/XzxvYVswXT9wKz1mPGU/bTotbTpfPG9hWzFdP3ArPWQ8Zj9tOi1tOnArPXM8ZD9tOi1tOl88b2FbMF0/cCs9ZjxlP206LW06cCs9czxmP206LW0pfXJldHVybiBwfWZ1bmN0aW9uIGhhKHQsZSxpLHIsbixhLG8scyl7aWYoZTxzJiZyPHMmJmE8c3x8czxlJiZzPHImJnM8YSlyZXR1cm4gMDt2YXIgaD1mdW5jdGlvbih0LGUsaSxyLG4pe3ZhciBhPXQtMiplK2ksbz0yKihlLXQpLHM9dC1yLGg9MDtpZihmbihhKSl7aWYoZG4obykpMDw9KHU9LXMvbykmJnU8PTEmJihuW2grK109dSl9ZWxzZXt2YXIgbD1vKm8tNCphKnM7aWYoZm4obCkpMDw9KHU9LW8vKDIqYSkpJiZ1PD0xJiYobltoKytdPXUpO2Vsc2UgaWYoMDxsKXt2YXIgdSxjPW5uKGwpLGY9KC1vLWMpLygyKmEpOzA8PSh1PSgtbytjKS8oMiphKSkmJnU8PTEmJihuW2grK109dSksMDw9ZiYmZjw9MSYmKG5baCsrXT1mKX19cmV0dXJuIGh9KGUscixhLHMsYWEpO2lmKDA9PT1oKXJldHVybiAwO3ZhciBsPXhuKGUscixhKTtpZigwPD1sJiZsPD0xKXtmb3IodmFyIHU9MCxjPW1uKGUscixhLGwpLGY9MDtmPGg7ZisrKXt2YXIgZD0wPT09YWFbZl18fDE9PT1hYVtmXT8uNToxO21uKHQsaSxuLGFhW2ZdKTxvfHwoYWFbZl08bD91Kz1jPGU/ZDotZDp1Kz1hPGM/ZDotZCl9cmV0dXJuIHV9ZD0wPT09YWFbMF18fDE9PT1hYVswXT8uNToxO3JldHVybiBtbih0LGksbixhYVswXSk8bz8wOmE8ZT9kOi1kfWZ1bmN0aW9uIGxhKHQsZSxpLHIsbixhLG8scyl7aWYoaTwocy09ZSl8fHM8LWkpcmV0dXJuIDA7dmFyIGg9TWF0aC5zcXJ0KGkqaS1zKnMpO2FhWzBdPS1oLGFhWzFdPWg7dmFyIGw9TWF0aC5hYnMoci1uKTtpZihsPDFlLTQpcmV0dXJuIDA7aWYobCVyYTwxZS00KXtuPXJhO3ZhciB1PWE/MTotMTtyZXR1cm4gbz49YWFbcj0wXSt0JiZvPD1hYVsxXSt0P3U6MH1pZihhKXtoPXI7cj1LbihuKSxuPUtuKGgpfWVsc2Ugcj1LbihyKSxuPUtuKG4pO248ciYmKG4rPXJhKTtmb3IodmFyIGM9MCxmPTA7ZjwyO2YrKyl7dmFyIGQ9YWFbZl07aWYobzxkK3Qpe3ZhciBwPU1hdGguYXRhbjIocyxkKTt1PWE/MTotMTtwPDAmJihwPXJhK3ApLChyPD1wJiZwPD1ufHxyPD1wK3JhJiZwK3JhPD1uKSYmKHA+TWF0aC5QSS8yJiZwPDEuNSpNYXRoLlBJJiYodT0tdSksYys9dSl9fXJldHVybiBjfWZ1bmN0aW9uIHVhKHQsZSxpLHIsbil7Zm9yKHZhciBhPTAsbz0wLHM9MCxoPTAsbD0wLHU9MDt1PHQubGVuZ3RoOyl7dmFyIGM9dFt1KytdO3N3aXRjaChjPT09aWEuTSYmMTx1JiYoaXx8KGErPWVhKG8scyxoLGwscixuKSkpLDE9PT11JiYoaD1vPXRbdV0sbD1zPXRbdSsxXSksYyl7Y2FzZSBpYS5NOm89aD10W3UrK10scz1sPXRbdSsrXTticmVhaztjYXNlIGlhLkw6aWYoaSl7aWYoR24obyxzLHRbdV0sdFt1KzFdLGUscixuKSlyZXR1cm4hMH1lbHNlIGErPWVhKG8scyx0W3VdLHRbdSsxXSxyLG4pfHwwO289dFt1KytdLHM9dFt1KytdO2JyZWFrO2Nhc2UgaWEuQzppZihpKXtpZihabihvLHMsdFt1KytdLHRbdSsrXSx0W3UrK10sdFt1KytdLHRbdV0sdFt1KzFdLGUscixuKSlyZXR1cm4hMH1lbHNlIGErPXNhKG8scyx0W3UrK10sdFt1KytdLHRbdSsrXSx0W3UrK10sdFt1XSx0W3UrMV0scixuKXx8MDtvPXRbdSsrXSxzPXRbdSsrXTticmVhaztjYXNlIGlhLlE6aWYoaSl7aWYoUW4obyxzLHRbdSsrXSx0W3UrK10sdFt1XSx0W3UrMV0sZSxyLG4pKXJldHVybiEwfWVsc2UgYSs9aGEobyxzLHRbdSsrXSx0W3UrK10sdFt1XSx0W3UrMV0scixuKXx8MDtvPXRbdSsrXSxzPXRbdSsrXTticmVhaztjYXNlIGlhLkE6dmFyIGY9dFt1KytdLGQ9dFt1KytdLHA9dFt1KytdLHY9dFt1KytdLGc9dFt1KytdLF89dFt1KytdO3UrPTE7dmFyIG09MS10W3UrK10seT1NYXRoLmNvcyhnKSpwK2YseD1NYXRoLnNpbihnKSp2K2Q7MTx1P2ErPWVhKG8scyx5LHgscixuKTooaD15LGw9eCk7dmFyIHc9KHItZikqdi9wK2Y7aWYoaSl7aWYodGEoZixkLHYsZyxnK18sbSxlLHcsbikpcmV0dXJuITB9ZWxzZSBhKz1sYShmLGQsdixnLGcrXyxtLHcsbik7bz1NYXRoLmNvcyhnK18pKnArZixzPU1hdGguc2luKGcrXykqditkO2JyZWFrO2Nhc2UgaWEuUjpoPW89dFt1KytdLGw9cz10W3UrK107eT1oK3RbdSsrXSx4PWwrdFt1KytdO2lmKGkpe2lmKEduKGgsbCx5LGwsZSxyLG4pfHxHbih5LGwseSx4LGUscixuKXx8R24oeSx4LGgseCxlLHIsbil8fEduKGgseCxoLGwsZSxyLG4pKXJldHVybiEwfWVsc2UgYSs9ZWEoeSxsLHkseCxyLG4pLGErPWVhKGgseCxoLGwscixuKTticmVhaztjYXNlIGlhLlo6aWYoaSl7aWYoR24obyxzLGgsbCxlLHIsbikpcmV0dXJuITB9ZWxzZSBhKz1lYShvLHMsaCxsLHIsbik7bz1oLHM9bH19cmV0dXJuIGl8fGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGguYWJzKHQtZSk8bmF9KHMsbCl8fChhKz1lYShvLHMsaCxsLHIsbil8fDApLDAhPT1hfXZhciBjYT1raS5wcm90b3R5cGUuZ2V0Q2FudmFzUGF0dGVybixmYT1NYXRoLmFicyxkYT1uZXcgVW4oITApO2Z1bmN0aW9uIHBhKHQpe2JyLmNhbGwodGhpcyx0KSx0aGlzLnBhdGg9bnVsbH1wYS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnBhLHR5cGU6XCJwYXRoXCIsX19kaXJ0eVBhdGg6ITAsc3Ryb2tlQ29udGFpblRocmVzaG9sZDo1LHNlZ21lbnRJZ25vcmVUaHJlc2hvbGQ6MCxzdWJQaXhlbE9wdGltaXplOiExLGJydXNoOmZ1bmN0aW9uKHQsZSl7dmFyIGkscj10aGlzLnN0eWxlLG49dGhpcy5wYXRofHxkYSxhPXIuaGFzU3Ryb2tlKCksbz1yLmhhc0ZpbGwoKSxzPXIuZmlsbCxoPXIuc3Ryb2tlLGw9byYmISFzLmNvbG9yU3RvcHMsdT1hJiYhIWguY29sb3JTdG9wcyxjPW8mJiEhcy5pbWFnZSxmPWEmJiEhaC5pbWFnZTtyLmJpbmQodCx0aGlzLGUpLHRoaXMuc2V0VHJhbnNmb3JtKHQpLHRoaXMuX19kaXJ0eSYmKGwmJihpPWl8fHRoaXMuZ2V0Qm91bmRpbmdSZWN0KCksdGhpcy5fZmlsbEdyYWRpZW50PXIuZ2V0R3JhZGllbnQodCxzLGkpKSx1JiYoaT1pfHx0aGlzLmdldEJvdW5kaW5nUmVjdCgpLHRoaXMuX3N0cm9rZUdyYWRpZW50PXIuZ2V0R3JhZGllbnQodCxoLGkpKSk7bD90LmZpbGxTdHlsZT10aGlzLl9maWxsR3JhZGllbnQ6YyYmKHQuZmlsbFN0eWxlPWNhLmNhbGwocyx0KSksdT90LnN0cm9rZVN0eWxlPXRoaXMuX3N0cm9rZUdyYWRpZW50OmYmJih0LnN0cm9rZVN0eWxlPWNhLmNhbGwoaCx0KSk7dmFyIGQ9ci5saW5lRGFzaCxwPXIubGluZURhc2hPZmZzZXQsdj0hIXQuc2V0TGluZURhc2gsZz10aGlzLmdldEdsb2JhbFNjYWxlKCk7aWYobi5zZXRTY2FsZShnWzBdLGdbMV0sdGhpcy5zZWdtZW50SWdub3JlVGhyZXNob2xkKSx0aGlzLl9fZGlydHlQYXRofHxkJiYhdiYmYT8obi5iZWdpblBhdGgodCksZCYmIXYmJihuLnNldExpbmVEYXNoKGQpLG4uc2V0TGluZURhc2hPZmZzZXQocCkpLHRoaXMuYnVpbGRQYXRoKG4sdGhpcy5zaGFwZSwhMSksdGhpcy5wYXRoJiYodGhpcy5fX2RpcnR5UGF0aD0hMSkpOih0LmJlZ2luUGF0aCgpLHRoaXMucGF0aC5yZWJ1aWxkUGF0aCh0KSksbylpZihudWxsIT1yLmZpbGxPcGFjaXR5KXt2YXIgXz10Lmdsb2JhbEFscGhhO3QuZ2xvYmFsQWxwaGE9ci5maWxsT3BhY2l0eSpyLm9wYWNpdHksbi5maWxsKHQpLHQuZ2xvYmFsQWxwaGE9X31lbHNlIG4uZmlsbCh0KTtpZihkJiZ2JiYodC5zZXRMaW5lRGFzaChkKSx0LmxpbmVEYXNoT2Zmc2V0PXApLGEpaWYobnVsbCE9ci5zdHJva2VPcGFjaXR5KXtfPXQuZ2xvYmFsQWxwaGE7dC5nbG9iYWxBbHBoYT1yLnN0cm9rZU9wYWNpdHkqci5vcGFjaXR5LG4uc3Ryb2tlKHQpLHQuZ2xvYmFsQWxwaGE9X31lbHNlIG4uc3Ryb2tlKHQpO2QmJnYmJnQuc2V0TGluZURhc2goW10pLG51bGwhPXIudGV4dCYmKHRoaXMucmVzdG9yZVRyYW5zZm9ybSh0KSx0aGlzLmRyYXdSZWN0VGV4dCh0LHRoaXMuZ2V0Qm91bmRpbmdSZWN0KCkpKX0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSxpKXt9LGNyZWF0ZVBhdGhQcm94eTpmdW5jdGlvbigpe3RoaXMucGF0aD1uZXcgVW59LGdldEJvdW5kaW5nUmVjdDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3JlY3QsZT10aGlzLnN0eWxlLGk9IXQ7aWYoaSl7dmFyIHI9dGhpcy5wYXRoO3I9cnx8KHRoaXMucGF0aD1uZXcgVW4pLHRoaXMuX19kaXJ0eVBhdGgmJihyLmJlZ2luUGF0aCgpLHRoaXMuYnVpbGRQYXRoKHIsdGhpcy5zaGFwZSwhMSkpLHQ9ci5nZXRCb3VuZGluZ1JlY3QoKX1pZih0aGlzLl9yZWN0PXQsZS5oYXNTdHJva2UoKSl7dmFyIG49dGhpcy5fcmVjdFdpdGhTdHJva2V8fCh0aGlzLl9yZWN0V2l0aFN0cm9rZT10LmNsb25lKCkpO2lmKHRoaXMuX19kaXJ0eXx8aSl7bi5jb3B5KHQpO3ZhciBhPWUubGluZVdpZHRoLG89ZS5zdHJva2VOb1NjYWxlP3RoaXMuZ2V0TGluZVNjYWxlKCk6MTtlLmhhc0ZpbGwoKXx8KGE9TWF0aC5tYXgoYSx0aGlzLnN0cm9rZUNvbnRhaW5UaHJlc2hvbGR8fDQpKSwxZS0xMDxvJiYobi53aWR0aCs9YS9vLG4uaGVpZ2h0Kz1hL28sbi54LT1hL28vMixuLnktPWEvby8yKX1yZXR1cm4gbn1yZXR1cm4gdH0sY29udGFpbjpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMudHJhbnNmb3JtQ29vcmRUb0xvY2FsKHQsZSkscj10aGlzLmdldEJvdW5kaW5nUmVjdCgpLG49dGhpcy5zdHlsZTtpZih0PWlbMF0sZT1pWzFdLHIuY29udGFpbih0LGUpKXt2YXIgYT10aGlzLnBhdGguZGF0YTtpZihuLmhhc1N0cm9rZSgpKXt2YXIgbz1uLmxpbmVXaWR0aCxzPW4uc3Ryb2tlTm9TY2FsZT90aGlzLmdldExpbmVTY2FsZSgpOjE7aWYoMWUtMTA8cyYmKG4uaGFzRmlsbCgpfHwobz1NYXRoLm1heChvLHRoaXMuc3Ryb2tlQ29udGFpblRocmVzaG9sZCkpLGZ1bmN0aW9uKHQsZSxpLHIpe3JldHVybiB1YSh0LGUsITAsaSxyKX0oYSxvL3MsdCxlKSkpcmV0dXJuITB9aWYobi5oYXNGaWxsKCkpcmV0dXJuIGZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdWEodCwwLCExLGUsaSl9KGEsdCxlKX1yZXR1cm4hMX0sZGlydHk6ZnVuY3Rpb24odCl7bnVsbD09dCYmKHQ9ITApLHQmJih0aGlzLl9fZGlydHlQYXRoPXQsdGhpcy5fcmVjdD1udWxsKSx0aGlzLl9fZGlydHk9dGhpcy5fX2RpcnR5VGV4dD0hMCx0aGlzLl9fenImJnRoaXMuX196ci5yZWZyZXNoKCksdGhpcy5fX2NsaXBUYXJnZXQmJnRoaXMuX19jbGlwVGFyZ2V0LmRpcnR5KCl9LGFuaW1hdGVTaGFwZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hbmltYXRlKFwic2hhcGVcIix0KX0sYXR0cktWOmZ1bmN0aW9uKHQsZSl7XCJzaGFwZVwiPT09dD8odGhpcy5zZXRTaGFwZShlKSx0aGlzLl9fZGlydHlQYXRoPSEwLHRoaXMuX3JlY3Q9bnVsbCk6YnIucHJvdG90eXBlLmF0dHJLVi5jYWxsKHRoaXMsdCxlKX0sc2V0U2hhcGU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLnNoYXBlO2lmKGkpe2lmKEwodCkpZm9yKHZhciByIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShyKSYmKGlbcl09dFtyXSk7ZWxzZSBpW3RdPWU7dGhpcy5kaXJ0eSghMCl9cmV0dXJuIHRoaXN9LGdldExpbmVTY2FsZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMudHJhbnNmb3JtO3JldHVybiB0JiYxZS0xMDxmYSh0WzBdLTEpJiYxZS0xMDxmYSh0WzNdLTEpP01hdGguc3FydChmYSh0WzBdKnRbM10tdFsyXSp0WzFdKSk6MX19LHBhLmV4dGVuZD1mdW5jdGlvbihuKXtmdW5jdGlvbiB0KHQpe3BhLmNhbGwodGhpcyx0KSxuLnN0eWxlJiZ0aGlzLnN0eWxlLmV4dGVuZEZyb20obi5zdHlsZSwhMSk7dmFyIGU9bi5zaGFwZTtpZihlKXt0aGlzLnNoYXBlPXRoaXMuc2hhcGV8fHt9O3ZhciBpPXRoaXMuc2hhcGU7Zm9yKHZhciByIGluIGUpIWkuaGFzT3duUHJvcGVydHkocikmJmUuaGFzT3duUHJvcGVydHkocikmJihpW3JdPWVbcl0pfW4uaW5pdCYmbi5pbml0LmNhbGwodGhpcyx0KX1mb3IodmFyIGUgaW4gYih0LHBhKSxuKVwic3R5bGVcIiE9PWUmJlwic2hhcGVcIiE9PWUmJih0LnByb3RvdHlwZVtlXT1uW2VdKTtyZXR1cm4gdH0sYihwYSxicik7ZnVuY3Rpb24gdmEodCl7cmV0dXJuIE1hdGguc3FydCh0WzBdKnRbMF0rdFsxXSp0WzFdKX12YXIgZ2E9VW4uQ01ELF9hPVtbXSxbXSxbXV0sbWE9TWF0aC5zcXJ0LHlhPU1hdGguYXRhbjIseGE9ZnVuY3Rpb24odCxlKXt2YXIgaSxyLG4sYSxvLHM9dC5kYXRhLGg9Z2EuTSxsPWdhLkMsdT1nYS5MLGM9Z2EuUixmPWdhLkEsZD1nYS5RO2ZvcihhPW49MDtuPHMubGVuZ3RoOyl7c3dpdGNoKGk9c1tuKytdLGE9bixyPTAsaSl7Y2FzZSBoOmNhc2UgdTpyPTE7YnJlYWs7Y2FzZSBsOnI9MzticmVhaztjYXNlIGQ6cj0yO2JyZWFrO2Nhc2UgZjp2YXIgcD1lWzRdLHY9ZVs1XSxnPW1hKGVbMF0qZVswXStlWzFdKmVbMV0pLF89bWEoZVsyXSplWzJdK2VbM10qZVszXSksbT15YSgtZVsxXS9fLGVbMF0vZyk7c1tuXSo9ZyxzW24rK10rPXAsc1tuXSo9XyxzW24rK10rPXYsc1tuKytdKj1nLHNbbisrXSo9XyxzW24rK10rPW0sc1tuKytdKz1tLGE9bis9MjticmVhaztjYXNlIGM6eVswXT1zW24rK10seVsxXT1zW24rK10sbnQoeSx5LGUpLHNbYSsrXT15WzBdLHNbYSsrXT15WzFdLHlbMF0rPXNbbisrXSx5WzFdKz1zW24rK10sbnQoeSx5LGUpLHNbYSsrXT15WzBdLHNbYSsrXT15WzFdfWZvcihvPTA7bzxyO28rKyl7dmFyIHk7KHk9X2Fbb10pWzBdPXNbbisrXSx5WzFdPXNbbisrXSxudCh5LHksZSksc1thKytdPXlbMF0sc1thKytdPXlbMV19fX0sd2E9TWF0aC5zcXJ0LGJhPU1hdGguc2luLGthPU1hdGguY29zLFRhPU1hdGguUEksU2E9ZnVuY3Rpb24odCxlKXtyZXR1cm4odFswXSplWzBdK3RbMV0qZVsxXSkvKHZhKHQpKnZhKGUpKX0sQ2E9ZnVuY3Rpb24odCxlKXtyZXR1cm4odFswXSplWzFdPHRbMV0qZVswXT8tMToxKSpNYXRoLmFjb3MoU2EodCxlKSl9O2Z1bmN0aW9uIE1hKHQsZSxpLHIsbixhLG8scyxoLGwsdSl7dmFyIGM9aCooVGEvMTgwKSxmPWthKGMpKih0LWkpLzIrYmEoYykqKGUtcikvMixkPS0xKmJhKGMpKih0LWkpLzIra2EoYykqKGUtcikvMixwPWYqZi8obypvKStkKmQvKHMqcyk7MTxwJiYobyo9d2EocCkscyo9d2EocCkpO3ZhciB2PShuPT09YT8tMToxKSp3YSgobypvKihzKnMpLW8qbyooZCpkKS1zKnMqKGYqZikpLyhvKm8qKGQqZCkrcypzKihmKmYpKSl8fDAsZz12Km8qZC9zLF89diotcypmL28sbT0odCtpKS8yK2thKGMpKmctYmEoYykqXyx5PShlK3IpLzIrYmEoYykqZytrYShjKSpfLHg9Q2EoWzEsMF0sWyhmLWcpL28sKGQtXykvc10pLHc9WyhmLWcpL28sKGQtXykvc10sYj1bKC0xKmYtZykvbywoLTEqZC1fKS9zXSxrPUNhKHcsYik7U2EodyxiKTw9LTEmJihrPVRhKSwxPD1TYSh3LGIpJiYoaz0wKSwwPT09YSYmMDxrJiYoay09MipUYSksMT09PWEmJms8MCYmKGsrPTIqVGEpLHUuYWRkRGF0YShsLG0seSxvLHMseCxrLGMsYSl9dmFyIFBhPS8oW21sdmh6Y3F0c2FdKShbXm1sdmh6Y3F0c2FdKikvZ2ksQWE9Ly0/KFswLTldKlxcLik/WzAtOV0rKFtlRV0tP1swLTldKyk/L2c7ZnVuY3Rpb24gTGEodCxlKXt2YXIgaT1mdW5jdGlvbih0KXtpZighdClyZXR1cm4gbmV3IFVuO2Zvcih2YXIgZSxpPTAscj0wLG49aSxhPXIsbz1uZXcgVW4scz1Vbi5DTUQsaD10Lm1hdGNoKFBhKSxsPTA7bDxoLmxlbmd0aDtsKyspe2Zvcih2YXIgdSxjPWhbbF0sZj1jLmNoYXJBdCgwKSxkPWMubWF0Y2goQWEpfHxbXSxwPWQubGVuZ3RoLHY9MDt2PHA7disrKWRbdl09cGFyc2VGbG9hdChkW3ZdKTtmb3IodmFyIGc9MDtnPHA7KXt2YXIgXyxtLHkseCx3LGIsayxUPWksUz1yO3N3aXRjaChmKXtjYXNlXCJsXCI6aSs9ZFtnKytdLHIrPWRbZysrXSx1PXMuTCxvLmFkZERhdGEodSxpLHIpO2JyZWFrO2Nhc2VcIkxcIjppPWRbZysrXSxyPWRbZysrXSx1PXMuTCxvLmFkZERhdGEodSxpLHIpO2JyZWFrO2Nhc2VcIm1cIjppKz1kW2crK10scis9ZFtnKytdLHU9cy5NLG8uYWRkRGF0YSh1LGksciksbj1pLGE9cixmPVwibFwiO2JyZWFrO2Nhc2VcIk1cIjppPWRbZysrXSxyPWRbZysrXSx1PXMuTSxvLmFkZERhdGEodSxpLHIpLG49aSxhPXIsZj1cIkxcIjticmVhaztjYXNlXCJoXCI6aSs9ZFtnKytdLHU9cy5MLG8uYWRkRGF0YSh1LGkscik7YnJlYWs7Y2FzZVwiSFwiOmk9ZFtnKytdLHU9cy5MLG8uYWRkRGF0YSh1LGkscik7YnJlYWs7Y2FzZVwidlwiOnIrPWRbZysrXSx1PXMuTCxvLmFkZERhdGEodSxpLHIpO2JyZWFrO2Nhc2VcIlZcIjpyPWRbZysrXSx1PXMuTCxvLmFkZERhdGEodSxpLHIpO2JyZWFrO2Nhc2VcIkNcIjp1PXMuQyxvLmFkZERhdGEodSxkW2crK10sZFtnKytdLGRbZysrXSxkW2crK10sZFtnKytdLGRbZysrXSksaT1kW2ctMl0scj1kW2ctMV07YnJlYWs7Y2FzZVwiY1wiOnU9cy5DLG8uYWRkRGF0YSh1LGRbZysrXStpLGRbZysrXStyLGRbZysrXStpLGRbZysrXStyLGRbZysrXStpLGRbZysrXStyKSxpKz1kW2ctMl0scis9ZFtnLTFdO2JyZWFrO2Nhc2VcIlNcIjpfPWksbT1yO3ZhciBDPW8ubGVuKCksTT1vLmRhdGE7ZT09PXMuQyYmKF8rPWktTVtDLTRdLG0rPXItTVtDLTNdKSx1PXMuQyxUPWRbZysrXSxTPWRbZysrXSxpPWRbZysrXSxyPWRbZysrXSxvLmFkZERhdGEodSxfLG0sVCxTLGkscik7YnJlYWs7Y2FzZVwic1wiOl89aSxtPXI7Qz1vLmxlbigpLE09by5kYXRhO2U9PT1zLkMmJihfKz1pLU1bQy00XSxtKz1yLU1bQy0zXSksdT1zLkMsVD1pK2RbZysrXSxTPXIrZFtnKytdLGkrPWRbZysrXSxyKz1kW2crK10sby5hZGREYXRhKHUsXyxtLFQsUyxpLHIpO2JyZWFrO2Nhc2VcIlFcIjpUPWRbZysrXSxTPWRbZysrXSxpPWRbZysrXSxyPWRbZysrXSx1PXMuUSxvLmFkZERhdGEodSxULFMsaSxyKTticmVhaztjYXNlXCJxXCI6VD1kW2crK10raSxTPWRbZysrXStyLGkrPWRbZysrXSxyKz1kW2crK10sdT1zLlEsby5hZGREYXRhKHUsVCxTLGkscik7YnJlYWs7Y2FzZVwiVFwiOl89aSxtPXI7Qz1vLmxlbigpLE09by5kYXRhO2U9PT1zLlEmJihfKz1pLU1bQy00XSxtKz1yLU1bQy0zXSksaT1kW2crK10scj1kW2crK10sdT1zLlEsby5hZGREYXRhKHUsXyxtLGkscik7YnJlYWs7Y2FzZVwidFwiOl89aSxtPXI7Qz1vLmxlbigpLE09by5kYXRhO2U9PT1zLlEmJihfKz1pLU1bQy00XSxtKz1yLU1bQy0zXSksaSs9ZFtnKytdLHIrPWRbZysrXSx1PXMuUSxvLmFkZERhdGEodSxfLG0saSxyKTticmVhaztjYXNlXCJBXCI6eT1kW2crK10seD1kW2crK10sdz1kW2crK10sYj1kW2crK10saz1kW2crK10sTWEoVD1pLFM9cixpPWRbZysrXSxyPWRbZysrXSxiLGsseSx4LHcsdT1zLkEsbyk7YnJlYWs7Y2FzZVwiYVwiOnk9ZFtnKytdLHg9ZFtnKytdLHc9ZFtnKytdLGI9ZFtnKytdLGs9ZFtnKytdLE1hKFQ9aSxTPXIsaSs9ZFtnKytdLHIrPWRbZysrXSxiLGsseSx4LHcsdT1zLkEsbyl9fVwielwiIT09ZiYmXCJaXCIhPT1mfHwodT1zLlosby5hZGREYXRhKHUpLGk9bixyPWEpLGU9dX1yZXR1cm4gby50b1N0YXRpYygpLG99KHQpO3JldHVybihlPWV8fHt9KS5idWlsZFBhdGg9ZnVuY3Rpb24odCl7aWYodC5zZXREYXRhKXt0LnNldERhdGEoaS5kYXRhKSwoZT10LmdldENvbnRleHQoKSkmJnQucmVidWlsZFBhdGgoZSl9ZWxzZXt2YXIgZT10O2kucmVidWlsZFBhdGgoZSl9fSxlLmFwcGx5VHJhbnNmb3JtPWZ1bmN0aW9uKHQpe3hhKGksdCksdGhpcy5kaXJ0eSghMCl9LGV9ZnVuY3Rpb24gemEodCxlKXtyZXR1cm4gbmV3IHBhKExhKHQsZSkpfXZhciBEYT0oT2JqZWN0LmZyZWV6ZXx8T2JqZWN0KSh7Y3JlYXRlRnJvbVN0cmluZzp6YSxleHRlbmRGcm9tU3RyaW5nOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHBhLmV4dGVuZChMYSh0LGUpKX0sbWVyZ2VQYXRoOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPVtdLHI9dC5sZW5ndGgsbj0wO248cjtuKyspe3ZhciBhPXRbbl07YS5wYXRofHxhLmNyZWF0ZVBhdGhQcm94eSgpLGEuX19kaXJ0eVBhdGgmJmEuYnVpbGRQYXRoKGEucGF0aCxhLnNoYXBlLCEwKSxpLnB1c2goYS5wYXRoKX12YXIgbz1uZXcgcGEoZSk7cmV0dXJuIG8uY3JlYXRlUGF0aFByb3h5KCksby5idWlsZFBhdGg9ZnVuY3Rpb24odCl7dC5hcHBlbmRQYXRoKGkpO3ZhciBlPXQuZ2V0Q29udGV4dCgpO2UmJnQucmVidWlsZFBhdGgoZSl9LG99fSksQmE9ZnVuY3Rpb24odCl7YnIuY2FsbCh0aGlzLHQpfTtCYS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkJhLHR5cGU6XCJ0ZXh0XCIsYnJ1c2g6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLnN0eWxlO3RoaXMuX19kaXJ0eSYmYXIoaSksaS5maWxsPWkuc3Ryb2tlPWkuc2hhZG93Qmx1cj1pLnNoYWRvd0NvbG9yPWkuc2hhZG93T2Zmc2V0WD1pLnNoYWRvd09mZnNldFk9bnVsbDt2YXIgcj1pLnRleHQ7bnVsbCE9ciYmKHIrPVwiXCIpLHlyKHIsaSk/KHRoaXMuc2V0VHJhbnNmb3JtKHQpLHNyKHRoaXMsdCxyLGksbnVsbCxlKSx0aGlzLnJlc3RvcmVUcmFuc2Zvcm0odCkpOnQuX19hdHRyQ2FjaGVkQnk9cGkuTk9ORX0sZ2V0Qm91bmRpbmdSZWN0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdHlsZTtpZih0aGlzLl9fZGlydHkmJmFyKHQpLCF0aGlzLl9yZWN0KXt2YXIgZT10LnRleHQ7bnVsbCE9ZT9lKz1cIlwiOmU9XCJcIjt2YXIgaT1OaSh0LnRleHQrXCJcIix0LmZvbnQsdC50ZXh0QWxpZ24sdC50ZXh0VmVydGljYWxBbGlnbix0LnRleHRQYWRkaW5nLHQudGV4dExpbmVIZWlnaHQsdC5yaWNoKTtpZihpLngrPXQueHx8MCxpLnkrPXQueXx8MCx2cih0LnRleHRTdHJva2UsdC50ZXh0U3Ryb2tlV2lkdGgpKXt2YXIgcj10LnRleHRTdHJva2VXaWR0aDtpLngtPXIvMixpLnktPXIvMixpLndpZHRoKz1yLGkuaGVpZ2h0Kz1yfXRoaXMuX3JlY3Q9aX1yZXR1cm4gdGhpcy5fcmVjdH19LGIoQmEsYnIpO3ZhciBJYT1wYS5leHRlbmQoe3R5cGU6XCJjaXJjbGVcIixzaGFwZTp7Y3g6MCxjeTowLHI6MH0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSxpKXtpJiZ0Lm1vdmVUbyhlLmN4K2UucixlLmN5KSx0LmFyYyhlLmN4LGUuY3ksZS5yLDAsMipNYXRoLlBJLCEwKX19KSxPYT1NYXRoLnJvdW5kO2Z1bmN0aW9uIEVhKHQsZSxpKXt2YXIgcj1PYSgyKnQpO3JldHVybihyK09hKGUpKSUyPT0wP3IvMjoocisoaT8xOi0xKSkvMn12YXIgUmE9e30sRmE9cGEuZXh0ZW5kKHt0eXBlOlwicmVjdFwiLHNoYXBlOntyOjAseDowLHk6MCx3aWR0aDowLGhlaWdodDowfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgaSxyLG4sYTt0aGlzLnN1YlBpeGVsT3B0aW1pemU/KGZ1bmN0aW9uKHQsZSxpKXt2YXIgcj1pJiZpLmxpbmVXaWR0aDtpZihlJiZyKXt2YXIgbj1lLngsYT1lLnksbz1lLndpZHRoLHM9ZS5oZWlnaHQ7dC54PUVhKG4sciwhMCksdC55PUVhKGEsciwhMCksdC53aWR0aD1NYXRoLm1heChFYShuK28sciwhMSktdC54LDA9PT1vPzA6MSksdC5oZWlnaHQ9TWF0aC5tYXgoRWEoYStzLHIsITEpLXQueSwwPT09cz8wOjEpfX0oUmEsZSx0aGlzLnN0eWxlKSxpPVJhLngscj1SYS55LG49UmEud2lkdGgsYT1SYS5oZWlnaHQsUmEucj1lLnIsZT1SYSk6KGk9ZS54LHI9ZS55LG49ZS53aWR0aCxhPWUuaGVpZ2h0KSxlLnI/S2kodCxlKTp0LnJlY3QoaSxyLG4sYSksdC5jbG9zZVBhdGgoKX19KSxIYT1wYS5leHRlbmQoe3R5cGU6XCJlbGxpcHNlXCIsc2hhcGU6e2N4OjAsY3k6MCxyeDowLHJ5OjB9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBpPWUuY3gscj1lLmN5LG49ZS5yeCxhPWUucnksbz0uNTUyMjg0OCpuLHM9LjU1MjI4NDgqYTt0Lm1vdmVUbyhpLW4sciksdC5iZXppZXJDdXJ2ZVRvKGktbixyLXMsaS1vLHItYSxpLHItYSksdC5iZXppZXJDdXJ2ZVRvKGkrbyxyLWEsaStuLHItcyxpK24sciksdC5iZXppZXJDdXJ2ZVRvKGkrbixyK3MsaStvLHIrYSxpLHIrYSksdC5iZXppZXJDdXJ2ZVRvKGktbyxyK2EsaS1uLHIrcyxpLW4sciksdC5jbG9zZVBhdGgoKX19KSxOYT17fSxXYT1wYS5leHRlbmQoe3R5cGU6XCJsaW5lXCIsc2hhcGU6e3gxOjAseTE6MCx4MjowLHkyOjAscGVyY2VudDoxfSxzdHlsZTp7c3Ryb2tlOlwiIzAwMFwiLGZpbGw6bnVsbH0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIGkscixuLGE7YT10aGlzLnN1YlBpeGVsT3B0aW1pemU/KGZ1bmN0aW9uKHQsZSxpKXt2YXIgcj1pJiZpLmxpbmVXaWR0aDtpZihlJiZyKXt2YXIgbj1lLngxLGE9ZS54MixvPWUueTEscz1lLnkyO09hKDIqbik9PT1PYSgyKmEpP3QueDE9dC54Mj1FYShuLHIsITApOih0LngxPW4sdC54Mj1hKSxPYSgyKm8pPT09T2EoMipzKT90LnkxPXQueTI9RWEobyxyLCEwKToodC55MT1vLHQueTI9cyl9fShOYSxlLHRoaXMuc3R5bGUpLGk9TmEueDEscj1OYS55MSxuPU5hLngyLE5hLnkyKTooaT1lLngxLHI9ZS55MSxuPWUueDIsZS55Mik7dmFyIG89ZS5wZXJjZW50OzAhPT1vJiYodC5tb3ZlVG8oaSxyKSxvPDEmJihuPWkqKDEtbykrbipvLGE9ciooMS1vKSthKm8pLHQubGluZVRvKG4sYSkpfSxwb2ludEF0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc2hhcGU7cmV0dXJuW2UueDEqKDEtdCkrZS54Mip0LGUueTEqKDEtdCkrZS55Mip0XX19KTtmdW5jdGlvbiBWYSh0LGUsaSxyLG4sYSxvKXt2YXIgcz0uNSooaS10KSxoPS41KihyLWUpO3JldHVybigyKihlLWkpK3MraCkqbysoLTMqKGUtaSktMipzLWgpKmErcypuK2V9ZnVuY3Rpb24gWGEodCxlLGkpe3ZhciByPWUucG9pbnRzLG49ZS5zbW9vdGg7aWYociYmMjw9ci5sZW5ndGgpe2lmKG4mJlwic3BsaW5lXCIhPT1uKXt2YXIgYT1mdW5jdGlvbih0LGUsaSxyKXt2YXIgbixhLG8scyxoPVtdLGw9W10sdT1bXSxjPVtdO2lmKHIpe289WzEvMCwxLzBdLHM9Wy0xLzAsLTEvMF07Zm9yKHZhciBmPTAsZD10Lmxlbmd0aDtmPGQ7ZisrKWF0KG8sbyx0W2ZdKSxvdChzLHMsdFtmXSk7YXQobyxvLHJbMF0pLG90KHMscyxyWzFdKX1mb3IoZj0wLGQ9dC5sZW5ndGg7ZjxkO2YrKyl7dmFyIHA9dFtmXTtpZihpKW49dFtmP2YtMTpkLTFdLGE9dFsoZisxKSVkXTtlbHNle2lmKDA9PT1mfHxmPT09ZC0xKXtoLnB1c2goaih0W2ZdKSk7Y29udGludWV9bj10W2YtMV0sYT10W2YrMV19VShsLGEsbiksSyhsLGwsZSk7dmFyIHY9dHQocCxuKSxnPXR0KHAsYSksXz12K2c7MCE9PV8mJih2Lz1fLGcvPV8pLEsodSxsLC12KSxLKGMsbCxnKTt2YXIgbT1ZKFtdLHAsdSkseT1ZKFtdLHAsYyk7ciYmKG90KG0sbSxvKSxhdChtLG0scyksb3QoeSx5LG8pLGF0KHkseSxzKSksaC5wdXNoKG0pLGgucHVzaCh5KX1yZXR1cm4gaSYmaC5wdXNoKGguc2hpZnQoKSksaH0ocixuLGksZS5zbW9vdGhDb25zdHJhaW50KTt0Lm1vdmVUbyhyWzBdWzBdLHJbMF1bMV0pO2Zvcih2YXIgbz1yLmxlbmd0aCxzPTA7czwoaT9vOm8tMSk7cysrKXt2YXIgaD1hWzIqc10sbD1hWzIqcysxXSx1PXJbKHMrMSklb107dC5iZXppZXJDdXJ2ZVRvKGhbMF0saFsxXSxsWzBdLGxbMV0sdVswXSx1WzFdKX19ZWxzZXtcInNwbGluZVwiPT09biYmKHI9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dC5sZW5ndGgscj1bXSxuPTAsYT0xO2E8aTthKyspbis9dHQodFthLTFdLHRbYV0pO3ZhciBvPW4vMjtvPW88aT9pOm87Zm9yKGE9MDthPG87YSsrKXt2YXIgcyxoLGwsdT1hLyhvLTEpKihlP2k6aS0xKSxjPU1hdGguZmxvb3IodSksZj11LWMsZD10W2MlaV07bD1lPyhzPXRbKGMtMStpKSVpXSxoPXRbKGMrMSklaV0sdFsoYysyKSVpXSk6KHM9dFswPT09Yz9jOmMtMV0saD10W2ktMjxjP2ktMTpjKzFdLHRbaS0zPGM/aS0xOmMrMl0pO3ZhciBwPWYqZix2PWYqcDtyLnB1c2goW1ZhKHNbMF0sZFswXSxoWzBdLGxbMF0sZixwLHYpLFZhKHNbMV0sZFsxXSxoWzFdLGxbMV0sZixwLHYpXSl9cmV0dXJuIHJ9KHIsaSkpLHQubW92ZVRvKHJbMF1bMF0sclswXVsxXSk7cz0xO2Zvcih2YXIgYz1yLmxlbmd0aDtzPGM7cysrKXQubGluZVRvKHJbc11bMF0scltzXVsxXSl9aSYmdC5jbG9zZVBhdGgoKX19ZnVuY3Rpb24gcWEodCl7dGhpcy5jb2xvclN0b3BzPXR8fFtdfXZhciBqYT1wYS5leHRlbmQoe3R5cGU6XCJwb2x5Z29uXCIsc2hhcGU6e3BvaW50czpudWxsLHNtb290aDohMSxzbW9vdGhDb25zdHJhaW50Om51bGx9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe1hhKHQsZSwhMCl9fSksWWE9cGEuZXh0ZW5kKHt0eXBlOlwicG9seWxpbmVcIixzaGFwZTp7cG9pbnRzOm51bGwsc21vb3RoOiExLHNtb290aENvbnN0cmFpbnQ6bnVsbH0sc3R5bGU6e3N0cm9rZTpcIiMwMDBcIixmaWxsOm51bGx9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe1hhKHQsZSwhMSl9fSk7cWEucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpxYSxhZGRDb2xvclN0b3A6ZnVuY3Rpb24odCxlKXt0aGlzLmNvbG9yU3RvcHMucHVzaCh7b2Zmc2V0OnQsY29sb3I6ZX0pfX07ZnVuY3Rpb24gVWEodCxlLGkscixuLGEpe3RoaXMueD1udWxsPT10PzA6dCx0aGlzLnk9bnVsbD09ZT8wOmUsdGhpcy54Mj1udWxsPT1pPzE6aSx0aGlzLnkyPW51bGw9PXI/MDpyLHRoaXMudHlwZT1cImxpbmVhclwiLHRoaXMuZ2xvYmFsPWF8fCExLHFhLmNhbGwodGhpcyxuKX1VYS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlVhfSxiKFVhLHFhKTt2YXIgR2E9L1tcXHMsXSsvO2Z1bmN0aW9uIFphKCl7dGhpcy5fZGVmcz17fSx0aGlzLl9yb290PW51bGwsdGhpcy5faXNEZWZpbmU9ITEsdGhpcy5faXNUZXh0PSExfVphLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbih0LGUpe2U9ZXx8e307dmFyIGk9ZnVuY3Rpb24odCl7Zm9yKEEodCkmJih0PShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcodCxcInRleHQveG1sXCIpKSw5PT09dC5ub2RlVHlwZSYmKHQ9dC5maXJzdENoaWxkKTtcInN2Z1wiIT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfHwxIT09dC5ub2RlVHlwZTspdD10Lm5leHRTaWJsaW5nO3JldHVybiB0fSh0KTtpZighaSl0aHJvdyBuZXcgRXJyb3IoXCJJbGxlZ2FsIHN2Z1wiKTt2YXIgcj1uZXcgZWk7dGhpcy5fcm9vdD1yO3ZhciBuPWkuZ2V0QXR0cmlidXRlKFwidmlld0JveFwiKXx8XCJcIixhPXBhcnNlRmxvYXQoaS5nZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiKXx8ZS53aWR0aCksbz1wYXJzZUZsb2F0KGkuZ2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIpfHxlLmhlaWdodCk7aXNOYU4oYSkmJihhPW51bGwpLGlzTmFOKG8pJiYobz1udWxsKSxlbyhpLHIsbnVsbCwhMCk7Zm9yKHZhciBzLGgsbD1pLmZpcnN0Q2hpbGQ7bDspdGhpcy5fcGFyc2VOb2RlKGwsciksbD1sLm5leHRTaWJsaW5nO2lmKG4pe3ZhciB1PVIobikuc3BsaXQoR2EpOzQ8PXUubGVuZ3RoJiYocz17eDpwYXJzZUZsb2F0KHVbMF18fDApLHk6cGFyc2VGbG9hdCh1WzFdfHwwKSx3aWR0aDpwYXJzZUZsb2F0KHVbMl0pLGhlaWdodDpwYXJzZUZsb2F0KHVbM10pfSl9aWYocyYmbnVsbCE9YSYmbnVsbCE9byYmKGg9ZnVuY3Rpb24odCxlLGkpe3ZhciByPWUvdC53aWR0aCxuPWkvdC5oZWlnaHQsYT1NYXRoLm1pbihyLG4pLG89W2EsYV0scz1bLSh0LngrdC53aWR0aC8yKSphK2UvMiwtKHQueSt0LmhlaWdodC8yKSphK2kvMl07cmV0dXJue3NjYWxlOm8scG9zaXRpb246c319KHMsYSxvKSwhZS5pZ25vcmVWaWV3Qm94KSl7dmFyIGM9cjsocj1uZXcgZWkpLmFkZChjKSxjLnNjYWxlPWguc2NhbGUuc2xpY2UoKSxjLnBvc2l0aW9uPWgucG9zaXRpb24uc2xpY2UoKX1yZXR1cm4gZS5pZ25vcmVSb290Q2xpcHx8bnVsbD09YXx8bnVsbD09b3x8ci5zZXRDbGlwUGF0aChuZXcgRmEoe3NoYXBlOnt4OjAseTowLHdpZHRoOmEsaGVpZ2h0Om99fSkpLHtyb290OnIsd2lkdGg6YSxoZWlnaHQ6byx2aWV3Qm94UmVjdDpzLHZpZXdCb3hUcmFuc2Zvcm06aH19LFphLnByb3RvdHlwZS5fcGFyc2VOb2RlPWZ1bmN0aW9uKHQsZSl7dmFyIGkscixuPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZihcImRlZnNcIj09PW4/dGhpcy5faXNEZWZpbmU9ITA6XCJ0ZXh0XCI9PT1uJiYodGhpcy5faXNUZXh0PSEwKSx0aGlzLl9pc0RlZmluZSl7aWYocj0kYVtuXSl7dmFyIGE9ci5jYWxsKHRoaXMsdCksbz10LmdldEF0dHJpYnV0ZShcImlkXCIpO28mJih0aGlzLl9kZWZzW29dPWEpfX1lbHNlKHI9UWFbbl0pJiYoaT1yLmNhbGwodGhpcyx0LGUpLGUuYWRkKGkpKTtmb3IodmFyIHM9dC5maXJzdENoaWxkO3M7KTE9PT1zLm5vZGVUeXBlJiZ0aGlzLl9wYXJzZU5vZGUocyxpKSwzPT09cy5ub2RlVHlwZSYmdGhpcy5faXNUZXh0JiZ0aGlzLl9wYXJzZVRleHQocyxpKSxzPXMubmV4dFNpYmxpbmc7XCJkZWZzXCI9PT1uP3RoaXMuX2lzRGVmaW5lPSExOlwidGV4dFwiPT09biYmKHRoaXMuX2lzVGV4dD0hMSl9LFphLnByb3RvdHlwZS5fcGFyc2VUZXh0PWZ1bmN0aW9uKHQsZSl7aWYoMT09PXQubm9kZVR5cGUpe3ZhciBpPXQuZ2V0QXR0cmlidXRlKFwiZHhcIil8fDAscj10LmdldEF0dHJpYnV0ZShcImR5XCIpfHwwO3RoaXMuX3RleHRYKz1wYXJzZUZsb2F0KGkpLHRoaXMuX3RleHRZKz1wYXJzZUZsb2F0KHIpfXZhciBuPW5ldyBCYSh7c3R5bGU6e3RleHQ6dC50ZXh0Q29udGVudCx0cmFuc2Zvcm1UZXh0OiEwfSxwb3NpdGlvbjpbdGhpcy5fdGV4dFh8fDAsdGhpcy5fdGV4dFl8fDBdfSk7S2EoZSxuKSxlbyh0LG4sdGhpcy5fZGVmcyk7dmFyIGE9bi5zdHlsZS5mb250U2l6ZTthJiZhPDkmJihuLnN0eWxlLmZvbnRTaXplPTksbi5zY2FsZT1uLnNjYWxlfHxbMSwxXSxuLnNjYWxlWzBdKj1hLzksbi5zY2FsZVsxXSo9YS85KTt2YXIgbz1uLmdldEJvdW5kaW5nUmVjdCgpO3JldHVybiB0aGlzLl90ZXh0WCs9by53aWR0aCxlLmFkZChuKSxufTt2YXIgUWE9e2c6ZnVuY3Rpb24odCxlKXt2YXIgaT1uZXcgZWk7cmV0dXJuIEthKGUsaSksZW8odCxpLHRoaXMuX2RlZnMpLGl9LHJlY3Q6ZnVuY3Rpb24odCxlKXt2YXIgaT1uZXcgRmE7cmV0dXJuIEthKGUsaSksZW8odCxpLHRoaXMuX2RlZnMpLGkuc2V0U2hhcGUoe3g6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZShcInhcIil8fDApLHk6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZShcInlcIil8fDApLHdpZHRoOnBhcnNlRmxvYXQodC5nZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiKXx8MCksaGVpZ2h0OnBhcnNlRmxvYXQodC5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIil8fDApfSksaX0sY2lyY2xlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9bmV3IElhO3JldHVybiBLYShlLGkpLGVvKHQsaSx0aGlzLl9kZWZzKSxpLnNldFNoYXBlKHtjeDpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKFwiY3hcIil8fDApLGN5OnBhcnNlRmxvYXQodC5nZXRBdHRyaWJ1dGUoXCJjeVwiKXx8MCkscjpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKFwiclwiKXx8MCl9KSxpfSxsaW5lOmZ1bmN0aW9uKHQsZSl7dmFyIGk9bmV3IFdhO3JldHVybiBLYShlLGkpLGVvKHQsaSx0aGlzLl9kZWZzKSxpLnNldFNoYXBlKHt4MTpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKFwieDFcIil8fDApLHkxOnBhcnNlRmxvYXQodC5nZXRBdHRyaWJ1dGUoXCJ5MVwiKXx8MCkseDI6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZShcIngyXCIpfHwwKSx5MjpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKFwieTJcIil8fDApfSksaX0sZWxsaXBzZTpmdW5jdGlvbih0LGUpe3ZhciBpPW5ldyBIYTtyZXR1cm4gS2EoZSxpKSxlbyh0LGksdGhpcy5fZGVmcyksaS5zZXRTaGFwZSh7Y3g6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZShcImN4XCIpfHwwKSxjeTpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKFwiY3lcIil8fDApLHJ4OnBhcnNlRmxvYXQodC5nZXRBdHRyaWJ1dGUoXCJyeFwiKXx8MCkscnk6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZShcInJ5XCIpfHwwKX0pLGl9LHBvbHlnb246ZnVuY3Rpb24odCxlKXt2YXIgaT10LmdldEF0dHJpYnV0ZShcInBvaW50c1wiKTtpPWkmJkphKGkpO3ZhciByPW5ldyBqYSh7c2hhcGU6e3BvaW50czppfHxbXX19KTtyZXR1cm4gS2EoZSxyKSxlbyh0LHIsdGhpcy5fZGVmcykscn0scG9seWxpbmU6ZnVuY3Rpb24odCxlKXt2YXIgaT1uZXcgcGE7S2EoZSxpKSxlbyh0LGksdGhpcy5fZGVmcyk7dmFyIHI9dC5nZXRBdHRyaWJ1dGUoXCJwb2ludHNcIik7cmV0dXJuIHI9ciYmSmEociksbmV3IFlhKHtzaGFwZTp7cG9pbnRzOnJ8fFtdfX0pfSxpbWFnZTpmdW5jdGlvbih0LGUpe3ZhciBpPW5ldyBrcjtyZXR1cm4gS2EoZSxpKSxlbyh0LGksdGhpcy5fZGVmcyksaS5zZXRTdHlsZSh7aW1hZ2U6dC5nZXRBdHRyaWJ1dGUoXCJ4bGluazpocmVmXCIpLHg6dC5nZXRBdHRyaWJ1dGUoXCJ4XCIpLHk6dC5nZXRBdHRyaWJ1dGUoXCJ5XCIpLHdpZHRoOnQuZ2V0QXR0cmlidXRlKFwid2lkdGhcIiksaGVpZ2h0OnQuZ2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIpfSksaX0sdGV4dDpmdW5jdGlvbih0LGUpe3ZhciBpPXQuZ2V0QXR0cmlidXRlKFwieFwiKXx8MCxyPXQuZ2V0QXR0cmlidXRlKFwieVwiKXx8MCxuPXQuZ2V0QXR0cmlidXRlKFwiZHhcIil8fDAsYT10LmdldEF0dHJpYnV0ZShcImR5XCIpfHwwO3RoaXMuX3RleHRYPXBhcnNlRmxvYXQoaSkrcGFyc2VGbG9hdChuKSx0aGlzLl90ZXh0WT1wYXJzZUZsb2F0KHIpK3BhcnNlRmxvYXQoYSk7dmFyIG89bmV3IGVpO3JldHVybiBLYShlLG8pLGVvKHQsbyx0aGlzLl9kZWZzKSxvfSx0c3BhbjpmdW5jdGlvbih0LGUpe3ZhciBpPXQuZ2V0QXR0cmlidXRlKFwieFwiKSxyPXQuZ2V0QXR0cmlidXRlKFwieVwiKTtudWxsIT1pJiYodGhpcy5fdGV4dFg9cGFyc2VGbG9hdChpKSksbnVsbCE9ciYmKHRoaXMuX3RleHRZPXBhcnNlRmxvYXQocikpO3ZhciBuPXQuZ2V0QXR0cmlidXRlKFwiZHhcIil8fDAsYT10LmdldEF0dHJpYnV0ZShcImR5XCIpfHwwLG89bmV3IGVpO3JldHVybiBLYShlLG8pLGVvKHQsbyx0aGlzLl9kZWZzKSx0aGlzLl90ZXh0WCs9bix0aGlzLl90ZXh0WSs9YSxvfSxwYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9emEodC5nZXRBdHRyaWJ1dGUoXCJkXCIpfHxcIlwiKTtyZXR1cm4gS2EoZSxpKSxlbyh0LGksdGhpcy5fZGVmcyksaX19LCRhPXtsaW5lYXJncmFkaWVudDpmdW5jdGlvbih0KXt2YXIgZT1wYXJzZUludCh0LmdldEF0dHJpYnV0ZShcIngxXCIpfHwwLDEwKSxpPXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKFwieTFcIil8fDAsMTApLHI9cGFyc2VJbnQodC5nZXRBdHRyaWJ1dGUoXCJ4MlwiKXx8MTAsMTApLG49cGFyc2VJbnQodC5nZXRBdHRyaWJ1dGUoXCJ5MlwiKXx8MCwxMCksYT1uZXcgVWEoZSxpLHIsbik7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5maXJzdENoaWxkO2Zvcig7aTspe2lmKDE9PT1pLm5vZGVUeXBlKXt2YXIgcj1pLmdldEF0dHJpYnV0ZShcIm9mZnNldFwiKTtyPTA8ci5pbmRleE9mKFwiJVwiKT9wYXJzZUludChyLDEwKS8xMDA6cj9wYXJzZUZsb2F0KHIpOjA7dmFyIG49aS5nZXRBdHRyaWJ1dGUoXCJzdG9wLWNvbG9yXCIpfHxcIiMwMDAwMDBcIjtlLmFkZENvbG9yU3RvcChyLG4pfWk9aS5uZXh0U2libGluZ319KHQsYSksYX0scmFkaWFsZ3JhZGllbnQ6ZnVuY3Rpb24odCl7fX07ZnVuY3Rpb24gS2EodCxlKXt0JiZ0Ll9faW5oZXJpdGVkU3R5bGUmJihlLl9faW5oZXJpdGVkU3R5bGV8fChlLl9faW5oZXJpdGVkU3R5bGU9e30pLGcoZS5fX2luaGVyaXRlZFN0eWxlLHQuX19pbmhlcml0ZWRTdHlsZSkpfWZ1bmN0aW9uIEphKHQpe2Zvcih2YXIgZT1SKHQpLnNwbGl0KEdhKSxpPVtdLHI9MDtyPGUubGVuZ3RoO3IrPTIpe3ZhciBuPXBhcnNlRmxvYXQoZVtyXSksYT1wYXJzZUZsb2F0KGVbcisxXSk7aS5wdXNoKFtuLGFdKX1yZXR1cm4gaX12YXIgdG89e2ZpbGw6XCJmaWxsXCIsc3Ryb2tlOlwic3Ryb2tlXCIsXCJzdHJva2Utd2lkdGhcIjpcImxpbmVXaWR0aFwiLG9wYWNpdHk6XCJvcGFjaXR5XCIsXCJmaWxsLW9wYWNpdHlcIjpcImZpbGxPcGFjaXR5XCIsXCJzdHJva2Utb3BhY2l0eVwiOlwic3Ryb2tlT3BhY2l0eVwiLFwic3Ryb2tlLWRhc2hhcnJheVwiOlwibGluZURhc2hcIixcInN0cm9rZS1kYXNob2Zmc2V0XCI6XCJsaW5lRGFzaE9mZnNldFwiLFwic3Ryb2tlLWxpbmVjYXBcIjpcImxpbmVDYXBcIixcInN0cm9rZS1saW5lam9pblwiOlwibGluZUpvaW5cIixcInN0cm9rZS1taXRlcmxpbWl0XCI6XCJtaXRlckxpbWl0XCIsXCJmb250LWZhbWlseVwiOlwiZm9udEZhbWlseVwiLFwiZm9udC1zaXplXCI6XCJmb250U2l6ZVwiLFwiZm9udC1zdHlsZVwiOlwiZm9udFN0eWxlXCIsXCJmb250LXdlaWdodFwiOlwiZm9udFdlaWdodFwiLFwidGV4dC1hbGlnblwiOlwidGV4dEFsaWduXCIsXCJhbGlnbm1lbnQtYmFzZWxpbmVcIjpcInRleHRCYXNlbGluZVwifTtmdW5jdGlvbiBlbyh0LGUsaSxyKXt2YXIgbj1lLl9faW5oZXJpdGVkU3R5bGV8fHt9LGE9XCJ0ZXh0XCI9PT1lLnR5cGU7aWYoMT09PXQubm9kZVR5cGUmJihmdW5jdGlvbih0LGUpe3ZhciBpPXQuZ2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIpO2lmKGkpe2k9aS5yZXBsYWNlKC8sL2csXCIgXCIpO3ZhciByPW51bGwsbj1bXTtpLnJlcGxhY2Uobm8sZnVuY3Rpb24odCxlLGkpe24ucHVzaChlLGkpfSk7Zm9yKHZhciBhPW4ubGVuZ3RoLTE7MDxhO2EtPTIpe3ZhciBvPW5bYV0scz1uW2EtMV07c3dpdGNoKHI9cnx8T3QoKSxzKXtjYXNlXCJ0cmFuc2xhdGVcIjpvPVIobykuc3BsaXQoR2EpLEh0KHIscixbcGFyc2VGbG9hdChvWzBdKSxwYXJzZUZsb2F0KG9bMV18fDApXSk7YnJlYWs7Y2FzZVwic2NhbGVcIjpvPVIobykuc3BsaXQoR2EpLFd0KHIscixbcGFyc2VGbG9hdChvWzBdKSxwYXJzZUZsb2F0KG9bMV18fG9bMF0pXSk7YnJlYWs7Y2FzZVwicm90YXRlXCI6bz1SKG8pLnNwbGl0KEdhKSxOdChyLHIscGFyc2VGbG9hdChvWzBdKSk7YnJlYWs7Y2FzZVwic2tld1wiOm89UihvKS5zcGxpdChHYSksY29uc29sZS53YXJuKFwiU2tldyB0cmFuc2Zvcm0gaXMgbm90IHN1cHBvcnRlZCB5ZXRcIik7YnJlYWs7Y2FzZVwibWF0cml4XCI6bz1SKG8pLnNwbGl0KEdhKTtyWzBdPXBhcnNlRmxvYXQob1swXSksclsxXT1wYXJzZUZsb2F0KG9bMV0pLHJbMl09cGFyc2VGbG9hdChvWzJdKSxyWzNdPXBhcnNlRmxvYXQob1szXSkscls0XT1wYXJzZUZsb2F0KG9bNF0pLHJbNV09cGFyc2VGbG9hdChvWzVdKX19ZS5zZXRMb2NhbFRyYW5zZm9ybShyKX19KHQsZSksdihuLGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0QXR0cmlidXRlKFwic3R5bGVcIiksaT17fTtpZighZSlyZXR1cm4gaTt2YXIgcixuPXt9O2FvLmxhc3RJbmRleD0wO2Zvcig7bnVsbCE9KHI9YW8uZXhlYyhlKSk7KW5bclsxXV09clsyXTtmb3IodmFyIGEgaW4gdG8pdG8uaGFzT3duUHJvcGVydHkoYSkmJm51bGwhPW5bYV0mJihpW3RvW2FdXT1uW2FdKTtyZXR1cm4gaX0odCkpLCFyKSlmb3IodmFyIG8gaW4gdG8paWYodG8uaGFzT3duUHJvcGVydHkobykpe3ZhciBzPXQuZ2V0QXR0cmlidXRlKG8pO251bGwhPXMmJihuW3RvW29dXT1zKX12YXIgaD1hP1widGV4dEZpbGxcIjpcImZpbGxcIixsPWE/XCJ0ZXh0U3Ryb2tlXCI6XCJzdHJva2VcIjtlLnN0eWxlPWUuc3R5bGV8fG5ldyBfaTt2YXIgdT1lLnN0eWxlO251bGwhPW4uZmlsbCYmdS5zZXQoaCxybyhuLmZpbGwsaSkpLG51bGwhPW4uc3Ryb2tlJiZ1LnNldChsLHJvKG4uc3Ryb2tlLGkpKSxUKFtcImxpbmVXaWR0aFwiLFwib3BhY2l0eVwiLFwiZmlsbE9wYWNpdHlcIixcInN0cm9rZU9wYWNpdHlcIixcIm1pdGVyTGltaXRcIixcImZvbnRTaXplXCJdLGZ1bmN0aW9uKHQpe3ZhciBlPVwibGluZVdpZHRoXCI9PT10JiZhP1widGV4dFN0cm9rZVdpZHRoXCI6dDtudWxsIT1uW3RdJiZ1LnNldChlLHBhcnNlRmxvYXQoblt0XSkpfSksbi50ZXh0QmFzZWxpbmUmJlwiYXV0b1wiIT09bi50ZXh0QmFzZWxpbmV8fChuLnRleHRCYXNlbGluZT1cImFscGhhYmV0aWNcIiksXCJhbHBoYWJldGljXCI9PT1uLnRleHRCYXNlbGluZSYmKG4udGV4dEJhc2VsaW5lPVwiYm90dG9tXCIpLFwic3RhcnRcIj09PW4udGV4dEFsaWduJiYobi50ZXh0QWxpZ249XCJsZWZ0XCIpLFwiZW5kXCI9PT1uLnRleHRBbGlnbiYmKG4udGV4dEFsaWduPVwicmlnaHRcIiksVChbXCJsaW5lRGFzaE9mZnNldFwiLFwibGluZUNhcFwiLFwibGluZUpvaW5cIixcImZvbnRXZWlnaHRcIixcImZvbnRGYW1pbHlcIixcImZvbnRTdHlsZVwiLFwidGV4dEFsaWduXCIsXCJ0ZXh0QmFzZWxpbmVcIl0sZnVuY3Rpb24odCl7bnVsbCE9blt0XSYmdS5zZXQodCxuW3RdKX0pLG4ubGluZURhc2gmJihlLnN0eWxlLmxpbmVEYXNoPVIobi5saW5lRGFzaCkuc3BsaXQoR2EpKSx1W2xdJiZcIm5vbmVcIiE9PXVbbF0mJihlW2xdPSEwKSxlLl9faW5oZXJpdGVkU3R5bGU9bn12YXIgaW89L3VybFxcKFxccyojKC4qPylcXCkvO2Z1bmN0aW9uIHJvKHQsZSl7dmFyIGk9ZSYmdCYmdC5tYXRjaChpbyk7cmV0dXJuIGk/ZVtSKGlbMV0pXTp0fXZhciBubz0vKHRyYW5zbGF0ZXxzY2FsZXxyb3RhdGV8c2tld1h8c2tld1l8bWF0cml4KVxcKChbXFwtXFxzMC05XFwuZSxdKilcXCkvZzt2YXIgYW89LyhbXlxcczo7XSspXFxzKjpcXHMqKFteOjtdKykvZzt2YXIgb289cGEuZXh0ZW5kKHt0eXBlOlwiY29tcG91bmRcIixzaGFwZTp7cGF0aHM6bnVsbH0sX3VwZGF0ZVBhdGhEaXJ0eTpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9fZGlydHlQYXRoLGU9dGhpcy5zaGFwZS5wYXRocyxpPTA7aTxlLmxlbmd0aDtpKyspdD10fHxlW2ldLl9fZGlydHlQYXRoO3RoaXMuX19kaXJ0eVBhdGg9dCx0aGlzLl9fZGlydHk9dGhpcy5fX2RpcnR5fHx0fSxiZWZvcmVCcnVzaDpmdW5jdGlvbigpe3RoaXMuX3VwZGF0ZVBhdGhEaXJ0eSgpO2Zvcih2YXIgdD10aGlzLnNoYXBlLnBhdGhzfHxbXSxlPXRoaXMuZ2V0R2xvYmFsU2NhbGUoKSxpPTA7aTx0Lmxlbmd0aDtpKyspdFtpXS5wYXRofHx0W2ldLmNyZWF0ZVBhdGhQcm94eSgpLHRbaV0ucGF0aC5zZXRTY2FsZShlWzBdLGVbMV0sdFtpXS5zZWdtZW50SWdub3JlVGhyZXNob2xkKX0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPWUucGF0aHN8fFtdLHI9MDtyPGkubGVuZ3RoO3IrKylpW3JdLmJ1aWxkUGF0aCh0LGlbcl0uc2hhcGUsITApfSxhZnRlckJydXNoOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuc2hhcGUucGF0aHN8fFtdLGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdLl9fZGlydHlQYXRoPSExfSxnZXRCb3VuZGluZ1JlY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXBkYXRlUGF0aERpcnR5KCkscGEucHJvdG90eXBlLmdldEJvdW5kaW5nUmVjdC5jYWxsKHRoaXMpfX0pO2Z1bmN0aW9uIHNvKHQpe2JyLmNhbGwodGhpcyx0KSx0aGlzLl9kaXNwbGF5YWJsZXM9W10sdGhpcy5fdGVtcG9yYXJ5RGlzcGxheWFibGVzPVtdLHRoaXMuX2N1cnNvcj0wLHRoaXMubm90Q2xlYXI9ITB9c28ucHJvdG90eXBlLmluY3JlbWVudGFsPSEwLHNvLnByb3RvdHlwZS5jbGVhckRpc3BsYXlibGVzPWZ1bmN0aW9uKCl7dGhpcy5fZGlzcGxheWFibGVzPVtdLHRoaXMuX3RlbXBvcmFyeURpc3BsYXlhYmxlcz1bXSx0aGlzLl9jdXJzb3I9MCx0aGlzLmRpcnR5KCksdGhpcy5ub3RDbGVhcj0hMX0sc28ucHJvdG90eXBlLmFkZERpc3BsYXlhYmxlPWZ1bmN0aW9uKHQsZSl7ZT90aGlzLl90ZW1wb3JhcnlEaXNwbGF5YWJsZXMucHVzaCh0KTp0aGlzLl9kaXNwbGF5YWJsZXMucHVzaCh0KSx0aGlzLmRpcnR5KCl9LHNvLnByb3RvdHlwZS5hZGREaXNwbGF5YWJsZXM9ZnVuY3Rpb24odCxlKXtlPWV8fCExO2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXRoaXMuYWRkRGlzcGxheWFibGUodFtpXSxlKX0sc28ucHJvdG90eXBlLmVhY2hQZW5kaW5nRGlzcGxheWFibGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX2N1cnNvcjtlPHRoaXMuX2Rpc3BsYXlhYmxlcy5sZW5ndGg7ZSsrKXQmJnQodGhpcy5fZGlzcGxheWFibGVzW2VdKTtmb3IoZT0wO2U8dGhpcy5fdGVtcG9yYXJ5RGlzcGxheWFibGVzLmxlbmd0aDtlKyspdCYmdCh0aGlzLl90ZW1wb3JhcnlEaXNwbGF5YWJsZXNbZV0pfSxzby5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtmb3IodmFyIHQ9dGhpcy5fY3Vyc29yO3Q8dGhpcy5fZGlzcGxheWFibGVzLmxlbmd0aDt0KyspeyhlPXRoaXMuX2Rpc3BsYXlhYmxlc1t0XSkucGFyZW50PXRoaXMsZS51cGRhdGUoKSxlLnBhcmVudD1udWxsfWZvcih0PTA7dDx0aGlzLl90ZW1wb3JhcnlEaXNwbGF5YWJsZXMubGVuZ3RoO3QrKyl7dmFyIGU7KGU9dGhpcy5fdGVtcG9yYXJ5RGlzcGxheWFibGVzW3RdKS5wYXJlbnQ9dGhpcyxlLnVwZGF0ZSgpLGUucGFyZW50PW51bGx9fSxzby5wcm90b3R5cGUuYnJ1c2g9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dGhpcy5fY3Vyc29yO2k8dGhpcy5fZGlzcGxheWFibGVzLmxlbmd0aDtpKyspeyhyPXRoaXMuX2Rpc3BsYXlhYmxlc1tpXSkuYmVmb3JlQnJ1c2gmJnIuYmVmb3JlQnJ1c2godCksci5icnVzaCh0LGk9PT10aGlzLl9jdXJzb3I/bnVsbDp0aGlzLl9kaXNwbGF5YWJsZXNbaS0xXSksci5hZnRlckJydXNoJiZyLmFmdGVyQnJ1c2godCl9dGhpcy5fY3Vyc29yPWk7Zm9yKGk9MDtpPHRoaXMuX3RlbXBvcmFyeURpc3BsYXlhYmxlcy5sZW5ndGg7aSsrKXt2YXIgcjsocj10aGlzLl90ZW1wb3JhcnlEaXNwbGF5YWJsZXNbaV0pLmJlZm9yZUJydXNoJiZyLmJlZm9yZUJydXNoKHQpLHIuYnJ1c2godCwwPT09aT9udWxsOnRoaXMuX3RlbXBvcmFyeURpc3BsYXlhYmxlc1tpLTFdKSxyLmFmdGVyQnJ1c2gmJnIuYWZ0ZXJCcnVzaCh0KX10aGlzLl90ZW1wb3JhcnlEaXNwbGF5YWJsZXM9W10sdGhpcy5ub3RDbGVhcj0hMH07dmFyIGhvPVtdO3NvLnByb3RvdHlwZS5nZXRCb3VuZGluZ1JlY3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5fcmVjdCl7Zm9yKHZhciB0PW5ldyB0aSgxLzAsMS8wLC0xLzAsLTEvMCksZT0wO2U8dGhpcy5fZGlzcGxheWFibGVzLmxlbmd0aDtlKyspe3ZhciBpPXRoaXMuX2Rpc3BsYXlhYmxlc1tlXSxyPWkuZ2V0Qm91bmRpbmdSZWN0KCkuY2xvbmUoKTtpLm5lZWRMb2NhbFRyYW5zZm9ybSgpJiZyLmFwcGx5VHJhbnNmb3JtKGkuZ2V0TG9jYWxUcmFuc2Zvcm0oaG8pKSx0LnVuaW9uKHIpfXRoaXMuX3JlY3Q9dH1yZXR1cm4gdGhpcy5fcmVjdH0sc28ucHJvdG90eXBlLmNvbnRhaW49ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLnRyYW5zZm9ybUNvb3JkVG9Mb2NhbCh0LGUpO2lmKHRoaXMuZ2V0Qm91bmRpbmdSZWN0KCkuY29udGFpbihpWzBdLGlbMV0pKWZvcih2YXIgcj0wO3I8dGhpcy5fZGlzcGxheWFibGVzLmxlbmd0aDtyKyspe2lmKHRoaXMuX2Rpc3BsYXlhYmxlc1tyXS5jb250YWluKHQsZSkpcmV0dXJuITB9cmV0dXJuITF9LGIoc28sYnIpO3ZhciBsbz1wYS5leHRlbmQoe3R5cGU6XCJhcmNcIixzaGFwZTp7Y3g6MCxjeTowLHI6MCxzdGFydEFuZ2xlOjAsZW5kQW5nbGU6MipNYXRoLlBJLGNsb2Nrd2lzZTohMH0sc3R5bGU6e3N0cm9rZTpcIiMwMDBcIixmaWxsOm51bGx9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBpPWUuY3gscj1lLmN5LG49TWF0aC5tYXgoZS5yLDApLGE9ZS5zdGFydEFuZ2xlLG89ZS5lbmRBbmdsZSxzPWUuY2xvY2t3aXNlLGg9TWF0aC5jb3MoYSksbD1NYXRoLnNpbihhKTt0Lm1vdmVUbyhoKm4raSxsKm4rciksdC5hcmMoaSxyLG4sYSxvLCFzKX19KSx1bz1bXTtmdW5jdGlvbiBjbyh0LGUsaSl7dmFyIHI9dC5jcHgyLG49dC5jcHkyO3JldHVybiBudWxsPT09cnx8bnVsbD09PW4/WyhpP3ZuOnBuKSh0LngxLHQuY3B4MSx0LmNweDIsdC54MixlKSwoaT92bjpwbikodC55MSx0LmNweTEsdC5jcHkyLHQueTIsZSldOlsoaT95bjptbikodC54MSx0LmNweDEsdC54MixlKSwoaT95bjptbikodC55MSx0LmNweTEsdC55MixlKV19ZnVuY3Rpb24gZm8odCxlLGkscixuKXt0aGlzLng9bnVsbD09dD8uNTp0LHRoaXMueT1udWxsPT1lPy41OmUsdGhpcy5yPW51bGw9PWk/LjU6aSx0aGlzLnR5cGU9XCJyYWRpYWxcIix0aGlzLmdsb2JhbD1ufHwhMSxxYS5jYWxsKHRoaXMscil9dmFyIHBvLHZvPXBhLmV4dGVuZCh7dHlwZTpcImJlemllci1jdXJ2ZVwiLHNoYXBlOnt4MTowLHkxOjAseDI6MCx5MjowLGNweDE6MCxjcHkxOjAscGVyY2VudDoxfSxzdHlsZTp7c3Ryb2tlOlwiIzAwMFwiLGZpbGw6bnVsbH0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS54MSxyPWUueTEsbj1lLngyLGE9ZS55MixvPWUuY3B4MSxzPWUuY3B5MSxoPWUuY3B4MixsPWUuY3B5Mix1PWUucGVyY2VudDswIT09dSYmKHQubW92ZVRvKGksciksbnVsbD09aHx8bnVsbD09bD8odTwxJiYod24oaSxvLG4sdSx1byksbz11b1sxXSxuPXVvWzJdLHduKHIscyxhLHUsdW8pLHM9dW9bMV0sYT11b1syXSksdC5xdWFkcmF0aWNDdXJ2ZVRvKG8scyxuLGEpKToodTwxJiYoX24oaSxvLGgsbix1LHVvKSxvPXVvWzFdLGg9dW9bMl0sbj11b1szXSxfbihyLHMsbCxhLHUsdW8pLHM9dW9bMV0sbD11b1syXSxhPXVvWzNdKSx0LmJlemllckN1cnZlVG8obyxzLGgsbCxuLGEpKSl9LHBvaW50QXQ6ZnVuY3Rpb24odCl7cmV0dXJuIGNvKHRoaXMuc2hhcGUsdCwhMSl9LHRhbmdlbnRBdDpmdW5jdGlvbih0KXt2YXIgZT1jbyh0aGlzLnNoYXBlLHQsITApO3JldHVybiBKKGUsZSl9fSksZ289cGEuZXh0ZW5kKHt0eXBlOlwiZHJvcGxldFwiLHNoYXBlOntjeDowLGN5OjAsd2lkdGg6MCxoZWlnaHQ6MH0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5jeCxyPWUuY3ksbj1lLndpZHRoLGE9ZS5oZWlnaHQ7dC5tb3ZlVG8oaSxyK24pLHQuYmV6aWVyQ3VydmVUbyhpK24scituLGkrMypuLzIsci1uLzMsaSxyLWEpLHQuYmV6aWVyQ3VydmVUbyhpLTMqbi8yLHItbi8zLGktbixyK24saSxyK24pLHQuY2xvc2VQYXRoKCl9fSksX289cGEuZXh0ZW5kKHt0eXBlOlwiaGVhcnRcIixzaGFwZTp7Y3g6MCxjeTowLHdpZHRoOjAsaGVpZ2h0OjB9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBpPWUuY3gscj1lLmN5LG49ZS53aWR0aCxhPWUuaGVpZ2h0O3QubW92ZVRvKGksciksdC5iZXppZXJDdXJ2ZVRvKGkrbi8yLHItMiphLzMsaSsyKm4scithLzMsaSxyK2EpLHQuYmV6aWVyQ3VydmVUbyhpLTIqbixyK2EvMyxpLW4vMixyLTIqYS8zLGkscil9fSksbW89TWF0aC5QSSx5bz1NYXRoLnNpbix4bz1NYXRoLmNvcyx3bz1wYS5leHRlbmQoe3R5cGU6XCJpc29nb25cIixzaGFwZTp7eDowLHk6MCxyOjAsbjowfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLm47aWYoaSYmIShpPDIpKXt2YXIgcj1lLngsbj1lLnksYT1lLnIsbz0yKm1vL2kscz0tbW8vMjt0Lm1vdmVUbyhyK2EqeG8ocyksbithKnlvKHMpKTtmb3IodmFyIGg9MCxsPWktMTtoPGw7aCsrKXMrPW8sdC5saW5lVG8ocithKnhvKHMpLG4rYSp5byhzKSk7dC5jbG9zZVBhdGgoKX19fSksYm89cGEuZXh0ZW5kKHt0eXBlOlwicmluZ1wiLHNoYXBlOntjeDowLGN5OjAscjowLHIwOjB9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBpPWUuY3gscj1lLmN5LG49MipNYXRoLlBJO3QubW92ZVRvKGkrZS5yLHIpLHQuYXJjKGkscixlLnIsMCxuLCExKSx0Lm1vdmVUbyhpK2UucjAsciksdC5hcmMoaSxyLGUucjAsMCxuLCEwKX19KSxrbz1NYXRoLnNpbixUbz1NYXRoLmNvcyxTbz1NYXRoLlBJLzE4MCxDbz1wYS5leHRlbmQoe3R5cGU6XCJyb3NlXCIsc2hhcGU6e2N4OjAsY3k6MCxyOltdLGs6MCxuOjF9LHN0eWxlOntzdHJva2U6XCIjMDAwXCIsZmlsbDpudWxsfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgaSxyLG4sYT1lLnIsbz1lLmsscz1lLm4saD1lLmN4LGw9ZS5jeTt0Lm1vdmVUbyhoLGwpO2Zvcih2YXIgdT0wLGM9YS5sZW5ndGg7dTxjO3UrKyl7bj1hW3VdO2Zvcih2YXIgZj0wO2Y8PTM2MCpzO2YrKylpPW4qa28oby9zKmYlMzYwKlNvKSpUbyhmKlNvKStoLHI9biprbyhvL3MqZiUzNjAqU28pKmtvKGYqU28pK2wsdC5saW5lVG8oaSxyKX19fSksTW89W1tcInNoYWRvd0JsdXJcIiwwXSxbXCJzaGFkb3dDb2xvclwiLFwiIzAwMFwiXSxbXCJzaGFkb3dPZmZzZXRYXCIsMF0sW1wic2hhZG93T2Zmc2V0WVwiLDBdXSxQbz1wYS5leHRlbmQoe3R5cGU6XCJzZWN0b3JcIixzaGFwZTp7Y3g6MCxjeTowLHIwOjAscjowLHN0YXJ0QW5nbGU6MCxlbmRBbmdsZToyKk1hdGguUEksY2xvY2t3aXNlOiEwfSxicnVzaDoocG89cGEucHJvdG90eXBlLmJydXNoLF8uYnJvd3Nlci5pZSYmMTE8PV8uYnJvd3Nlci52ZXJzaW9uP2Z1bmN0aW9uKCl7dmFyIHQsZT10aGlzLl9fY2xpcFBhdGhzLGk9dGhpcy5zdHlsZTtpZihlKWZvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdLGE9biYmbi5zaGFwZSxvPW4mJm4udHlwZTtpZihhJiYoXCJzZWN0b3JcIj09PW8mJmEuc3RhcnRBbmdsZT09PWEuZW5kQW5nbGV8fFwicmVjdFwiPT09byYmKCFhLndpZHRofHwhYS5oZWlnaHQpKSl7Zm9yKHZhciBzPTA7czxNby5sZW5ndGg7cysrKU1vW3NdWzJdPWlbTW9bc11bMF1dLGlbTW9bc11bMF1dPU1vW3NdWzFdO3Q9ITA7YnJlYWt9fWlmKHBvLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0KWZvcihzPTA7czxNby5sZW5ndGg7cysrKWlbTW9bc11bMF1dPU1vW3NdWzJdfTpwbyksYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5jeCxyPWUuY3ksbj1NYXRoLm1heChlLnIwfHwwLDApLGE9TWF0aC5tYXgoZS5yLDApLG89ZS5zdGFydEFuZ2xlLHM9ZS5lbmRBbmdsZSxoPWUuY2xvY2t3aXNlLGw9TWF0aC5jb3MobyksdT1NYXRoLnNpbihvKTt0Lm1vdmVUbyhsKm4raSx1Km4rciksdC5saW5lVG8obCphK2ksdSphK3IpLHQuYXJjKGkscixhLG8scywhaCksdC5saW5lVG8oTWF0aC5jb3MocykqbitpLE1hdGguc2luKHMpKm4rciksMCE9PW4mJnQuYXJjKGkscixuLHMsbyxoKSx0LmNsb3NlUGF0aCgpfX0pLEFvPU1hdGguUEksTG89TWF0aC5jb3Msem89TWF0aC5zaW4sRG89cGEuZXh0ZW5kKHt0eXBlOlwic3RhclwiLHNoYXBlOntjeDowLGN5OjAsbjozLHIwOm51bGwscjowfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLm47aWYoaSYmIShpPDIpKXt2YXIgcj1lLmN4LG49ZS5jeSxhPWUucixvPWUucjA7bnVsbD09byYmKG89NDxpP2EqTG8oMipBby9pKS9MbyhBby9pKTphLzMpO3ZhciBzPUFvL2ksaD0tQW8vMixsPXIrYSpMbyhoKSx1PW4rYSp6byhoKTtoKz1zLHQubW92ZVRvKGwsdSk7Zm9yKHZhciBjLGY9MCxkPTIqaS0xO2Y8ZDtmKyspYz1mJTI9PTA/bzphLHQubGluZVRvKHIrYypMbyhoKSxuK2Mqem8oaCkpLGgrPXM7dC5jbG9zZVBhdGgoKX19fSksQm89TWF0aC5jb3MsSW89TWF0aC5zaW4sT289cGEuZXh0ZW5kKHt0eXBlOlwidHJvY2hvaWRcIixzaGFwZTp7Y3g6MCxjeTowLHI6MCxyMDowLGQ6MCxsb2NhdGlvbjpcIm91dFwifSxzdHlsZTp7c3Ryb2tlOlwiIzAwMFwiLGZpbGw6bnVsbH0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIGkscixuLGEsbz1lLnIscz1lLnIwLGg9ZS5kLGw9ZS5jeCx1PWUuY3ksYz1cIm91dFwiPT09ZS5sb2NhdGlvbj8xOi0xO2lmKCEoZS5sb2NhdGlvbiYmbzw9cykpe3ZhciBmLGQ9MCxwPTE7Zm9yKGk9KG8rYypzKSpCbygwKS1jKmgqQm8oMCkrbCxyPShvK2MqcykqSW8oMCktaCpJbygwKSt1LHQubW92ZVRvKGkscik7cyorK2QlKG8rYypzKSE9MDspO2Zvcig7Zj1NYXRoLlBJLzE4MCpwLG49KG8rYypzKSpCbyhmKS1jKmgqQm8oKG8vcytjKSpmKStsLGE9KG8rYypzKSpJbyhmKS1oKklvKChvL3MrYykqZikrdSx0LmxpbmVUbyhuLGEpLCsrcDw9cypkLyhvK2MqcykqMzYwOyk7fX19KTtmby5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmZvfSxiKGZvLHFhKTtmdW5jdGlvbiBFbyh0KXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIix0KX12YXIgUm89VW4uQ01ELEZvPUFycmF5LnByb3RvdHlwZS5qb2luLEhvPVwibm9uZVwiLE5vPU1hdGgucm91bmQsV289TWF0aC5zaW4sVm89TWF0aC5jb3MsWG89TWF0aC5QSSxxbz0yKk1hdGguUEksam89MTgwL1hvLFlvPTFlLTQ7ZnVuY3Rpb24gVW8odCl7cmV0dXJuIE5vKDFlNCp0KS8xZTR9ZnVuY3Rpb24gR28odCl7cmV0dXJuIHQ8WW8mJi1Zbzx0fWZ1bmN0aW9uIFpvKHQsZSl7ZSYmUW8odCxcInRyYW5zZm9ybVwiLFwibWF0cml4KFwiK0ZvLmNhbGwoZSxcIixcIikrXCIpXCIpfWZ1bmN0aW9uIFFvKHQsZSxpKXtpJiYoXCJsaW5lYXJcIj09PWkudHlwZXx8XCJyYWRpYWxcIj09PWkudHlwZSl8fHQuc2V0QXR0cmlidXRlKGUsaSl9ZnVuY3Rpb24gJG8odCxlLGkscil7aWYoZnVuY3Rpb24odCxlKXt2YXIgaT1lP3QudGV4dEZpbGw6dC5maWxsO3JldHVybiBudWxsIT1pJiZpIT09SG99KGUsaSkpe3ZhciBuPWk/ZS50ZXh0RmlsbDplLmZpbGw7UW8odCxcImZpbGxcIixuPVwidHJhbnNwYXJlbnRcIj09PW4/SG86biksUW8odCxcImZpbGwtb3BhY2l0eVwiLG51bGwhPWUuZmlsbE9wYWNpdHk/ZS5maWxsT3BhY2l0eSplLm9wYWNpdHk6ZS5vcGFjaXR5KX1lbHNlIFFvKHQsXCJmaWxsXCIsSG8pO2lmKGZ1bmN0aW9uKHQsZSl7dmFyIGk9ZT90LnRleHRTdHJva2U6dC5zdHJva2U7cmV0dXJuIG51bGwhPWkmJmkhPT1Ib30oZSxpKSl7dmFyIGE9aT9lLnRleHRTdHJva2U6ZS5zdHJva2U7UW8odCxcInN0cm9rZVwiLGE9XCJ0cmFuc3BhcmVudFwiPT09YT9IbzphKSxRbyh0LFwic3Ryb2tlLXdpZHRoXCIsKGk/ZS50ZXh0U3Ryb2tlV2lkdGg6ZS5saW5lV2lkdGgpLyghaSYmZS5zdHJva2VOb1NjYWxlP3IuZ2V0TGluZVNjYWxlKCk6MSkpLFFvKHQsXCJwYWludC1vcmRlclwiLGk/XCJzdHJva2VcIjpcImZpbGxcIiksUW8odCxcInN0cm9rZS1vcGFjaXR5XCIsbnVsbCE9ZS5zdHJva2VPcGFjaXR5P2Uuc3Ryb2tlT3BhY2l0eTplLm9wYWNpdHkpLGUubGluZURhc2g/KFFvKHQsXCJzdHJva2UtZGFzaGFycmF5XCIsZS5saW5lRGFzaC5qb2luKFwiLFwiKSksUW8odCxcInN0cm9rZS1kYXNob2Zmc2V0XCIsTm8oZS5saW5lRGFzaE9mZnNldHx8MCkpKTpRbyh0LFwic3Ryb2tlLWRhc2hhcnJheVwiLFwiXCIpLGUubGluZUNhcCYmUW8odCxcInN0cm9rZS1saW5lY2FwXCIsZS5saW5lQ2FwKSxlLmxpbmVKb2luJiZRbyh0LFwic3Ryb2tlLWxpbmVqb2luXCIsZS5saW5lSm9pbiksZS5taXRlckxpbWl0JiZRbyh0LFwic3Ryb2tlLW1pdGVybGltaXRcIixlLm1pdGVyTGltaXQpfWVsc2UgUW8odCxcInN0cm9rZVwiLEhvKX12YXIgS289e307S28uYnJ1c2g9ZnVuY3Rpb24odCl7dmFyIGU9dC5zdHlsZSxpPXQuX19zdmdFbDtpfHwoaT1FbyhcInBhdGhcIiksdC5fX3N2Z0VsPWkpLHQucGF0aHx8dC5jcmVhdGVQYXRoUHJveHkoKTt2YXIgcj10LnBhdGg7aWYodC5fX2RpcnR5UGF0aCl7ci5iZWdpblBhdGgoKSxyLnN1YlBpeGVsT3B0aW1pemU9ITEsdC5idWlsZFBhdGgocix0LnNoYXBlKSx0Ll9fZGlydHlQYXRoPSExO3ZhciBuPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxpPXQuZGF0YSxyPXQubGVuKCksbj0wO248cjspe3ZhciBhPVwiXCIsbz0wO3N3aXRjaChpW24rK10pe2Nhc2UgUm8uTTphPVwiTVwiLG89MjticmVhaztjYXNlIFJvLkw6YT1cIkxcIixvPTI7YnJlYWs7Y2FzZSBSby5ROmE9XCJRXCIsbz00O2JyZWFrO2Nhc2UgUm8uQzphPVwiQ1wiLG89NjticmVhaztjYXNlIFJvLkE6dmFyIHM9aVtuKytdLGg9aVtuKytdLGw9aVtuKytdLHU9aVtuKytdLGM9aVtuKytdLGY9aVtuKytdLGQ9aVtuKytdLHA9aVtuKytdLHY9TWF0aC5hYnMoZiksZz1Hbyh2LXFvKXx8KHA/cW88PWY6cW88PS1mKSxfPTA8Zj9mJXFvOmYlcW8rcW8sbT0hMTttPSEhZ3x8IUdvKHYpJiZYbzw9Xz09ISFwO3ZhciB5PVVvKHMrbCpWbyhjKSkseD1VbyhoK3UqV28oYykpO2cmJihmPXA/cW8tMWUtNDoxZS00LXFvLG09ITAsOT09PW4mJmUucHVzaChcIk1cIix5LHgpKTt2YXIgdz1VbyhzK2wqVm8oYytmKSksYj1VbyhoK3UqV28oYytmKSk7ZS5wdXNoKFwiQVwiLFVvKGwpLFVvKHUpLE5vKGQqam8pLCttLCtwLHcsYik7YnJlYWs7Y2FzZSBSby5aOmE9XCJaXCI7YnJlYWs7Y2FzZSBSby5SOnc9VW8oaVtuKytdKSxiPVVvKGlbbisrXSk7dmFyIGs9VW8oaVtuKytdKSxUPVVvKGlbbisrXSk7ZS5wdXNoKFwiTVwiLHcsYixcIkxcIix3K2ssYixcIkxcIix3K2ssYitULFwiTFwiLHcsYitULFwiTFwiLHcsYil9YSYmZS5wdXNoKGEpO2Zvcih2YXIgUz0wO1M8bztTKyspZS5wdXNoKFVvKGlbbisrXSkpfXJldHVybiBlLmpvaW4oXCIgXCIpfShyKTtuLmluZGV4T2YoXCJOYU5cIik8MCYmUW8oaSxcImRcIixuKX0kbyhpLGUsITEsdCksWm8oaSx0LnRyYW5zZm9ybSksbnVsbCE9ZS50ZXh0P2FzKHQsdC5nZXRCb3VuZGluZ1JlY3QoKSk6c3ModCl9O3ZhciBKbz17YnJ1c2g6ZnVuY3Rpb24odCl7dmFyIGU9dC5zdHlsZSxpPWUuaW1hZ2U7aSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQmJihpPWkuc3JjKTtpZihpKXt2YXIgcj1lLnh8fDAsbj1lLnl8fDAsYT1lLndpZHRoLG89ZS5oZWlnaHQscz10Ll9fc3ZnRWw7c3x8KHM9RW8oXCJpbWFnZVwiKSx0Ll9fc3ZnRWw9cyksaSE9PXQuX19pbWFnZVNyYyYmKGZ1bmN0aW9uKHQsZSxpKXt0LnNldEF0dHJpYnV0ZU5TKFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLGUsaSl9KHMsXCJocmVmXCIsaSksdC5fX2ltYWdlU3JjPWkpLFFvKHMsXCJ3aWR0aFwiLGEpLFFvKHMsXCJoZWlnaHRcIixvKSxRbyhzLFwieFwiLHIpLFFvKHMsXCJ5XCIsbiksWm8ocyx0LnRyYW5zZm9ybSksbnVsbCE9ZS50ZXh0P2FzKHQsdC5nZXRCb3VuZGluZ1JlY3QoKSk6c3ModCl9fX0sdHM9e30sZXM9bmV3IHRpLGlzPXt9LHJzPVtdLG5zPXtsZWZ0Olwic3RhcnRcIixyaWdodDpcImVuZFwiLGNlbnRlcjpcIm1pZGRsZVwiLG1pZGRsZTpcIm1pZGRsZVwifSxhcz1mdW5jdGlvbih0LGUpe3ZhciBpPXQuc3R5bGUscj10LnRyYW5zZm9ybSxuPXQgaW5zdGFuY2VvZiBCYXx8aS50cmFuc2Zvcm1UZXh0O3QuX19kaXJ0eSYmYXIoaSk7dmFyIGE9aS50ZXh0O2lmKG51bGwhPWEmJihhKz1cIlwiKSx5cihhLGkpKXtudWxsPT1hJiYoYT1cIlwiKSwhbiYmciYmKGVzLmNvcHkoZSksZXMuYXBwbHlUcmFuc2Zvcm0ociksZT1lcyk7dmFyIG89dC5fX3RleHRTdmdFbDtvfHwobz1FbyhcInRleHRcIiksdC5fX3RleHRTdmdFbD1vKTt2YXIgcz1vLnN0eWxlLGg9aS5mb250fHxSaSxsPW8uX19jb21wdXRlZEZvbnQ7aCE9PW8uX19zdHlsZUZvbnQmJihzLmZvbnQ9by5fX3N0eWxlRm9udD1oLGw9by5fX2NvbXB1dGVkRm9udD1zLmZvbnQpO3ZhciB1PWkudGV4dFBhZGRpbmcsYz1pLnRleHRMaW5lSGVpZ2h0LGY9dC5fX3RleHRDb3RlbnRCbG9jaztmJiYhdC5fX2RpcnR5VGV4dHx8KGY9dC5fX3RleHRDb3RlbnRCbG9jaz1aaShhLGwsdSxjLGkudHJ1bmNhdGUpKTt2YXIgZD1mLm91dGVySGVpZ2h0LHA9Zi5saW5lSGVpZ2h0O2RyKGlzLHQsaSxlKTt2YXIgdj1pcy5iYXNlWCxnPWlzLmJhc2VZLF89aXMudGV4dEFsaWdufHxcImxlZnRcIixtPWlzLnRleHRWZXJ0aWNhbEFsaWduOyFmdW5jdGlvbih0LGUsaSxyLG4sYSxvKXtFdChycyksZSYmaSYmUnQocnMsaSk7dmFyIHM9ci50ZXh0Um90YXRpb247aWYobiYmcyl7dmFyIGg9ci50ZXh0T3JpZ2luO1wiY2VudGVyXCI9PT1oPyhhPW4ud2lkdGgvMituLngsbz1uLmhlaWdodC8yK24ueSk6aCYmKGE9aFswXStuLngsbz1oWzFdK24ueSkscnNbNF0tPWEscnNbNV0tPW8sTnQocnMscnMscykscnNbNF0rPWEscnNbNV0rPW99Wm8odCxycyl9KG8sbixyLGksZSx2LGcpO3ZhciB5PXYseD1WaShnLGQsbSk7dSYmKHk9ZnVuY3Rpb24odCxlLGkpe3JldHVyblwicmlnaHRcIj09PWU/dC1pWzFdOlwiY2VudGVyXCI9PT1lP3QraVszXS8yLWlbMV0vMjp0K2lbM119KHYsXyx1KSx4Kz11WzBdKSx4Kz1wLzIsJG8obyxpLCEwLHQpO3ZhciB3PWYuY2FuQ2FjaGVCeVRleHRTdHJpbmcsYj10Ll9fdHNwYW5MaXN0fHwodC5fX3RzcGFuTGlzdD1bXSksaz1iLmxlbmd0aDtpZih3JiZ0Ll9fY2FuQ2FjaGVCeVRleHRTdHJpbmcmJnQuX190ZXh0PT09YSl7aWYodC5fX2RpcnR5VGV4dCYmaylmb3IodmFyIFQ9MDtUPGs7KytUKW9zKGJbVF0sXyx5LHgrVCpwKX1lbHNle3QuX190ZXh0PWEsdC5fX2NhbkNhY2hlQnlUZXh0U3RyaW5nPXc7dmFyIFM9Zi5saW5lcyxDPVMubGVuZ3RoO2ZvcihUPTA7VDxDO1QrKyl7dmFyIE09YltUXSxQPVNbVF07TT9NLl9fenJUZXh0IT09UCYmKE0uaW5uZXJIVE1MPVwiXCIsTS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShQKSkpOihNPWJbVF09RW8oXCJ0c3BhblwiKSxvLmFwcGVuZENoaWxkKE0pLE0uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoUCkpKSxvcyhNLF8seSx4K1QqcCl9aWYoQzxrKXtmb3IoO1Q8aztUKyspby5yZW1vdmVDaGlsZChiW1RdKTtiLmxlbmd0aD1DfX19fTtmdW5jdGlvbiBvcyh0LGUsaSxyKXtRbyh0LFwiZG9taW5hbnQtYmFzZWxpbmVcIixcIm1pZGRsZVwiKSxRbyh0LFwidGV4dC1hbmNob3JcIixuc1tlXSksUW8odCxcInhcIixpKSxRbyh0LFwieVwiLHIpfWZ1bmN0aW9uIHNzKHQpe3QmJnQuX190ZXh0U3ZnRWwmJih0Ll9fdGV4dFN2Z0VsLnBhcmVudE5vZGUmJnQuX190ZXh0U3ZnRWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0Ll9fdGV4dFN2Z0VsKSx0Ll9fdGV4dFN2Z0VsPW51bGwsdC5fX3RzcGFuTGlzdD1bXSx0Ll9fdGV4dD1udWxsKX1mdW5jdGlvbiBocygpe31mdW5jdGlvbiBscyh0LGUpe2Zvcih2YXIgaT0wLHI9ZS5sZW5ndGgsbj0wLGE9MDtpPHI7aSsrKXt2YXIgbz1lW2ldO2lmKG8ucmVtb3ZlZCl7Zm9yKHM9W10saD1hO2g8YStvLmNvdW50O2grKylzLnB1c2goaCk7by5pbmRpY2VzPXMsYSs9by5jb3VudH1lbHNle2Zvcih2YXIgcz1bXSxoPW47aDxuK28uY291bnQ7aCsrKXMucHVzaChoKTtvLmluZGljZXM9cyxuKz1vLmNvdW50LG8uYWRkZWR8fChhKz1vLmNvdW50KX19cmV0dXJuIGV9dHMuZHJhd1JlY3RUZXh0PWFzLHRzLmJydXNoPWZ1bmN0aW9uKHQpe251bGwhPXQuc3R5bGUudGV4dD9hcyh0LCExKTpzcyh0KX0saHMucHJvdG90eXBlPXtkaWZmOmZ1bmN0aW9uKGgsbCx0KXt0PXR8fGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9PT1lfSx0aGlzLmVxdWFscz10O3ZhciB1PXRoaXM7aD1oLnNsaWNlKCk7dmFyIGM9KGw9bC5zbGljZSgpKS5sZW5ndGgsZj1oLmxlbmd0aCxkPTEsZT1jK2YscD1be25ld1BvczotMSxjb21wb25lbnRzOltdfV0saT10aGlzLmV4dHJhY3RDb21tb24ocFswXSxsLGgsMCk7aWYocFswXS5uZXdQb3MrMT49YyYmZjw9aSsxKXtmb3IodmFyIHI9W10sbj0wO248bC5sZW5ndGg7bisrKXIucHVzaChuKTtyZXR1cm5be2luZGljZXM6cixjb3VudDpsLmxlbmd0aH1dfWZ1bmN0aW9uIGEoKXtmb3IodmFyIHQ9LTEqZDt0PD1kO3QrPTIpe3ZhciBlLGk9cFt0LTFdLHI9cFt0KzFdLG49KHI/ci5uZXdQb3M6MCktdDtpJiYocFt0LTFdPXZvaWQgMCk7dmFyIGE9aSYmaS5uZXdQb3MrMTxjLG89ciYmMDw9biYmbjxmO2lmKGF8fG8pe2lmKCFhfHxvJiZpLm5ld1BvczxyLm5ld1Bvcz8oZT17bmV3UG9zOihzPXIpLm5ld1Bvcyxjb21wb25lbnRzOnMuY29tcG9uZW50cy5zbGljZSgwKX0sdS5wdXNoQ29tcG9uZW50KGUuY29tcG9uZW50cyx2b2lkIDAsITApKTooKGU9aSkubmV3UG9zKyssdS5wdXNoQ29tcG9uZW50KGUuY29tcG9uZW50cywhMCx2b2lkIDApKSxuPXUuZXh0cmFjdENvbW1vbihlLGwsaCx0KSxlLm5ld1BvcysxPj1jJiZmPD1uKzEpcmV0dXJuIGxzKHUsZS5jb21wb25lbnRzLGwsaCk7cFt0XT1lfWVsc2UgcFt0XT12b2lkIDB9dmFyIHM7ZCsrfWZvcig7ZDw9ZTspe3ZhciBvPWEoKTtpZihvKXJldHVybiBvfX0scHVzaENvbXBvbmVudDpmdW5jdGlvbih0LGUsaSl7dmFyIHI9dFt0Lmxlbmd0aC0xXTtyJiZyLmFkZGVkPT09ZSYmci5yZW1vdmVkPT09aT90W3QubGVuZ3RoLTFdPXtjb3VudDpyLmNvdW50KzEsYWRkZWQ6ZSxyZW1vdmVkOml9OnQucHVzaCh7Y291bnQ6MSxhZGRlZDplLHJlbW92ZWQ6aX0pfSxleHRyYWN0Q29tbW9uOmZ1bmN0aW9uKHQsZSxpLHIpe2Zvcih2YXIgbj1lLmxlbmd0aCxhPWkubGVuZ3RoLG89dC5uZXdQb3Mscz1vLXIsaD0wO28rMTxuJiZzKzE8YSYmdGhpcy5lcXVhbHMoZVtvKzFdLGlbcysxXSk7KW8rKyxzKyssaCsrO3JldHVybiBoJiZ0LmNvbXBvbmVudHMucHVzaCh7Y291bnQ6aH0pLHQubmV3UG9zPW8sc30sdG9rZW5pemU6ZnVuY3Rpb24odCl7cmV0dXJuIHQuc2xpY2UoKX0sam9pbjpmdW5jdGlvbih0KXtyZXR1cm4gdC5zbGljZSgpfX07dmFyIHVzPW5ldyBocztmdW5jdGlvbiBjcyh0LGUsaSxyLG4pe3RoaXMuX3pySWQ9dCx0aGlzLl9zdmdSb290PWUsdGhpcy5fdGFnTmFtZXM9XCJzdHJpbmdcIj09dHlwZW9mIGk/W2ldOmksdGhpcy5fbWFya0xhYmVsPXIsdGhpcy5fZG9tTmFtZT1ufHxcIl9kb21cIix0aGlzLm5leHRJZD0wfWZ1bmN0aW9uIGZzKHQsZSl7Y3MuY2FsbCh0aGlzLHQsZSxbXCJsaW5lYXJHcmFkaWVudFwiLFwicmFkaWFsR3JhZGllbnRcIl0sXCJfX2dyYWRpZW50X2luX3VzZV9fXCIpfWZ1bmN0aW9uIGRzKHQsZSl7Y3MuY2FsbCh0aGlzLHQsZSxcImNsaXBQYXRoXCIsXCJfX2NsaXBwYXRoX2luX3VzZV9fXCIpfWZ1bmN0aW9uIHBzKHQsZSl7Y3MuY2FsbCh0aGlzLHQsZSxbXCJmaWx0ZXJcIl0sXCJfX2ZpbHRlcl9pbl91c2VfX1wiLFwiX3NoYWRvd0RvbVwiKX1mdW5jdGlvbiB2cyh0KXtyZXR1cm4gdCYmKHQuc2hhZG93Qmx1cnx8dC5zaGFkb3dPZmZzZXRYfHx0LnNoYWRvd09mZnNldFl8fHQudGV4dFNoYWRvd0JsdXJ8fHQudGV4dFNoYWRvd09mZnNldFh8fHQudGV4dFNoYWRvd09mZnNldFkpfWZ1bmN0aW9uIGdzKHQpe3JldHVybiBwYXJzZUludCh0LDEwKX1mdW5jdGlvbiBfcyh0LGUpe3JldHVybiBlJiZ0JiZlLnBhcmVudE5vZGUhPT10fWZ1bmN0aW9uIG1zKHQsZSxpKXtpZihfcyh0LGUpJiZpKXt2YXIgcj1pLm5leHRTaWJsaW5nO3I/dC5pbnNlcnRCZWZvcmUoZSxyKTp0LmFwcGVuZENoaWxkKGUpfX1mdW5jdGlvbiB5cyh0LGUpe2lmKF9zKHQsZSkpe3ZhciBpPXQuZmlyc3RDaGlsZDtpP3QuaW5zZXJ0QmVmb3JlKGUsaSk6dC5hcHBlbmRDaGlsZChlKX19ZnVuY3Rpb24geHModCxlKXtlJiZ0JiZlLnBhcmVudE5vZGU9PT10JiZ0LnJlbW92ZUNoaWxkKGUpfWZ1bmN0aW9uIHdzKHQpe3JldHVybiB0Ll9fdGV4dFN2Z0VsfWZ1bmN0aW9uIGJzKHQpe3JldHVybiB0Ll9fc3ZnRWx9Y3MucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnQ9RW8sY3MucHJvdG90eXBlLmdldERlZnM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc3ZnUm9vdCxyPXRoaXMuX3N2Z1Jvb3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJkZWZzXCIpO3JldHVybiAwPT09ci5sZW5ndGg/dD8oKHI9ZS5pbnNlcnRCZWZvcmUodGhpcy5jcmVhdGVFbGVtZW50KFwiZGVmc1wiKSxlLmZpcnN0Q2hpbGQpKS5jb250YWluc3x8KHIuY29udGFpbnM9ZnVuY3Rpb24odCl7dmFyIGU9ci5jaGlsZHJlbjtpZighZSlyZXR1cm4hMTtmb3IodmFyIGk9ZS5sZW5ndGgtMTswPD1pOy0taSlpZihlW2ldPT09dClyZXR1cm4hMDtyZXR1cm4hMX0pLHIpOm51bGw6clswXX0sY3MucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUpe2lmKHQpe3ZhciBpPXRoaXMuZ2V0RGVmcyghMSk7aWYodFt0aGlzLl9kb21OYW1lXSYmaS5jb250YWlucyh0W3RoaXMuX2RvbU5hbWVdKSlcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZlKHQpO2Vsc2V7dmFyIHI9dGhpcy5hZGQodCk7ciYmKHRbdGhpcy5fZG9tTmFtZV09cil9fX0sY3MucHJvdG90eXBlLmFkZERvbT1mdW5jdGlvbih0KXt0aGlzLmdldERlZnMoITApLmFwcGVuZENoaWxkKHQpfSxjcy5wcm90b3R5cGUucmVtb3ZlRG9tPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0RGVmcyghMSk7ZSYmdFt0aGlzLl9kb21OYW1lXSYmKGUucmVtb3ZlQ2hpbGQodFt0aGlzLl9kb21OYW1lXSksdFt0aGlzLl9kb21OYW1lXT1udWxsKX0sY3MucHJvdG90eXBlLmdldERvbXM9ZnVuY3Rpb24oKXt2YXIgaT10aGlzLmdldERlZnMoITEpO2lmKCFpKXJldHVybltdO3ZhciByPVtdO3JldHVybiBUKHRoaXMuX3RhZ05hbWVzLGZ1bmN0aW9uKHQpe3ZhciBlPWkuZ2V0RWxlbWVudHNCeVRhZ05hbWUodCk7cj1yLmNvbmNhdChbXS5zbGljZS5jYWxsKGUpKX0pLHJ9LGNzLnByb3RvdHlwZS5tYXJrQWxsVW51c2VkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXREb21zKCksZT10aGlzO1QodCxmdW5jdGlvbih0KXt0W2UuX21hcmtMYWJlbF09XCIwXCJ9KX0sY3MucHJvdG90eXBlLm1hcmtVc2VkPWZ1bmN0aW9uKHQpe3QmJih0W3RoaXMuX21hcmtMYWJlbF09XCIxXCIpfSxjcy5wcm90b3R5cGUucmVtb3ZlVW51c2VkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXREZWZzKCExKTtpZihlKXt2YXIgdD10aGlzLmdldERvbXMoKSxpPXRoaXM7VCh0LGZ1bmN0aW9uKHQpe1wiMVwiIT09dFtpLl9tYXJrTGFiZWxdJiZlLnJlbW92ZUNoaWxkKHQpfSl9fSxjcy5wcm90b3R5cGUuZ2V0U3ZnUHJveHk9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBwYT9Lbzp0IGluc3RhbmNlb2Yga3I/Sm86dCBpbnN0YW5jZW9mIEJhP3RzOktvfSxjcy5wcm90b3R5cGUuZ2V0VGV4dFN2Z0VsZW1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuX190ZXh0U3ZnRWx9LGNzLnByb3RvdHlwZS5nZXRTdmdFbGVtZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fc3ZnRWx9LGIoZnMsY3MpLGZzLnByb3RvdHlwZS5hZGRXaXRob3V0VXBkYXRlPWZ1bmN0aW9uKGEsbyl7aWYobyYmby5zdHlsZSl7dmFyIHM9dGhpcztUKFtcImZpbGxcIixcInN0cm9rZVwiXSxmdW5jdGlvbih0KXtpZihvLnN0eWxlW3RdJiYoXCJsaW5lYXJcIj09PW8uc3R5bGVbdF0udHlwZXx8XCJyYWRpYWxcIj09PW8uc3R5bGVbdF0udHlwZSkpe3ZhciBlLGk9by5zdHlsZVt0XSxyPXMuZ2V0RGVmcyghMCk7aS5fZG9tPyhlPWkuX2RvbSxyLmNvbnRhaW5zKGkuX2RvbSl8fHMuYWRkRG9tKGUpKTplPXMuYWRkKGkpLHMubWFya1VzZWQobyk7dmFyIG49ZS5nZXRBdHRyaWJ1dGUoXCJpZFwiKTthLnNldEF0dHJpYnV0ZSh0LFwidXJsKCNcIituK1wiKVwiKX19KX19LGZzLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7dmFyIGU7aWYoXCJsaW5lYXJcIj09PXQudHlwZSllPXRoaXMuY3JlYXRlRWxlbWVudChcImxpbmVhckdyYWRpZW50XCIpO2Vsc2V7aWYoXCJyYWRpYWxcIiE9PXQudHlwZSlyZXR1cm4gWGUoXCJJbGxlZ2FsIGdyYWRpZW50IHR5cGUuXCIpLG51bGw7ZT10aGlzLmNyZWF0ZUVsZW1lbnQoXCJyYWRpYWxHcmFkaWVudFwiKX1yZXR1cm4gdC5pZD10LmlkfHx0aGlzLm5leHRJZCsrLGUuc2V0QXR0cmlidXRlKFwiaWRcIixcInpyXCIrdGhpcy5fenJJZCtcIi1ncmFkaWVudC1cIit0LmlkKSx0aGlzLnVwZGF0ZURvbSh0LGUpLHRoaXMuYWRkRG9tKGUpLGV9LGZzLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oaSl7dmFyIHI9dGhpcztjcy5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcyxpLGZ1bmN0aW9uKCl7dmFyIHQ9aS50eXBlLGU9aS5fZG9tLnRhZ05hbWU7XCJsaW5lYXJcIj09PXQmJlwibGluZWFyR3JhZGllbnRcIj09PWV8fFwicmFkaWFsXCI9PT10JiZcInJhZGlhbEdyYWRpZW50XCI9PT1lP3IudXBkYXRlRG9tKGksaS5fZG9tKTooci5yZW1vdmVEb20oaSksci5hZGQoaSkpfSl9LGZzLnByb3RvdHlwZS51cGRhdGVEb209ZnVuY3Rpb24odCxlKXtpZihcImxpbmVhclwiPT09dC50eXBlKWUuc2V0QXR0cmlidXRlKFwieDFcIix0LngpLGUuc2V0QXR0cmlidXRlKFwieTFcIix0LnkpLGUuc2V0QXR0cmlidXRlKFwieDJcIix0LngyKSxlLnNldEF0dHJpYnV0ZShcInkyXCIsdC55Mik7ZWxzZXtpZihcInJhZGlhbFwiIT09dC50eXBlKXJldHVybiB2b2lkIFhlKFwiSWxsZWdhbCBncmFkaWVudCB0eXBlLlwiKTtlLnNldEF0dHJpYnV0ZShcImN4XCIsdC54KSxlLnNldEF0dHJpYnV0ZShcImN5XCIsdC55KSxlLnNldEF0dHJpYnV0ZShcInJcIix0LnIpfXQuZ2xvYmFsP2Uuc2V0QXR0cmlidXRlKFwiZ3JhZGllbnRVbml0c1wiLFwidXNlclNwYWNlT25Vc2VcIik6ZS5zZXRBdHRyaWJ1dGUoXCJncmFkaWVudFVuaXRzXCIsXCJvYmplY3RCb3VuZGluZ0JveFwiKSxlLmlubmVySFRNTD1cIlwiO2Zvcih2YXIgaT10LmNvbG9yU3RvcHMscj0wLG49aS5sZW5ndGg7cjxuOysrcil7dmFyIGE9dGhpcy5jcmVhdGVFbGVtZW50KFwic3RvcFwiKTthLnNldEF0dHJpYnV0ZShcIm9mZnNldFwiLDEwMCppW3JdLm9mZnNldCtcIiVcIik7dmFyIG89aVtyXS5jb2xvcjtpZihvLmluZGV4T2YoITEpKXt2YXIgcz1nZShvKVszXSxoPW1lKG8pO2Euc2V0QXR0cmlidXRlKFwic3RvcC1jb2xvclwiLFwiI1wiK2gpLGEuc2V0QXR0cmlidXRlKFwic3RvcC1vcGFjaXR5XCIscyl9ZWxzZSBhLnNldEF0dHJpYnV0ZShcInN0b3AtY29sb3JcIixpW3JdLmNvbG9yKTtlLmFwcGVuZENoaWxkKGEpfXQuX2RvbT1lfSxmcy5wcm90b3R5cGUubWFya1VzZWQ9ZnVuY3Rpb24odCl7aWYodC5zdHlsZSl7dmFyIGU9dC5zdHlsZS5maWxsO2UmJmUuX2RvbSYmY3MucHJvdG90eXBlLm1hcmtVc2VkLmNhbGwodGhpcyxlLl9kb20pLChlPXQuc3R5bGUuc3Ryb2tlKSYmZS5fZG9tJiZjcy5wcm90b3R5cGUubWFya1VzZWQuY2FsbCh0aGlzLGUuX2RvbSl9fSxiKGRzLGNzKSxkcy5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0U3ZnRWxlbWVudCh0KTtlJiZ0aGlzLnVwZGF0ZURvbShlLHQuX19jbGlwUGF0aHMsITEpO3ZhciBpPXRoaXMuZ2V0VGV4dFN2Z0VsZW1lbnQodCk7aSYmdGhpcy51cGRhdGVEb20oaSx0Ll9fY2xpcFBhdGhzLCEwKSx0aGlzLm1hcmtVc2VkKHQpfSxkcy5wcm90b3R5cGUudXBkYXRlRG9tPWZ1bmN0aW9uKHQsZSxpKXtpZihlJiYwPGUubGVuZ3RoKXt2YXIgcixuLGE9dGhpcy5nZXREZWZzKCEwKSxvPWVbMF0scz1pP1wiX3RleHREb21cIjpcIl9kb21cIjtvW3NdPyhuPW9bc10uZ2V0QXR0cmlidXRlKFwiaWRcIikscj1vW3NdLGEuY29udGFpbnMocil8fGEuYXBwZW5kQ2hpbGQocikpOihuPVwienJcIit0aGlzLl96cklkK1wiLWNsaXAtXCIrdGhpcy5uZXh0SWQsKyt0aGlzLm5leHRJZCwocj10aGlzLmNyZWF0ZUVsZW1lbnQoXCJjbGlwUGF0aFwiKSkuc2V0QXR0cmlidXRlKFwiaWRcIixuKSxhLmFwcGVuZENoaWxkKHIpLG9bc109cik7dmFyIGg9dGhpcy5nZXRTdmdQcm94eShvKTtpZihvLnRyYW5zZm9ybSYmby5wYXJlbnQuaW52VHJhbnNmb3JtJiYhaSl7dmFyIGw9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoby50cmFuc2Zvcm0pO0Z0KG8udHJhbnNmb3JtLG8ucGFyZW50LmludlRyYW5zZm9ybSxvLnRyYW5zZm9ybSksaC5icnVzaChvKSxvLnRyYW5zZm9ybT1sfWVsc2UgaC5icnVzaChvKTt2YXIgdT10aGlzLmdldFN2Z0VsZW1lbnQobyk7ci5pbm5lckhUTUw9XCJcIixyLmFwcGVuZENoaWxkKHUuY2xvbmVOb2RlKCkpLHQuc2V0QXR0cmlidXRlKFwiY2xpcC1wYXRoXCIsXCJ1cmwoI1wiK24rXCIpXCIpLDE8ZS5sZW5ndGgmJnRoaXMudXBkYXRlRG9tKHIsZS5zbGljZSgxKSxpKX1lbHNlIHQmJnQuc2V0QXR0cmlidXRlKFwiY2xpcC1wYXRoXCIsXCJub25lXCIpfSxkcy5wcm90b3R5cGUubWFya1VzZWQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0Ll9fY2xpcFBhdGhzJiZUKHQuX19jbGlwUGF0aHMsZnVuY3Rpb24odCl7dC5fZG9tJiZjcy5wcm90b3R5cGUubWFya1VzZWQuY2FsbChlLHQuX2RvbSksdC5fdGV4dERvbSYmY3MucHJvdG90eXBlLm1hcmtVc2VkLmNhbGwoZSx0Ll90ZXh0RG9tKX0pfSxiKHBzLGNzKSxwcy5wcm90b3R5cGUuYWRkV2l0aG91dFVwZGF0ZT1mdW5jdGlvbih0LGUpe2lmKGUmJnZzKGUuc3R5bGUpKXt2YXIgaTtpZihlLl9zaGFkb3dEb20paT1lLl9zaGFkb3dEb20sdGhpcy5nZXREZWZzKCEwKS5jb250YWlucyhlLl9zaGFkb3dEb20pfHx0aGlzLmFkZERvbShpKTtlbHNlIGk9dGhpcy5hZGQoZSk7dGhpcy5tYXJrVXNlZChlKTt2YXIgcj1pLmdldEF0dHJpYnV0ZShcImlkXCIpO3Quc3R5bGUuZmlsdGVyPVwidXJsKCNcIityK1wiKVwifX0scHMucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNyZWF0ZUVsZW1lbnQoXCJmaWx0ZXJcIik7cmV0dXJuIHQuX3NoYWRvd0RvbUlkPXQuX3NoYWRvd0RvbUlkfHx0aGlzLm5leHRJZCsrLGUuc2V0QXR0cmlidXRlKFwiaWRcIixcInpyXCIrdGhpcy5fenJJZCtcIi1zaGFkb3ctXCIrdC5fc2hhZG93RG9tSWQpLHRoaXMudXBkYXRlRG9tKHQsZSksdGhpcy5hZGREb20oZSksZX0scHMucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUpe2lmKHZzKGUuc3R5bGUpKXt2YXIgaT10aGlzO2NzLnByb3RvdHlwZS51cGRhdGUuY2FsbCh0aGlzLGUsZnVuY3Rpb24oKXtpLnVwZGF0ZURvbShlLGUuX3NoYWRvd0RvbSl9KX1lbHNlIHRoaXMucmVtb3ZlKHQsZSl9LHBzLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCxlKXtudWxsIT1lLl9zaGFkb3dEb21JZCYmKHRoaXMucmVtb3ZlRG9tKHQpLHQuc3R5bGUuZmlsdGVyPVwiXCIpfSxwcy5wcm90b3R5cGUudXBkYXRlRG9tPWZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImZlRHJvcFNoYWRvd1wiKTtpPTA9PT1pLmxlbmd0aD90aGlzLmNyZWF0ZUVsZW1lbnQoXCJmZURyb3BTaGFkb3dcIik6aVswXTt2YXIgcixuLGEsbyxzPXQuc3R5bGUsaD10LnNjYWxlJiZ0LnNjYWxlWzBdfHwxLGw9dC5zY2FsZSYmdC5zY2FsZVsxXXx8MTtpZihzLnNoYWRvd0JsdXJ8fHMuc2hhZG93T2Zmc2V0WHx8cy5zaGFkb3dPZmZzZXRZKXI9cy5zaGFkb3dPZmZzZXRYfHwwLG49cy5zaGFkb3dPZmZzZXRZfHwwLGE9cy5zaGFkb3dCbHVyLG89cy5zaGFkb3dDb2xvcjtlbHNle2lmKCFzLnRleHRTaGFkb3dCbHVyKXJldHVybiB2b2lkIHRoaXMucmVtb3ZlRG9tKGUscyk7cj1zLnRleHRTaGFkb3dPZmZzZXRYfHwwLG49cy50ZXh0U2hhZG93T2Zmc2V0WXx8MCxhPXMudGV4dFNoYWRvd0JsdXIsbz1zLnRleHRTaGFkb3dDb2xvcn1pLnNldEF0dHJpYnV0ZShcImR4XCIsci9oKSxpLnNldEF0dHJpYnV0ZShcImR5XCIsbi9sKSxpLnNldEF0dHJpYnV0ZShcImZsb29kLWNvbG9yXCIsbyk7dmFyIHU9YS8yL2grXCIgXCIrYS8yL2w7aS5zZXRBdHRyaWJ1dGUoXCJzdGREZXZpYXRpb25cIix1KSxlLnNldEF0dHJpYnV0ZShcInhcIixcIi0xMDAlXCIpLGUuc2V0QXR0cmlidXRlKFwieVwiLFwiLTEwMCVcIiksZS5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLE1hdGguY2VpbChhLzIqMjAwKStcIiVcIiksZS5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixNYXRoLmNlaWwoYS8yKjIwMCkrXCIlXCIpLGUuYXBwZW5kQ2hpbGQoaSksdC5fc2hhZG93RG9tPWV9LHBzLnByb3RvdHlwZS5tYXJrVXNlZD1mdW5jdGlvbih0KXt0Ll9zaGFkb3dEb20mJmNzLnByb3RvdHlwZS5tYXJrVXNlZC5jYWxsKHRoaXMsdC5fc2hhZG93RG9tKX07ZnVuY3Rpb24ga3ModCxlLGkscil7dGhpcy5yb290PXQsdGhpcy5zdG9yYWdlPWUsdGhpcy5fb3B0cz1pPXYoe30saXx8e30pO3ZhciBuPUVvKFwic3ZnXCIpO24uc2V0QXR0cmlidXRlKFwieG1sbnNcIixcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIpLG4uc2V0QXR0cmlidXRlKFwidmVyc2lvblwiLFwiMS4xXCIpLG4uc2V0QXR0cmlidXRlKFwiYmFzZVByb2ZpbGVcIixcImZ1bGxcIiksbi5zdHlsZS5jc3NUZXh0PVwidXNlci1zZWxlY3Q6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7XCIsdGhpcy5ncmFkaWVudE1hbmFnZXI9bmV3IGZzKHIsbiksdGhpcy5jbGlwUGF0aE1hbmFnZXI9bmV3IGRzKHIsbiksdGhpcy5zaGFkb3dNYW5hZ2VyPW5ldyBwcyhyLG4pO3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5zdHlsZS5jc3NUZXh0PVwib3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOnJlbGF0aXZlXCIsdGhpcy5fc3ZnUm9vdD1uLHRoaXMuX3ZpZXdwb3J0PWEsdC5hcHBlbmRDaGlsZChhKSxhLmFwcGVuZENoaWxkKG4pLHRoaXMucmVzaXplKGkud2lkdGgsaS5oZWlnaHQpLHRoaXMuX3Zpc2libGVMaXN0PVtdfWtzLnByb3RvdHlwZT17Y29uc3RydWN0b3I6a3MsZ2V0VHlwZTpmdW5jdGlvbigpe3JldHVyblwic3ZnXCJ9LGdldFZpZXdwb3J0Um9vdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92aWV3cG9ydH0sZ2V0Vmlld3BvcnRSb290T2Zmc2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRWaWV3cG9ydFJvb3QoKTtpZih0KXJldHVybntvZmZzZXRMZWZ0OnQub2Zmc2V0TGVmdHx8MCxvZmZzZXRUb3A6dC5vZmZzZXRUb3B8fDB9fSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdG9yYWdlLmdldERpc3BsYXlMaXN0KCEwKTt0aGlzLl9wYWludExpc3QodCl9LHNldEJhY2tncm91bmRDb2xvcjpmdW5jdGlvbih0KXt0aGlzLl92aWV3cG9ydC5zdHlsZS5iYWNrZ3JvdW5kPXR9LF9wYWludExpc3Q6ZnVuY3Rpb24odCl7dGhpcy5ncmFkaWVudE1hbmFnZXIubWFya0FsbFVudXNlZCgpLHRoaXMuY2xpcFBhdGhNYW5hZ2VyLm1hcmtBbGxVbnVzZWQoKSx0aGlzLnNoYWRvd01hbmFnZXIubWFya0FsbFVudXNlZCgpO3ZhciBlLGkscj10aGlzLl9zdmdSb290LG49dGhpcy5fdmlzaWJsZUxpc3QsYT10Lmxlbmd0aCxvPVtdO2ZvcihlPTA7ZTxhO2UrKyl7dmFyIHM9dFtlXSxoPShpPXMpaW5zdGFuY2VvZiBwYT9LbzppIGluc3RhbmNlb2Yga3I/Sm86aSBpbnN0YW5jZW9mIEJhP3RzOktvLGw9YnMocyl8fHdzKHMpO3MuaW52aXNpYmxlfHwocy5fX2RpcnR5JiYoaCYmaC5icnVzaChzKSx0aGlzLmNsaXBQYXRoTWFuYWdlci51cGRhdGUocykscy5zdHlsZSYmKHRoaXMuZ3JhZGllbnRNYW5hZ2VyLnVwZGF0ZShzLnN0eWxlLmZpbGwpLHRoaXMuZ3JhZGllbnRNYW5hZ2VyLnVwZGF0ZShzLnN0eWxlLnN0cm9rZSksdGhpcy5zaGFkb3dNYW5hZ2VyLnVwZGF0ZShsLHMpKSxzLl9fZGlydHk9ITEpLG8ucHVzaChzKSl9dmFyIHUsYz1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHVzLmRpZmYodCxlLGkpfShuLG8pO2ZvcihlPTA7ZTxjLmxlbmd0aDtlKyspe2lmKChwPWNbZV0pLnJlbW92ZWQpZm9yKHZhciBmPTA7ZjxwLmNvdW50O2YrKyl7bD1icyhzPW5bcC5pbmRpY2VzW2ZdXSk7dmFyIGQ9d3Mocyk7eHMocixsKSx4cyhyLGQpfX1mb3IoZT0wO2U8Yy5sZW5ndGg7ZSsrKXt2YXIgcDtpZigocD1jW2VdKS5hZGRlZClmb3IoZj0wO2Y8cC5jb3VudDtmKyspe2w9YnMocz1vW3AuaW5kaWNlc1tmXV0pLGQ9d3Mocyk7dT9tcyhyLGwsdSk6eXMocixsKSxsP21zKHIsZCxsKTp1P21zKHIsZCx1KTp5cyhyLGQpLG1zKHIsZCxsKSx1PWR8fGx8fHUsdGhpcy5ncmFkaWVudE1hbmFnZXIuYWRkV2l0aG91dFVwZGF0ZShsfHxkLHMpLHRoaXMuc2hhZG93TWFuYWdlci5hZGRXaXRob3V0VXBkYXRlKGx8fGQscyksdGhpcy5jbGlwUGF0aE1hbmFnZXIubWFya1VzZWQocyl9ZWxzZSBpZighcC5yZW1vdmVkKWZvcihmPTA7ZjxwLmNvdW50O2YrKyl7bD1icyhzPW9bcC5pbmRpY2VzW2ZdXSksZD13cyhzKSxsPWJzKHMpLGQ9d3Mocyk7dGhpcy5ncmFkaWVudE1hbmFnZXIubWFya1VzZWQocyksdGhpcy5ncmFkaWVudE1hbmFnZXIuYWRkV2l0aG91dFVwZGF0ZShsfHxkLHMpLHRoaXMuc2hhZG93TWFuYWdlci5tYXJrVXNlZChzKSx0aGlzLnNoYWRvd01hbmFnZXIuYWRkV2l0aG91dFVwZGF0ZShsfHxkLHMpLHRoaXMuY2xpcFBhdGhNYW5hZ2VyLm1hcmtVc2VkKHMpLGQmJm1zKHIsZCxsKSx1PWx8fGR8fHV9fXRoaXMuZ3JhZGllbnRNYW5hZ2VyLnJlbW92ZVVudXNlZCgpLHRoaXMuY2xpcFBhdGhNYW5hZ2VyLnJlbW92ZVVudXNlZCgpLHRoaXMuc2hhZG93TWFuYWdlci5yZW1vdmVVbnVzZWQoKSx0aGlzLl92aXNpYmxlTGlzdD1vfSxfZ2V0RGVmczpmdW5jdGlvbih0KXt2YXIgcixlPXRoaXMuX3N2Z1Jvb3Q7cmV0dXJuIDAhPT0ocj10aGlzLl9zdmdSb290LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiZGVmc1wiKSkubGVuZ3RoP3JbMF06dD8oKHI9ZS5pbnNlcnRCZWZvcmUoRW8oXCJkZWZzXCIpLGUuZmlyc3RDaGlsZCkpLmNvbnRhaW5zfHwoci5jb250YWlucz1mdW5jdGlvbih0KXt2YXIgZT1yLmNoaWxkcmVuO2lmKCFlKXJldHVybiExO2Zvcih2YXIgaT1lLmxlbmd0aC0xOzA8PWk7LS1pKWlmKGVbaV09PT10KXJldHVybiEwO3JldHVybiExfSkscik6bnVsbH0scmVzaXplOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fdmlld3BvcnQ7aS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO3ZhciByPXRoaXMuX29wdHM7aWYobnVsbCE9dCYmKHIud2lkdGg9dCksbnVsbCE9ZSYmKHIuaGVpZ2h0PWUpLHQ9dGhpcy5fZ2V0U2l6ZSgwKSxlPXRoaXMuX2dldFNpemUoMSksaS5zdHlsZS5kaXNwbGF5PVwiXCIsdGhpcy5fd2lkdGghPT10fHx0aGlzLl9oZWlnaHQhPT1lKXt0aGlzLl93aWR0aD10LHRoaXMuX2hlaWdodD1lO3ZhciBuPWkuc3R5bGU7bi53aWR0aD10K1wicHhcIixuLmhlaWdodD1lK1wicHhcIjt2YXIgYT10aGlzLl9zdmdSb290O2Euc2V0QXR0cmlidXRlKFwid2lkdGhcIix0KSxhLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLGUpfX0sZ2V0V2lkdGg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2lkdGh9LGdldEhlaWdodDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oZWlnaHR9LF9nZXRTaXplOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX29wdHMsaT1bXCJ3aWR0aFwiLFwiaGVpZ2h0XCJdW3RdLHI9W1wiY2xpZW50V2lkdGhcIixcImNsaWVudEhlaWdodFwiXVt0XSxuPVtcInBhZGRpbmdMZWZ0XCIsXCJwYWRkaW5nVG9wXCJdW3RdLGE9W1wicGFkZGluZ1JpZ2h0XCIsXCJwYWRkaW5nQm90dG9tXCJdW3RdO2lmKG51bGwhPWVbaV0mJlwiYXV0b1wiIT09ZVtpXSlyZXR1cm4gcGFyc2VGbG9hdChlW2ldKTt2YXIgbz10aGlzLnJvb3Qscz1kb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKG8pO3JldHVybihvW3JdfHxncyhzW2ldKXx8Z3Moby5zdHlsZVtpXSkpLShncyhzW25dKXx8MCktKGdzKHNbYV0pfHwwKXwwfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5yb290LmlubmVySFRNTD1cIlwiLHRoaXMuX3N2Z1Jvb3Q9dGhpcy5fdmlld3BvcnQ9dGhpcy5zdG9yYWdlPW51bGx9LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5fdmlld3BvcnQmJnRoaXMucm9vdC5yZW1vdmVDaGlsZCh0aGlzLl92aWV3cG9ydCl9LHBhdGhUb0RhdGFVcmw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZWZyZXNoKCksXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD1VVEYtOCxcIit0aGlzLl9zdmdSb290Lm91dGVySFRNTH19LFQoW1wiZ2V0TGF5ZXJcIixcImluc2VydExheWVyXCIsXCJlYWNoTGF5ZXJcIixcImVhY2hCdWlsdGluTGF5ZXJcIixcImVhY2hPdGhlckxheWVyXCIsXCJnZXRMYXllcnNcIixcIm1vZExheWVyXCIsXCJkZWxMYXllclwiLFwiY2xlYXJMYXllclwiLFwidG9EYXRhVVJMXCIsXCJwYXRoVG9JbWFnZVwiXSxmdW5jdGlvbih0KXtrcy5wcm90b3R5cGVbdF09ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7WGUoJ0luIFNWRyBtb2RlIHBhaW50ZXIgbm90IHN1cHBvcnQgbWV0aG9kIFwiJyt0KydcIicpfX0odCl9KSx0bihcInN2Z1wiLGtzKTt2YXIgVHMsU3M9XCJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOnZtbFwiLENzPVwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3c/bnVsbDp3aW5kb3csTXM9ITEsUHM9Q3MmJkNzLmRvY3VtZW50O2Z1bmN0aW9uIEFzKHQpe3JldHVybiBUcyh0KX1pZihQcyYmIV8uY2FudmFzU3VwcG9ydGVkKXRyeXtQcy5uYW1lc3BhY2VzLnpydm1sfHxQcy5uYW1lc3BhY2VzLmFkZChcInpydm1sXCIsU3MpLFRzPWZ1bmN0aW9uKHQpe3JldHVybiBQcy5jcmVhdGVFbGVtZW50KFwiPHpydm1sOlwiK3QrJyBjbGFzcz1cInpydm1sXCI+Jyl9fWNhdGNoKHQpe1RzPWZ1bmN0aW9uKHQpe3JldHVybiBQcy5jcmVhdGVFbGVtZW50KFwiPFwiK3QrJyB4bWxucz1cIicrU3MrJ1wiIGNsYXNzPVwienJ2bWxcIj4nKX19dmFyIExzLHpzPVVuLkNNRCxEcz1NYXRoLnJvdW5kLEJzPU1hdGguc3FydCxJcz1NYXRoLmFicyxPcz1NYXRoLmNvcyxFcz1NYXRoLnNpbixScz1NYXRoLm1heDtpZighXy5jYW52YXNTdXBwb3J0ZWQpe3ZhciBGcz1cIixcIixIcz1cInByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdFwiLE5zPTIxNjAwLFdzPU5zLzIsVnM9ZnVuY3Rpb24odCl7dC5zdHlsZS5jc3NUZXh0PVwicG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3dpZHRoOjFweDtoZWlnaHQ6MXB4O1wiLHQuY29vcmRzaXplPU5zK1wiLFwiK05zLHQuY29vcmRvcmlnaW49XCIwLDBcIn0sWHM9ZnVuY3Rpb24odCxlLGkpe3JldHVyblwicmdiKFwiK1t0LGUsaV0uam9pbihcIixcIikrXCIpXCJ9LHFzPWZ1bmN0aW9uKHQsZSl7ZSYmdCYmZS5wYXJlbnROb2RlIT09dCYmdC5hcHBlbmRDaGlsZChlKX0sanM9ZnVuY3Rpb24odCxlKXtlJiZ0JiZlLnBhcmVudE5vZGU9PT10JiZ0LnJlbW92ZUNoaWxkKGUpfSxZcz1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIDFlNSoocGFyc2VGbG9hdCh0KXx8MCkrMWUzKihwYXJzZUZsb2F0KGUpfHwwKStpfSxVcz1fcixHcz1mdW5jdGlvbih0LGUsaSl7dmFyIHI9Z2UoZSk7aT0raSxpc05hTihpKSYmKGk9MSksciYmKHQuY29sb3I9WHMoclswXSxyWzFdLHJbMl0pLHQub3BhY2l0eT1pKnJbM10pfSxacz1mdW5jdGlvbih0LGUsaSxyKXt2YXIgbj1cImZpbGxcIj09PWUsYT10LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpWzBdO251bGwhPWlbZV0mJlwibm9uZVwiIT09aVtlXSYmKG58fCFuJiZpLmxpbmVXaWR0aCk/KHRbbj9cImZpbGxlZFwiOlwic3Ryb2tlZFwiXT1cInRydWVcIixpW2VdaW5zdGFuY2VvZiBxYSYmanModCxhKSxhPWF8fEFzKGUpLG4/ZnVuY3Rpb24odCxlLGkpe3ZhciByLG4sYT1lLmZpbGw7aWYobnVsbCE9YSlpZihhIGluc3RhbmNlb2YgcWEpe3ZhciBvLHM9MCxoPVswLDBdLGw9MCx1PTEsYz1pLmdldEJvdW5kaW5nUmVjdCgpLGY9Yy53aWR0aCxkPWMuaGVpZ2h0O2lmKFwibGluZWFyXCI9PT1hLnR5cGUpe289XCJncmFkaWVudFwiO3ZhciBwPWkudHJhbnNmb3JtLHY9W2EueCpmLGEueSpkXSxnPVthLngyKmYsYS55MipkXTtwJiYobnQodix2LHApLG50KGcsZyxwKSk7dmFyIF89Z1swXS12WzBdLG09Z1sxXS12WzFdOyhzPTE4MCpNYXRoLmF0YW4yKF8sbSkvTWF0aC5QSSk8MCYmKHMrPTM2MCksczwxZS02JiYocz0wKX1lbHNle289XCJncmFkaWVudHJhZGlhbFwiO3Y9W2EueCpmLGEueSpkXSxwPWkudHJhbnNmb3JtO3ZhciB5PWkuc2NhbGUseD1mLHc9ZDtoPVsodlswXS1jLngpL3gsKHZbMV0tYy55KS93XSxwJiZudCh2LHYscCkseC89eVswXSpOcyx3Lz15WzFdKk5zO3ZhciBiPVJzKHgsdyk7bD0wL2IsdT0yKmEuci9iLWx9dmFyIGs9YS5jb2xvclN0b3BzLnNsaWNlKCk7ay5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQub2Zmc2V0LWUub2Zmc2V0fSk7Zm9yKHZhciBUPWsubGVuZ3RoLFM9W10sQz1bXSxNPTA7TTxUO00rKyl7dmFyIFA9a1tNXSxBPShyPVAuY29sb3Isdm9pZCAwLG49Z2UociksW1hzKG5bMF0sblsxXSxuWzJdKSxuWzNdXSk7Qy5wdXNoKFAub2Zmc2V0KnUrbCtcIiBcIitBWzBdKSwwIT09TSYmTSE9PVQtMXx8Uy5wdXNoKEEpfWlmKDI8PVQpe3ZhciBMPVNbMF1bMF0sej1TWzFdWzBdLEQ9U1swXVsxXSplLm9wYWNpdHksQj1TWzFdWzFdKmUub3BhY2l0eTt0LnR5cGU9byx0Lm1ldGhvZD1cIm5vbmVcIix0LmZvY3VzPVwiMTAwJVwiLHQuYW5nbGU9cyx0LmNvbG9yPUwsdC5jb2xvcjI9eix0LmNvbG9ycz1DLmpvaW4oXCIsXCIpLHQub3BhY2l0eT1CLHQub3BhY2l0eTI9RH1cInJhZGlhbFwiPT09byYmKHQuZm9jdXNwb3NpdGlvbj1oLmpvaW4oXCIsXCIpKX1lbHNlIEdzKHQsYSxlLm9wYWNpdHkpfShhLGkscik6ZnVuY3Rpb24odCxlKXtlLmxpbmVEYXNoJiYodC5kYXNoc3R5bGU9ZS5saW5lRGFzaC5qb2luKFwiIFwiKSksbnVsbD09ZS5zdHJva2V8fGUuc3Ryb2tlIGluc3RhbmNlb2YgcWF8fEdzKHQsZS5zdHJva2UsZS5vcGFjaXR5KX0oYSxpKSxxcyh0LGEpKToodFtuP1wiZmlsbGVkXCI6XCJzdHJva2VkXCJdPVwiZmFsc2VcIixqcyh0LGEpKX0sUXM9W1tdLFtdLFtdXTtwYS5wcm90b3R5cGUuYnJ1c2hWTUw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdHlsZSxpPXRoaXMuX3ZtbEVsO2l8fChpPUFzKFwic2hhcGVcIiksVnMoaSksdGhpcy5fdm1sRWw9aSksWnMoaSxcImZpbGxcIixlLHRoaXMpLFpzKGksXCJzdHJva2VcIixlLHRoaXMpO3ZhciByPXRoaXMudHJhbnNmb3JtLG49bnVsbCE9cixhPWkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzdHJva2VcIilbMF07aWYoYSl7dmFyIG89ZS5saW5lV2lkdGg7aWYobiYmIWUuc3Ryb2tlTm9TY2FsZSl7dmFyIHM9clswXSpyWzNdLXJbMV0qclsyXTtvKj1CcyhJcyhzKSl9YS53ZWlnaHQ9bytcInB4XCJ9dmFyIGg9dGhpcy5wYXRofHwodGhpcy5wYXRoPW5ldyBVbik7dGhpcy5fX2RpcnR5UGF0aCYmKGguYmVnaW5QYXRoKCksaC5zdWJQaXhlbE9wdGltaXplPSExLHRoaXMuYnVpbGRQYXRoKGgsdGhpcy5zaGFwZSksaC50b1N0YXRpYygpLHRoaXMuX19kaXJ0eVBhdGg9ITEpLGkucGF0aD1mdW5jdGlvbih0LGUpe3ZhciBpLHIsbixhLG8scyxoPXpzLk0sbD16cy5DLHU9enMuTCxjPXpzLkEsZj16cy5RLGQ9W10scD10LmRhdGEsdj10LmxlbigpO2ZvcihhPTA7YTx2Oyl7c3dpdGNoKHI9XCJcIixpPTAsbj1wW2ErK10pe2Nhc2UgaDpyPVwiIG0gXCIsaT0xLG89cFthKytdLHM9cFthKytdLFFzWzBdWzBdPW8sUXNbMF1bMV09czticmVhaztjYXNlIHU6cj1cIiBsIFwiLGk9MSxvPXBbYSsrXSxzPXBbYSsrXSxRc1swXVswXT1vLFFzWzBdWzFdPXM7YnJlYWs7Y2FzZSBmOmNhc2UgbDpyPVwiIGMgXCIsaT0zO3ZhciBnLF8sbT1wW2ErK10seT1wW2ErK10seD1wW2ErK10sdz1wW2ErK107bj09PWY/KHg9KChnPXgpKzIqbSkvMyx3PSgoXz13KSsyKnkpLzMsbT0obysyKm0pLzMseT0ocysyKnkpLzMpOihnPXBbYSsrXSxfPXBbYSsrXSksUXNbMF1bMF09bSxRc1swXVsxXT15LFFzWzFdWzBdPXgsUXNbMV1bMV09dyxvPVFzWzJdWzBdPWcscz1Rc1syXVsxXT1fO2JyZWFrO2Nhc2UgYzp2YXIgYj0wLGs9MCxUPTEsUz0xLEM9MDtlJiYoYj1lWzRdLGs9ZVs1XSxUPUJzKGVbMF0qZVswXStlWzFdKmVbMV0pLFM9QnMoZVsyXSplWzJdK2VbM10qZVszXSksQz1NYXRoLmF0YW4yKC1lWzFdL1MsZVswXS9UKSk7dmFyIE09cFthKytdLFA9cFthKytdLEE9cFthKytdLEw9cFthKytdLHo9cFthKytdK0MsRD1wW2ErK10reitDO2ErKzt2YXIgQj1wW2ErK10sST1NK09zKHopKkEsTz1QK0VzKHopKkwsRT0obT1NK09zKEQpKkEseT1QK0VzKEQpKkwsQj9cIiB3YSBcIjpcIiBhdCBcIik7TWF0aC5hYnMoSS1tKTwxZS00JiYoLjAxPE1hdGguYWJzKEQteik/QiYmKEkrPS4wMTI1KTpNYXRoLmFicyhPLVApPDFlLTQ/QiYmSTxNfHwhQiYmTTxJP3ktPS4wMTI1OnkrPS4wMTI1OkImJk88UHx8IUImJlA8Tz9tKz0uMDEyNTptLT0uMDEyNSksZC5wdXNoKEUsRHMoKChNLUEpKlQrYikqTnMtV3MpLEZzLERzKCgoUC1MKSpTK2spKk5zLVdzKSxGcyxEcygoKE0rQSkqVCtiKSpOcy1XcyksRnMsRHMoKChQK0wpKlMraykqTnMtV3MpLEZzLERzKChJKlQrYikqTnMtV3MpLEZzLERzKChPKlMraykqTnMtV3MpLEZzLERzKChtKlQrYikqTnMtV3MpLEZzLERzKCh5KlMraykqTnMtV3MpKSxvPW0scz15O2JyZWFrO2Nhc2UgenMuUjp2YXIgUj1Rc1swXSxGPVFzWzFdO1JbMF09cFthKytdLFJbMV09cFthKytdLEZbMF09UlswXStwW2ErK10sRlsxXT1SWzFdK3BbYSsrXSxlJiYobnQoUixSLGUpLG50KEYsRixlKSksUlswXT1EcyhSWzBdKk5zLVdzKSxGWzBdPURzKEZbMF0qTnMtV3MpLFJbMV09RHMoUlsxXSpOcy1XcyksRlsxXT1EcyhGWzFdKk5zLVdzKSxkLnB1c2goXCIgbSBcIixSWzBdLEZzLFJbMV0sXCIgbCBcIixGWzBdLEZzLFJbMV0sXCIgbCBcIixGWzBdLEZzLEZbMV0sXCIgbCBcIixSWzBdLEZzLEZbMV0pO2JyZWFrO2Nhc2UgenMuWjpkLnB1c2goXCIgeCBcIil9aWYoMDxpKXtkLnB1c2gocik7Zm9yKHZhciBIPTA7SDxpO0grKyl7dmFyIE49UXNbSF07ZSYmbnQoTixOLGUpLGQucHVzaChEcyhOWzBdKk5zLVdzKSxGcyxEcyhOWzFdKk5zLVdzKSxIPGktMT9GczpcIlwiKX19fXJldHVybiBkLmpvaW4oXCJcIil9KGgsdGhpcy50cmFuc2Zvcm0pLGkuc3R5bGUuekluZGV4PVlzKHRoaXMuemxldmVsLHRoaXMueix0aGlzLnoyKSxxcyh0LGkpLG51bGwhPWUudGV4dD90aGlzLmRyYXdSZWN0VGV4dCh0LHRoaXMuZ2V0Qm91bmRpbmdSZWN0KCkpOnRoaXMucmVtb3ZlUmVjdFRleHQodCl9LHBhLnByb3RvdHlwZS5vblJlbW92ZT1mdW5jdGlvbih0KXtqcyh0LHRoaXMuX3ZtbEVsKSx0aGlzLnJlbW92ZVJlY3RUZXh0KHQpfSxwYS5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24odCl7cXModCx0aGlzLl92bWxFbCksdGhpcy5hcHBlbmRSZWN0VGV4dCh0KX07a3IucHJvdG90eXBlLmJydXNoVk1MPWZ1bmN0aW9uKHQpe3ZhciBlLGkscj10aGlzLnN0eWxlLG49ci5pbWFnZTtpZihmdW5jdGlvbih0KXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdCYmdC50YWdOYW1lJiZcIklNR1wiPT09dC50YWdOYW1lLnRvVXBwZXJDYXNlKCl9KG4pKXt2YXIgYT1uLnNyYztpZihhPT09dGhpcy5faW1hZ2VTcmMpZT10aGlzLl9pbWFnZVdpZHRoLGk9dGhpcy5faW1hZ2VIZWlnaHQ7ZWxzZXt2YXIgbz1uLnJ1bnRpbWVTdHlsZSxzPW8ud2lkdGgsaD1vLmhlaWdodDtvLndpZHRoPVwiYXV0b1wiLG8uaGVpZ2h0PVwiYXV0b1wiLGU9bi53aWR0aCxpPW4uaGVpZ2h0LG8ud2lkdGg9cyxvLmhlaWdodD1oLHRoaXMuX2ltYWdlU3JjPWEsdGhpcy5faW1hZ2VXaWR0aD1lLHRoaXMuX2ltYWdlSGVpZ2h0PWl9bj1hfWVsc2Ugbj09PXRoaXMuX2ltYWdlU3JjJiYoZT10aGlzLl9pbWFnZVdpZHRoLGk9dGhpcy5faW1hZ2VIZWlnaHQpO2lmKG4pe3ZhciBsPXIueHx8MCx1PXIueXx8MCxjPXIud2lkdGgsZj1yLmhlaWdodCxkPXIuc1dpZHRoLHA9ci5zSGVpZ2h0LHY9ci5zeHx8MCxnPXIuc3l8fDAsXz1kJiZwLG09dGhpcy5fdm1sRWw7bXx8KG09UHMuY3JlYXRlRWxlbWVudChcImRpdlwiKSxWcyhtKSx0aGlzLl92bWxFbD1tKTt2YXIgeSx4PW0uc3R5bGUsdz0hMSxiPTEsaz0xO2lmKHRoaXMudHJhbnNmb3JtJiYoeT10aGlzLnRyYW5zZm9ybSxiPUJzKHlbMF0qeVswXSt5WzFdKnlbMV0pLGs9QnMoeVsyXSp5WzJdK3lbM10qeVszXSksdz15WzFdfHx5WzJdKSx3KXt2YXIgVD1bbCx1XSxTPVtsK2MsdV0sQz1bbCx1K2ZdLE09W2wrYyx1K2ZdO250KFQsVCx5KSxudChTLFMseSksbnQoQyxDLHkpLG50KE0sTSx5KTt2YXIgUD1ScyhUWzBdLFNbMF0sQ1swXSxNWzBdKSxBPVJzKFRbMV0sU1sxXSxDWzFdLE1bMV0pLEw9W107TC5wdXNoKFwiTTExPVwiLHlbMF0vYixGcyxcIk0xMj1cIix5WzJdL2ssRnMsXCJNMjE9XCIseVsxXS9iLEZzLFwiTTIyPVwiLHlbM10vayxGcyxcIkR4PVwiLERzKGwqYit5WzRdKSxGcyxcIkR5PVwiLERzKHUqayt5WzVdKSkseC5wYWRkaW5nPVwiMCBcIitEcyhQKStcInB4IFwiK0RzKEEpK1wicHggMFwiLHguZmlsdGVyPUhzK1wiLk1hdHJpeChcIitMLmpvaW4oXCJcIikrXCIsIFNpemluZ01ldGhvZD1jbGlwKVwifWVsc2UgeSYmKGw9bCpiK3lbNF0sdT11KmsreVs1XSkseC5maWx0ZXI9XCJcIix4LmxlZnQ9RHMobCkrXCJweFwiLHgudG9wPURzKHUpK1wicHhcIjt2YXIgej10aGlzLl9pbWFnZUVsLEQ9dGhpcy5fY3JvcEVsO3p8fCh6PVBzLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5faW1hZ2VFbD16KTt2YXIgQj16LnN0eWxlO2lmKF8pe2lmKGUmJmkpQi53aWR0aD1EcyhiKmUqYy9kKStcInB4XCIsQi5oZWlnaHQ9RHMoayppKmYvcCkrXCJweFwiO2Vsc2V7dmFyIEk9bmV3IEltYWdlLE89dGhpcztJLm9ubG9hZD1mdW5jdGlvbigpe0kub25sb2FkPW51bGwsZT1JLndpZHRoLGk9SS5oZWlnaHQsQi53aWR0aD1EcyhiKmUqYy9kKStcInB4XCIsQi5oZWlnaHQ9RHMoayppKmYvcCkrXCJweFwiLE8uX2ltYWdlV2lkdGg9ZSxPLl9pbWFnZUhlaWdodD1pLE8uX2ltYWdlU3JjPW59LEkuc3JjPW59RHx8KChEPVBzLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsdGhpcy5fY3JvcEVsPUQpO3ZhciBFPUQuc3R5bGU7RS53aWR0aD1EcygoYyt2KmMvZCkqYiksRS5oZWlnaHQ9RHMoKGYrZypmL3ApKmspLEUuZmlsdGVyPUhzK1wiLk1hdHJpeChEeD1cIistdipjL2QqYitcIixEeT1cIistZypmL3AqaytcIilcIixELnBhcmVudE5vZGV8fG0uYXBwZW5kQ2hpbGQoRCksei5wYXJlbnROb2RlIT09RCYmRC5hcHBlbmRDaGlsZCh6KX1lbHNlIEIud2lkdGg9RHMoYipjKStcInB4XCIsQi5oZWlnaHQ9RHMoaypmKStcInB4XCIsbS5hcHBlbmRDaGlsZCh6KSxEJiZELnBhcmVudE5vZGUmJihtLnJlbW92ZUNoaWxkKEQpLHRoaXMuX2Nyb3BFbD1udWxsKTt2YXIgUj1cIlwiLEY9ci5vcGFjaXR5O0Y8MSYmKFIrPVwiLkFscGhhKG9wYWNpdHk9XCIrRHMoMTAwKkYpK1wiKSBcIiksUis9SHMrXCIuQWxwaGFJbWFnZUxvYWRlcihzcmM9XCIrbitcIiwgU2l6aW5nTWV0aG9kPXNjYWxlKVwiLEIuZmlsdGVyPVIsbS5zdHlsZS56SW5kZXg9WXModGhpcy56bGV2ZWwsdGhpcy56LHRoaXMuejIpLHFzKHQsbSksbnVsbCE9ci50ZXh0JiZ0aGlzLmRyYXdSZWN0VGV4dCh0LHRoaXMuZ2V0Qm91bmRpbmdSZWN0KCkpfX0sa3IucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKHQpe2pzKHQsdGhpcy5fdm1sRWwpLHRoaXMuX3ZtbEVsPW51bGwsdGhpcy5fY3JvcEVsPW51bGwsdGhpcy5faW1hZ2VFbD1udWxsLHRoaXMucmVtb3ZlUmVjdFRleHQodCl9LGtyLnByb3RvdHlwZS5vbkFkZD1mdW5jdGlvbih0KXtxcyh0LHRoaXMuX3ZtbEVsKSx0aGlzLmFwcGVuZFJlY3RUZXh0KHQpfTt2YXIgJHMsS3M9XCJub3JtYWxcIixKcz17fSx0aD0wLGVoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7THM9ZnVuY3Rpb24odCxlKXt2YXIgaT1Qczskc3x8KCgkcz1pLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLnN0eWxlLmNzc1RleHQ9XCJwb3NpdGlvbjphYnNvbHV0ZTt0b3A6LTIwMDAwcHg7bGVmdDowO3BhZGRpbmc6MDttYXJnaW46MDtib3JkZXI6bm9uZTt3aGl0ZS1zcGFjZTpwcmU7XCIsUHMuYm9keS5hcHBlbmRDaGlsZCgkcykpO3RyeXskcy5zdHlsZS5mb250PWV9Y2F0Y2godCl7fXJldHVybiAkcy5pbm5lckhUTUw9XCJcIiwkcy5hcHBlbmRDaGlsZChpLmNyZWF0ZVRleHROb2RlKHQpKSx7d2lkdGg6JHMub2Zmc2V0V2lkdGh9fSxGaVtcIm1lYXN1cmVUZXh0XCJdPUxzO2Zvcih2YXIgaWg9bmV3IHRpLHJoPWZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBuPXRoaXMuc3R5bGU7dGhpcy5fX2RpcnR5JiZhcihuKTt2YXIgYT1uLnRleHQ7aWYobnVsbCE9YSYmKGErPVwiXCIpLGEpe2lmKG4ucmljaCl7dmFyIG89UWkoYSxuKTthPVtdO2Zvcih2YXIgcz0wO3M8by5saW5lcy5sZW5ndGg7cysrKXtmb3IodmFyIGg9by5saW5lc1tzXS50b2tlbnMsbD1bXSx1PTA7dTxoLmxlbmd0aDt1KyspbC5wdXNoKGhbdV0udGV4dCk7YS5wdXNoKGwuam9pbihcIlwiKSl9YT1hLmpvaW4oXCJcXG5cIil9dmFyIGMsZixkPW4udGV4dEFsaWduLHA9bi50ZXh0VmVydGljYWxBbGlnbix2PWZ1bmN0aW9uKHQpe3ZhciBlPUpzW3RdO2lmKCFlKXsxMDA8dGgmJih0aD0wLEpzPXt9KTt2YXIgaSxyPWVoLnN0eWxlO3RyeXtyLmZvbnQ9dCxpPXIuZm9udEZhbWlseS5zcGxpdChcIixcIilbMF19Y2F0Y2godCl7fWU9e3N0eWxlOnIuZm9udFN0eWxlfHxLcyx2YXJpYW50OnIuZm9udFZhcmlhbnR8fEtzLHdlaWdodDpyLmZvbnRXZWlnaHR8fEtzLHNpemU6MHxwYXJzZUZsb2F0KHIuZm9udFNpemV8fDEyKSxmYW1pbHk6aXx8XCJNaWNyb3NvZnQgWWFIZWlcIn0sSnNbdF09ZSx0aCsrfXJldHVybiBlfShuLmZvbnQpLGc9di5zdHlsZStcIiBcIit2LnZhcmlhbnQrXCIgXCIrdi53ZWlnaHQrXCIgXCIrdi5zaXplKydweCBcIicrdi5mYW1pbHkrJ1wiJztpPWl8fE5pKGEsZyxkLHAsbi50ZXh0UGFkZGluZyxuLnRleHRMaW5lSGVpZ2h0KTt2YXIgXz10aGlzLnRyYW5zZm9ybTtpZihfJiYhciYmKGloLmNvcHkoZSksaWguYXBwbHlUcmFuc2Zvcm0oXyksZT1paCksciljPWUueCxmPWUueTtlbHNle3ZhciBtPW4udGV4dFBvc2l0aW9uO2lmKG0gaW5zdGFuY2VvZiBBcnJheSljPWUueCtVcyhtWzBdLGUud2lkdGgpLGY9ZS55K1VzKG1bMV0sZS5oZWlnaHQpLGQ9ZHx8XCJsZWZ0XCI7ZWxzZXt2YXIgeT10aGlzLmNhbGN1bGF0ZVRleHRQb3NpdGlvbj90aGlzLmNhbGN1bGF0ZVRleHRQb3NpdGlvbih7fSxuLGUpOlhpKHt9LG4sZSk7Yz15LngsZj15LnksZD1kfHx5LnRleHRBbGlnbixwPXB8fHkudGV4dFZlcnRpY2FsQWxpZ259fWM9V2koYyxpLndpZHRoLGQpLGY9VmkoZixpLmhlaWdodCxwKSxmKz1pLmhlaWdodC8yO3ZhciB4LHcsYixrPUFzLFQ9dGhpcy5fdGV4dFZtbEVsO1Q/dz0oeD0oYj1ULmZpcnN0Q2hpbGQpLm5leHRTaWJsaW5nKS5uZXh0U2libGluZzooVD1rKFwibGluZVwiKSx4PWsoXCJwYXRoXCIpLHc9ayhcInRleHRwYXRoXCIpLGI9ayhcInNrZXdcIiksdy5zdHlsZVtcInYtdGV4dC1hbGlnblwiXT1cImxlZnRcIixWcyhUKSx4LnRleHRwYXRob2s9ITAsdy5vbj0hMCxULmZyb209XCIwIDBcIixULnRvPVwiMTAwMCAwLjA1XCIscXMoVCxiKSxxcyhULHgpLHFzKFQsdyksdGhpcy5fdGV4dFZtbEVsPVQpO3ZhciBTPVtjLGZdLEM9VC5zdHlsZTtfJiZyPyhudChTLFMsXyksYi5vbj0hMCxiLm1hdHJpeD1fWzBdLnRvRml4ZWQoMykrRnMrX1syXS50b0ZpeGVkKDMpK0ZzK19bMV0udG9GaXhlZCgzKStGcytfWzNdLnRvRml4ZWQoMykrXCIsMCwwXCIsYi5vZmZzZXQ9KERzKFNbMF0pfHwwKStcIixcIisoRHMoU1sxXSl8fDApLGIub3JpZ2luPVwiMCAwXCIsQy5sZWZ0PVwiMHB4XCIsQy50b3A9XCIwcHhcIik6KGIub249ITEsQy5sZWZ0PURzKGMpK1wicHhcIixDLnRvcD1EcyhmKStcInB4XCIpLHcuc3RyaW5nPWZ1bmN0aW9uKHQpe3JldHVybiBTdHJpbmcodCkucmVwbGFjZSgvJi9nLFwiJmFtcDtcIikucmVwbGFjZSgvXCIvZyxcIiZxdW90O1wiKX0oYSk7dHJ5e3cuc3R5bGUuZm9udD1nfWNhdGNoKHQpe31acyhULFwiZmlsbFwiLHtmaWxsOm4udGV4dEZpbGwsb3BhY2l0eTpuLm9wYWNpdHl9LHRoaXMpLFpzKFQsXCJzdHJva2VcIix7c3Ryb2tlOm4udGV4dFN0cm9rZSxvcGFjaXR5Om4ub3BhY2l0eSxsaW5lRGFzaDpuLmxpbmVEYXNofHxudWxsfSx0aGlzKSxULnN0eWxlLnpJbmRleD1Zcyh0aGlzLnpsZXZlbCx0aGlzLnosdGhpcy56MikscXModCxUKX19LG5oPWZ1bmN0aW9uKHQpe2pzKHQsdGhpcy5fdGV4dFZtbEVsKSx0aGlzLl90ZXh0Vm1sRWw9bnVsbH0sYWg9ZnVuY3Rpb24odCl7cXModCx0aGlzLl90ZXh0Vm1sRWwpfSxvaD1beHIsYnIsa3IscGEsQmFdLHNoPTA7c2g8b2gubGVuZ3RoO3NoKyspe3ZhciBoaD1vaFtzaF0ucHJvdG90eXBlO2hoLmRyYXdSZWN0VGV4dD1yaCxoaC5yZW1vdmVSZWN0VGV4dD1uaCxoaC5hcHBlbmRSZWN0VGV4dD1haH1CYS5wcm90b3R5cGUuYnJ1c2hWTUw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdHlsZTtudWxsIT1lLnRleHQ/dGhpcy5kcmF3UmVjdFRleHQodCx7eDplLnh8fDAseTplLnl8fDAsd2lkdGg6MCxoZWlnaHQ6MH0sdGhpcy5nZXRCb3VuZGluZ1JlY3QoKSwhMCk6dGhpcy5yZW1vdmVSZWN0VGV4dCh0KX0sQmEucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKHQpe3RoaXMucmVtb3ZlUmVjdFRleHQodCl9LEJhLnByb3RvdHlwZS5vbkFkZD1mdW5jdGlvbih0KXt0aGlzLmFwcGVuZFJlY3RUZXh0KHQpfX1mdW5jdGlvbiBsaCh0KXtyZXR1cm4gcGFyc2VJbnQodCwxMCl9ZnVuY3Rpb24gdWgodCxlKXshZnVuY3Rpb24oKXtpZighTXMmJlBzKXtNcz0hMDt2YXIgdD1Qcy5zdHlsZVNoZWV0czt0Lmxlbmd0aDwzMT9Qcy5jcmVhdGVTdHlsZVNoZWV0KCkuYWRkUnVsZShcIi56cnZtbFwiLFwiYmVoYXZpb3I6dXJsKCNkZWZhdWx0I1ZNTClcIik6dFswXS5hZGRSdWxlKFwiLnpydm1sXCIsXCJiZWhhdmlvcjp1cmwoI2RlZmF1bHQjVk1MKVwiKX19KCksdGhpcy5yb290PXQsdGhpcy5zdG9yYWdlPWU7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aS5zdHlsZS5jc3NUZXh0PVwiZGlzcGxheTppbmxpbmUtYmxvY2s7b3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjMwMHB4O2hlaWdodDoxNTBweDtcIixyLnN0eWxlLmNzc1RleHQ9XCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7XCIsdC5hcHBlbmRDaGlsZChpKSx0aGlzLl92bWxSb290PXIsdGhpcy5fdm1sVmlld3BvcnQ9aSx0aGlzLnJlc2l6ZSgpO3ZhciBuPWUuZGVsRnJvbVN0b3JhZ2UsYT1lLmFkZFRvU3RvcmFnZTtlLmRlbEZyb21TdG9yYWdlPWZ1bmN0aW9uKHQpe24uY2FsbChlLHQpLHQmJnQub25SZW1vdmUmJnQub25SZW1vdmUocil9LGUuYWRkVG9TdG9yYWdlPWZ1bmN0aW9uKHQpe3Qub25BZGQmJnQub25BZGQociksYS5jYWxsKGUsdCl9LHRoaXMuX2ZpcnN0UGFpbnQ9ITB9dWgucHJvdG90eXBlPXtjb25zdHJ1Y3Rvcjp1aCxnZXRUeXBlOmZ1bmN0aW9uKCl7cmV0dXJuXCJ2bWxcIn0sZ2V0Vmlld3BvcnRSb290OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZtbFZpZXdwb3J0fSxnZXRWaWV3cG9ydFJvb3RPZmZzZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFZpZXdwb3J0Um9vdCgpO2lmKHQpcmV0dXJue29mZnNldExlZnQ6dC5vZmZzZXRMZWZ0fHwwLG9mZnNldFRvcDp0Lm9mZnNldFRvcHx8MH19LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0b3JhZ2UuZ2V0RGlzcGxheUxpc3QoITAsITApO3RoaXMuX3BhaW50TGlzdCh0KX0sX3BhaW50TGlzdDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5fdm1sUm9vdCxpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciByPXRbaV07ci5pbnZpc2libGV8fHIuaWdub3JlPyhyLl9fYWxyZWFkeU5vdFZpc2libGV8fHIub25SZW1vdmUoZSksci5fX2FscmVhZHlOb3RWaXNpYmxlPSEwKTooci5fX2FscmVhZHlOb3RWaXNpYmxlJiZyLm9uQWRkKGUpLHIuX19hbHJlYWR5Tm90VmlzaWJsZT0hMSxyLl9fZGlydHkmJihyLmJlZm9yZUJydXNoJiZyLmJlZm9yZUJydXNoKCksKHIuYnJ1c2hWTUx8fHIuYnJ1c2gpLmNhbGwocixlKSxyLmFmdGVyQnJ1c2gmJnIuYWZ0ZXJCcnVzaCgpKSksci5fX2RpcnR5PSExfXRoaXMuX2ZpcnN0UGFpbnQmJih0aGlzLl92bWxWaWV3cG9ydC5hcHBlbmRDaGlsZChlKSx0aGlzLl9maXJzdFBhaW50PSExKX0scmVzaXplOmZ1bmN0aW9uKHQsZSl7dD1udWxsPT10P3RoaXMuX2dldFdpZHRoKCk6dCxlPW51bGw9PWU/dGhpcy5fZ2V0SGVpZ2h0KCk6ZTtpZih0aGlzLl93aWR0aCE9PXR8fHRoaXMuX2hlaWdodCE9PWUpe3RoaXMuX3dpZHRoPXQsdGhpcy5faGVpZ2h0PWU7dmFyIGk9dGhpcy5fdm1sVmlld3BvcnQuc3R5bGU7aS53aWR0aD10K1wicHhcIixpLmhlaWdodD1lK1wicHhcIn19LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0aGlzLnJvb3QuaW5uZXJIVE1MPVwiXCIsdGhpcy5fdm1sUm9vdD10aGlzLl92bWxWaWV3cG9ydD10aGlzLnN0b3JhZ2U9bnVsbH0sZ2V0V2lkdGg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2lkdGh9LGdldEhlaWdodDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oZWlnaHR9LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5fdm1sVmlld3BvcnQmJnRoaXMucm9vdC5yZW1vdmVDaGlsZCh0aGlzLl92bWxWaWV3cG9ydCl9LF9nZXRXaWR0aDpmdW5jdGlvbigpe3ZhciB0PXRoaXMucm9vdCxlPXQuY3VycmVudFN0eWxlO3JldHVybih0LmNsaWVudFdpZHRofHxsaChlLndpZHRoKSktbGgoZS5wYWRkaW5nTGVmdCktbGgoZS5wYWRkaW5nUmlnaHQpfDB9LF9nZXRIZWlnaHQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnJvb3QsZT10LmN1cnJlbnRTdHlsZTtyZXR1cm4odC5jbGllbnRIZWlnaHR8fGxoKGUuaGVpZ2h0KSktbGgoZS5wYWRkaW5nVG9wKS1saChlLnBhZGRpbmdCb3R0b20pfDB9fSxUKFtcImdldExheWVyXCIsXCJpbnNlcnRMYXllclwiLFwiZWFjaExheWVyXCIsXCJlYWNoQnVpbHRpbkxheWVyXCIsXCJlYWNoT3RoZXJMYXllclwiLFwiZ2V0TGF5ZXJzXCIsXCJtb2RMYXllclwiLFwiZGVsTGF5ZXJcIixcImNsZWFyTGF5ZXJcIixcInRvRGF0YVVSTFwiLFwicGF0aFRvSW1hZ2VcIl0sZnVuY3Rpb24odCl7dWgucHJvdG90eXBlW3RdPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe1hlKCdJbiBJRTguMCBWTUwgbW9kZSBwYWludGVyIG5vdCBzdXBwb3J0IG1ldGhvZCBcIicrdCsnXCInKX19KHQpfSksdG4oXCJ2bWxcIix1aCksdC52ZXJzaW9uPVwiNC4yLjBcIix0LmluaXQ9ZnVuY3Rpb24odCxlKXt2YXIgaT1uZXcgZW4ocigpLHQsZSk7cmV0dXJuIEpyW2kuaWRdPWl9LHQuZGlzcG9zZT1mdW5jdGlvbih0KXtpZih0KXQuZGlzcG9zZSgpO2Vsc2V7Zm9yKHZhciBlIGluIEpyKUpyLmhhc093blByb3BlcnR5KGUpJiZKcltlXS5kaXNwb3NlKCk7SnI9e319cmV0dXJuIHRoaXN9LHQuZ2V0SW5zdGFuY2U9ZnVuY3Rpb24odCl7cmV0dXJuIEpyW3RdfSx0LnJlZ2lzdGVyUGFpbnRlcj10bix0Lm1hdHJpeD1YdCx0LnZlY3Rvcj1zdCx0LmNvbG9yPVRlLHQucGF0aD1EYSx0LnV0aWw9Vix0LnBhcnNlU1ZHPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKG5ldyBaYSkucGFyc2UodCxlKX0sdC5Hcm91cD1laSx0LlBhdGg9cGEsdC5JbWFnZT1rcix0LkNvbXBvdW5kUGF0aD1vbyx0LlRleHQ9QmEsdC5JbmNyZW1lbnRhbERpc3BsYXlhYmxlPXNvLHQuQXJjPWxvLHQuQmV6aWVyQ3VydmU9dm8sdC5DaXJjbGU9SWEsdC5Ecm9wbGV0PWdvLHQuRWxsaXBzZT1IYSx0LkhlYXJ0PV9vLHQuSXNvZ29uPXdvLHQuTGluZT1XYSx0LlBvbHlnb249amEsdC5Qb2x5bGluZT1ZYSx0LlJlY3Q9RmEsdC5SaW5nPWJvLHQuUm9zZT1Dbyx0LlNlY3Rvcj1Qbyx0LlN0YXI9RG8sdC5Ucm9jaG9pZD1Pbyx0LkxpbmVhckdyYWRpZW50PVVhLHQuUmFkaWFsR3JhZGllbnQ9Zm8sdC5QYXR0ZXJuPWtpLHQuQm91bmRpbmdSZWN0PXRpfSk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///20\n')},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst rect_1 = __webpack_require__(11);\r\nconst isogon_1 = __webpack_require__(12);\r\nconst circle_1 = __webpack_require__(13);\r\n/**\r\n * 封装动画\r\n */\r\nclass Animations {\r\n    constructor(animationOption) {\r\n        // 有方向淡入淡出动画的位移\r\n        this.fadeOffset = 60;\r\n        this.option = animationOption;\r\n    }\r\n    /**\r\n     * 位置动画\r\n     * @param shape\r\n     */\r\n    position(shape) {\r\n        return {\r\n            shape: {\r\n                x: -shape.width / 2,\r\n                y: -shape.height / 2\r\n            }\r\n        };\r\n    }\r\n    /**\r\n     * 位移动画\r\n     * @param shape\r\n     */\r\n    translate(shape) {\r\n        return { position: [shape.x, shape.y] };\r\n    }\r\n    /**\r\n     * 旋转动画\r\n     * @param shape\r\n     */\r\n    rotation(shape) {\r\n        return { rotation: shape.rotation };\r\n    }\r\n    /**\r\n     * 缩放动画\r\n     * @param shape\r\n     */\r\n    scale(shape) {\r\n        // 对复合图形的子图形的’scale‘动画作特殊处理，保证scale只对父图形作用\r\n        if (shape.parentShape) {\r\n            return {\r\n                style: {\r\n                    opacity: shape.visible ? shape.style.opacity : 0\r\n                }\r\n            };\r\n        }\r\n        else {\r\n            return {\r\n                scale: shape.visible ? [1, 1] : [0, 0],\r\n                style: {\r\n                    opacity: shape.visible ? shape.style.opacity : 0\r\n                }\r\n            };\r\n        }\r\n    }\r\n    /**\r\n     * 淡入淡出动画\r\n     * @param shape\r\n     */\r\n    fade(shape) {\r\n        return {\r\n            style: {\r\n                opacity: shape.visible ? shape.style.opacity : 0\r\n            }\r\n        };\r\n    }\r\n    /**\r\n     * 从上方淡入淡出动画\r\n     * @param shape\r\n     */\r\n    fadeTop(shape) {\r\n        return {\r\n            position: [shape.x, shape.visible ? shape.y : (shape.y - this.fadeOffset)],\r\n            style: {\r\n                opacity: shape.visible ? shape.style.opacity : 0\r\n            }\r\n        };\r\n    }\r\n    /**\r\n     * 从右方淡入淡出动画\r\n     * @param shape\r\n     */\r\n    fadeRight(shape) {\r\n        return {\r\n            position: [shape.visible ? shape.x : shape.x + this.fadeOffset, shape.y],\r\n            style: {\r\n                opacity: shape.visible ? shape.style.opacity : 0\r\n            }\r\n        };\r\n    }\r\n    /**\r\n     * 从下方淡入淡出动画\r\n     * @param shape\r\n     */\r\n    fadeBottom(shape) {\r\n        return {\r\n            position: [shape.x, shape.visible ? shape.y : shape.y + this.fadeOffset],\r\n            style: {\r\n                opacity: shape.visible ? shape.style.opacity : 0\r\n            }\r\n        };\r\n    }\r\n    /**\r\n     * 从左方淡入淡出动画\r\n     * @param shape\r\n     */\r\n    fadeLeft(shape) {\r\n        return {\r\n            position: [shape.visible ? shape.x : shape.x - this.fadeOffset, shape.y],\r\n            style: {\r\n                opacity: shape.visible ? shape.style.opacity : 0\r\n            }\r\n        };\r\n    }\r\n    /**\r\n     * 尺寸动画\r\n     * @param shape\r\n     */\r\n    size(shape) {\r\n        if (shape instanceof rect_1.Rect) {\r\n            return {\r\n                shape: {\r\n                    width: shape.width,\r\n                    height: shape.height\r\n                }\r\n            };\r\n        }\r\n        else if (shape instanceof isogon_1.Isogon || shape instanceof circle_1.Circle) {\r\n            return {\r\n                shape: {\r\n                    r: shape.width / 2\r\n                }\r\n            };\r\n        }\r\n        else {\r\n            return {};\r\n        }\r\n    }\r\n    /**\r\n     * 样式动画\r\n     * @param shape\r\n     */\r\n    style(shape) {\r\n        if (shape.style.text) {\r\n            shape.zrenderShape.attr('style', {\r\n                text: shape.style.text\r\n            });\r\n        }\r\n        return { style: shape.style };\r\n    }\r\n    /**\r\n     * 路径动画\r\n     * @param shape\r\n     */\r\n    path(shape) {\r\n        return {\r\n            shape: {\r\n                points: shape.path\r\n            }\r\n        };\r\n    }\r\n    /**\r\n     * 二次贝塞尔曲线动画\r\n     * @param shape\r\n     */\r\n    curve(shape) {\r\n        return {\r\n            shape: {\r\n                x1: shape.path[0][0],\r\n                y1: shape.path[0][1],\r\n                x2: shape.path[1][0],\r\n                y2: shape.path[1][1],\r\n                cpx1: shape.controlPoint[0],\r\n                cpy1: shape.controlPoint[1]\r\n            }\r\n        };\r\n    }\r\n}\r\nexports.Animations = Animations;\r\n;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9WaWV3L2FuaW1hdGlvbnMuanM/YmViNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE4QyxjQUFjO0FBQzVELGVBQWUsbUJBQU8sQ0FBQyxFQUFnQjtBQUN2QyxpQkFBaUIsbUJBQU8sQ0FBQyxFQUFrQjtBQUMzQyxpQkFBaUIsbUJBQU8sQ0FBQyxFQUFrQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCByZWN0XzEgPSByZXF1aXJlKFwiLi4vU2hhcGVzL3JlY3RcIik7XHJcbmNvbnN0IGlzb2dvbl8xID0gcmVxdWlyZShcIi4uL1NoYXBlcy9pc29nb25cIik7XHJcbmNvbnN0IGNpcmNsZV8xID0gcmVxdWlyZShcIi4uL1NoYXBlcy9jaXJjbGVcIik7XHJcbi8qKlxyXG4gKiDlsIHoo4XliqjnlLtcclxuICovXHJcbmNsYXNzIEFuaW1hdGlvbnMge1xyXG4gICAgY29uc3RydWN0b3IoYW5pbWF0aW9uT3B0aW9uKSB7XHJcbiAgICAgICAgLy8g5pyJ5pa55ZCR5reh5YWl5reh5Ye65Yqo55S755qE5L2N56e7XHJcbiAgICAgICAgdGhpcy5mYWRlT2Zmc2V0ID0gNjA7XHJcbiAgICAgICAgdGhpcy5vcHRpb24gPSBhbmltYXRpb25PcHRpb247XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOS9jee9ruWKqOeUu1xyXG4gICAgICogQHBhcmFtIHNoYXBlXHJcbiAgICAgKi9cclxuICAgIHBvc2l0aW9uKHNoYXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc2hhcGU6IHtcclxuICAgICAgICAgICAgICAgIHg6IC1zaGFwZS53aWR0aCAvIDIsXHJcbiAgICAgICAgICAgICAgICB5OiAtc2hhcGUuaGVpZ2h0IC8gMlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5L2N56e75Yqo55S7XHJcbiAgICAgKiBAcGFyYW0gc2hhcGVcclxuICAgICAqL1xyXG4gICAgdHJhbnNsYXRlKHNoYXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgcG9zaXRpb246IFtzaGFwZS54LCBzaGFwZS55XSB9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDml4vovazliqjnlLtcclxuICAgICAqIEBwYXJhbSBzaGFwZVxyXG4gICAgICovXHJcbiAgICByb3RhdGlvbihzaGFwZSkge1xyXG4gICAgICAgIHJldHVybiB7IHJvdGF0aW9uOiBzaGFwZS5yb3RhdGlvbiB9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDnvKnmlL7liqjnlLtcclxuICAgICAqIEBwYXJhbSBzaGFwZVxyXG4gICAgICovXHJcbiAgICBzY2FsZShzaGFwZSkge1xyXG4gICAgICAgIC8vIOWvueWkjeWQiOWbvuW9oueahOWtkOWbvuW9oueahOKAmXNjYWxl4oCY5Yqo55S75L2c54m55q6K5aSE55CG77yM5L+d6K+Bc2NhbGXlj6rlr7nniLblm77lvaLkvZznlKhcclxuICAgICAgICBpZiAoc2hhcGUucGFyZW50U2hhcGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogc2hhcGUudmlzaWJsZSA/IHNoYXBlLnN0eWxlLm9wYWNpdHkgOiAwXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc2NhbGU6IHNoYXBlLnZpc2libGUgPyBbMSwgMV0gOiBbMCwgMF0sXHJcbiAgICAgICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IHNoYXBlLnZpc2libGUgPyBzaGFwZS5zdHlsZS5vcGFjaXR5IDogMFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5reh5YWl5reh5Ye65Yqo55S7XHJcbiAgICAgKiBAcGFyYW0gc2hhcGVcclxuICAgICAqL1xyXG4gICAgZmFkZShzaGFwZSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBzaGFwZS52aXNpYmxlID8gc2hhcGUuc3R5bGUub3BhY2l0eSA6IDBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOS7juS4iuaWuea3oeWFpea3oeWHuuWKqOeUu1xyXG4gICAgICogQHBhcmFtIHNoYXBlXHJcbiAgICAgKi9cclxuICAgIGZhZGVUb3Aoc2hhcGUpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogW3NoYXBlLngsIHNoYXBlLnZpc2libGUgPyBzaGFwZS55IDogKHNoYXBlLnkgLSB0aGlzLmZhZGVPZmZzZXQpXSxcclxuICAgICAgICAgICAgc3R5bGU6IHtcclxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IHNoYXBlLnZpc2libGUgPyBzaGFwZS5zdHlsZS5vcGFjaXR5IDogMFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5LuO5Y+z5pa55reh5YWl5reh5Ye65Yqo55S7XHJcbiAgICAgKiBAcGFyYW0gc2hhcGVcclxuICAgICAqL1xyXG4gICAgZmFkZVJpZ2h0KHNoYXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcG9zaXRpb246IFtzaGFwZS52aXNpYmxlID8gc2hhcGUueCA6IHNoYXBlLnggKyB0aGlzLmZhZGVPZmZzZXQsIHNoYXBlLnldLFxyXG4gICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogc2hhcGUudmlzaWJsZSA/IHNoYXBlLnN0eWxlLm9wYWNpdHkgOiAwXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDku47kuIvmlrnmt6HlhaXmt6Hlh7rliqjnlLtcclxuICAgICAqIEBwYXJhbSBzaGFwZVxyXG4gICAgICovXHJcbiAgICBmYWRlQm90dG9tKHNoYXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcG9zaXRpb246IFtzaGFwZS54LCBzaGFwZS52aXNpYmxlID8gc2hhcGUueSA6IHNoYXBlLnkgKyB0aGlzLmZhZGVPZmZzZXRdLFxyXG4gICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogc2hhcGUudmlzaWJsZSA/IHNoYXBlLnN0eWxlLm9wYWNpdHkgOiAwXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDku47lt6bmlrnmt6HlhaXmt6Hlh7rliqjnlLtcclxuICAgICAqIEBwYXJhbSBzaGFwZVxyXG4gICAgICovXHJcbiAgICBmYWRlTGVmdChzaGFwZSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBbc2hhcGUudmlzaWJsZSA/IHNoYXBlLnggOiBzaGFwZS54IC0gdGhpcy5mYWRlT2Zmc2V0LCBzaGFwZS55XSxcclxuICAgICAgICAgICAgc3R5bGU6IHtcclxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IHNoYXBlLnZpc2libGUgPyBzaGFwZS5zdHlsZS5vcGFjaXR5IDogMFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5bC65a+45Yqo55S7XHJcbiAgICAgKiBAcGFyYW0gc2hhcGVcclxuICAgICAqL1xyXG4gICAgc2l6ZShzaGFwZSkge1xyXG4gICAgICAgIGlmIChzaGFwZSBpbnN0YW5jZW9mIHJlY3RfMS5SZWN0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzaGFwZToge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBzaGFwZS53aWR0aCxcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHNoYXBlLmhlaWdodFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChzaGFwZSBpbnN0YW5jZW9mIGlzb2dvbl8xLklzb2dvbiB8fCBzaGFwZSBpbnN0YW5jZW9mIGNpcmNsZV8xLkNpcmNsZSkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc2hhcGU6IHtcclxuICAgICAgICAgICAgICAgICAgICByOiBzaGFwZS53aWR0aCAvIDJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7fTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOagt+W8j+WKqOeUu1xyXG4gICAgICogQHBhcmFtIHNoYXBlXHJcbiAgICAgKi9cclxuICAgIHN0eWxlKHNoYXBlKSB7XHJcbiAgICAgICAgaWYgKHNoYXBlLnN0eWxlLnRleHQpIHtcclxuICAgICAgICAgICAgc2hhcGUuenJlbmRlclNoYXBlLmF0dHIoJ3N0eWxlJywge1xyXG4gICAgICAgICAgICAgICAgdGV4dDogc2hhcGUuc3R5bGUudGV4dFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHsgc3R5bGU6IHNoYXBlLnN0eWxlIH07XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOi3r+W+hOWKqOeUu1xyXG4gICAgICogQHBhcmFtIHNoYXBlXHJcbiAgICAgKi9cclxuICAgIHBhdGgoc2hhcGUpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzaGFwZToge1xyXG4gICAgICAgICAgICAgICAgcG9pbnRzOiBzaGFwZS5wYXRoXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDkuozmrKHotJ3loZ7lsJTmm7Lnur/liqjnlLtcclxuICAgICAqIEBwYXJhbSBzaGFwZVxyXG4gICAgICovXHJcbiAgICBjdXJ2ZShzaGFwZSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHNoYXBlOiB7XHJcbiAgICAgICAgICAgICAgICB4MTogc2hhcGUucGF0aFswXVswXSxcclxuICAgICAgICAgICAgICAgIHkxOiBzaGFwZS5wYXRoWzBdWzFdLFxyXG4gICAgICAgICAgICAgICAgeDI6IHNoYXBlLnBhdGhbMV1bMF0sXHJcbiAgICAgICAgICAgICAgICB5Mjogc2hhcGUucGF0aFsxXVsxXSxcclxuICAgICAgICAgICAgICAgIGNweDE6IHNoYXBlLmNvbnRyb2xQb2ludFswXSxcclxuICAgICAgICAgICAgICAgIGNweTE6IHNoYXBlLmNvbnRyb2xQb2ludFsxXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLkFuaW1hdGlvbnMgPSBBbmltYXRpb25zO1xyXG47XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///21\n")},function(module,exports,__webpack_require__){"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nconst polyLine_1 = __webpack_require__(10);\r\nvar patchType;\r\n(function (patchType) {\r\n    patchType[patchType["ADD"] = 0] = "ADD";\r\n    patchType[patchType["REMOVE"] = 1] = "REMOVE";\r\n    patchType[patchType["POSITION"] = 2] = "POSITION";\r\n    patchType[patchType["ROTATION"] = 3] = "ROTATION";\r\n    patchType[patchType["SIZE"] = 4] = "SIZE";\r\n    patchType[patchType["STYLE"] = 5] = "STYLE";\r\n})(patchType = exports.patchType || (exports.patchType = {}));\r\nclass Reconciler {\r\n    constructor(viewModel) {\r\n        this.viewModel = viewModel;\r\n    }\r\n    /**\r\n     * 进行图形样式对象的比较\r\n     * @param oldStyle\r\n     * @param newStyle\r\n     */\r\n    reconcileStyle(oldStyle, newStyle) {\r\n        let styleName = [];\r\n        Object.keys(newStyle).map(prop => {\r\n            if (newStyle[prop] !== oldStyle[prop]) {\r\n                styleName.push({\r\n                    name: prop,\r\n                    old: oldStyle[prop],\r\n                    new: newStyle[prop]\r\n                });\r\n            }\r\n        });\r\n        return styleName;\r\n    }\r\n    /**\r\n     * 图形间的 differ\r\n     * @param oldShape\r\n     * @param newShape\r\n     */\r\n    reconcileShape(oldShape, newShape) {\r\n        let patchList = [];\r\n        if (oldShape.isDirty === false && newShape.isDirty === false)\r\n            return;\r\n        // 比较图形坐标位置\r\n        if (oldShape instanceof polyLine_1.PolyLine && newShape instanceof polyLine_1.PolyLine) {\r\n            if (JSON.stringify(oldShape.prevPath) !== JSON.stringify(newShape.path)) {\r\n                patchList.push({\r\n                    type: patchType.POSITION,\r\n                    newShape,\r\n                    oldShape\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            if (oldShape.prevX !== newShape.x || oldShape.prevY !== newShape.y) {\r\n                patchList.push({\r\n                    type: patchType.POSITION,\r\n                    newShape,\r\n                    oldShape\r\n                });\r\n            }\r\n        }\r\n        // 比较旋转角度\r\n        if (oldShape.prevRotation !== newShape.rotation) {\r\n            patchList.push({\r\n                type: patchType.ROTATION,\r\n                newShape,\r\n                oldShape\r\n            });\r\n        }\r\n        // 比较尺寸\r\n        if (oldShape.prevWidth !== newShape.width || oldShape.prevHeight !== newShape.height) {\r\n            patchList.push({\r\n                type: patchType.SIZE,\r\n                newShape,\r\n                oldShape\r\n            });\r\n        }\r\n        // 比较样式\r\n        let style = this.reconcileStyle(oldShape.prevStyle, newShape.style);\r\n        if (style.length) {\r\n            patchList.push({\r\n                type: patchType.STYLE,\r\n                newShape,\r\n                oldShape\r\n            });\r\n        }\r\n        // 对变化进行更新\r\n        this.patch(patchList);\r\n        // 更新图形后将脏标志置位假\r\n        oldShape.isDirty = newShape.isDirty = false;\r\n    }\r\n    /**\r\n     *\r\n     * @param container\r\n     * @param shapeList\r\n     */\r\n    reconcileShapeList(container, shapeList) {\r\n        let patchList = [];\r\n        for (let i = 0; i < shapeList.length; i++) {\r\n            let newShape = shapeList[i], name = newShape.name;\r\n            // 若发现存在于新视图模型而不存在于旧视图模型的图形，则该图形都标记为 ADD\r\n            if (container[name] === undefined) {\r\n                patchList.push({\r\n                    type: patchType.ADD,\r\n                    newShape,\r\n                    oldShape: null\r\n                });\r\n            }\r\n            else {\r\n                let oldShape = container[name].find(item => item.id === newShape.id);\r\n                // 若旧图形列表存在对应的图形，进行 shape 间 differ\r\n                if (oldShape) {\r\n                    oldShape.visited = true;\r\n                    this.reconcileShape(oldShape, newShape);\r\n                }\r\n                // 若发现存在于新视图模型而不存在于旧视图模型的图形，则该图形都标记为 ADD\r\n                else {\r\n                    patchList.push({\r\n                        type: patchType.ADD,\r\n                        newShape,\r\n                        oldShape: null\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        // 在旧视图容器中寻找未访问过的图形，表明该图形该图形需要移除\r\n        Object.keys(container).forEach(key => {\r\n            container[key].forEach(shape => {\r\n                if (shape.visited === false) {\r\n                    patchList.push({\r\n                        type: patchType.REMOVE,\r\n                        newShape: null,\r\n                        oldShape: shape\r\n                    });\r\n                }\r\n            });\r\n        });\r\n        this.patch(patchList);\r\n    }\r\n    /**\r\n     * 对修改的视图进行补丁更新\r\n     * @param patchList\r\n     */\r\n    patch(patchList) {\r\n        let patch, newShape, oldShape, i;\r\n        for (i = 0; i < patchList.length; i++) {\r\n            patch = patchList[i];\r\n            newShape = patch.newShape;\r\n            oldShape = patch.oldShape;\r\n            switch (patch.type) {\r\n                case patchType.ADD: {\r\n                    this.viewModel.addShape(newShape);\r\n                    break;\r\n                }\r\n                case patchType.REMOVE: {\r\n                    this.viewModel.removeShape(oldShape);\r\n                    break;\r\n                }\r\n                case patchType.POSITION: {\r\n                    if (newShape instanceof polyLine_1.PolyLine && oldShape instanceof polyLine_1.PolyLine) {\r\n                        oldShape.prevPath = newShape.path;\r\n                        oldShape.updateZrenderShape(\'path\');\r\n                    }\r\n                    else {\r\n                        oldShape.prevX = newShape.x;\r\n                        oldShape.prevY = newShape.y;\r\n                        oldShape.updateZrenderShape(\'translate\');\r\n                    }\r\n                    break;\r\n                }\r\n                case patchType.ROTATION: {\r\n                    oldShape.prevRotation = newShape.rotation;\r\n                    oldShape.updateZrenderShape(\'rotation\');\r\n                    break;\r\n                }\r\n                case patchType.SIZE: {\r\n                    oldShape.prevWidth = newShape.width;\r\n                    oldShape.prevHeight = newShape.height;\r\n                    oldShape.updateSize(true);\r\n                    oldShape.updateZrenderShape(\'size\');\r\n                    break;\r\n                }\r\n                case patchType.STYLE: {\r\n                    oldShape.prevStyle = JSON.parse(JSON.stringify(newShape.style));\r\n                    oldShape.updateZrenderShape(\'style\');\r\n                    break;\r\n                }\r\n                default: {\r\n                    break;\r\n                }\r\n            }\r\n            if (oldShape && oldShape.element) {\r\n                // 触发元素更新事件\r\n                oldShape.element.onChange(patch.type);\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.Reconciler = Reconciler;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9WaWV3L3JlY29uY2lsZXIuanM/Y2Y5MSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE4QyxjQUFjO0FBQzVELG1CQUFtQixtQkFBTyxDQUFDLEVBQW9CO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDBEQUEwRDtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHNCQUFzQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgcG9seUxpbmVfMSA9IHJlcXVpcmUoXCIuLi9TaGFwZXMvcG9seUxpbmVcIik7XHJcbnZhciBwYXRjaFR5cGU7XHJcbihmdW5jdGlvbiAocGF0Y2hUeXBlKSB7XHJcbiAgICBwYXRjaFR5cGVbcGF0Y2hUeXBlW1wiQUREXCJdID0gMF0gPSBcIkFERFwiO1xyXG4gICAgcGF0Y2hUeXBlW3BhdGNoVHlwZVtcIlJFTU9WRVwiXSA9IDFdID0gXCJSRU1PVkVcIjtcclxuICAgIHBhdGNoVHlwZVtwYXRjaFR5cGVbXCJQT1NJVElPTlwiXSA9IDJdID0gXCJQT1NJVElPTlwiO1xyXG4gICAgcGF0Y2hUeXBlW3BhdGNoVHlwZVtcIlJPVEFUSU9OXCJdID0gM10gPSBcIlJPVEFUSU9OXCI7XHJcbiAgICBwYXRjaFR5cGVbcGF0Y2hUeXBlW1wiU0laRVwiXSA9IDRdID0gXCJTSVpFXCI7XHJcbiAgICBwYXRjaFR5cGVbcGF0Y2hUeXBlW1wiU1RZTEVcIl0gPSA1XSA9IFwiU1RZTEVcIjtcclxufSkocGF0Y2hUeXBlID0gZXhwb3J0cy5wYXRjaFR5cGUgfHwgKGV4cG9ydHMucGF0Y2hUeXBlID0ge30pKTtcclxuY2xhc3MgUmVjb25jaWxlciB7XHJcbiAgICBjb25zdHJ1Y3Rvcih2aWV3TW9kZWwpIHtcclxuICAgICAgICB0aGlzLnZpZXdNb2RlbCA9IHZpZXdNb2RlbDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog6L+b6KGM5Zu+5b2i5qC35byP5a+56LGh55qE5q+U6L6DXHJcbiAgICAgKiBAcGFyYW0gb2xkU3R5bGVcclxuICAgICAqIEBwYXJhbSBuZXdTdHlsZVxyXG4gICAgICovXHJcbiAgICByZWNvbmNpbGVTdHlsZShvbGRTdHlsZSwgbmV3U3R5bGUpIHtcclxuICAgICAgICBsZXQgc3R5bGVOYW1lID0gW107XHJcbiAgICAgICAgT2JqZWN0LmtleXMobmV3U3R5bGUpLm1hcChwcm9wID0+IHtcclxuICAgICAgICAgICAgaWYgKG5ld1N0eWxlW3Byb3BdICE9PSBvbGRTdHlsZVtwcm9wXSkge1xyXG4gICAgICAgICAgICAgICAgc3R5bGVOYW1lLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHByb3AsXHJcbiAgICAgICAgICAgICAgICAgICAgb2xkOiBvbGRTdHlsZVtwcm9wXSxcclxuICAgICAgICAgICAgICAgICAgICBuZXc6IG5ld1N0eWxlW3Byb3BdXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBzdHlsZU5hbWU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOWbvuW9oumXtOeahCBkaWZmZXJcclxuICAgICAqIEBwYXJhbSBvbGRTaGFwZVxyXG4gICAgICogQHBhcmFtIG5ld1NoYXBlXHJcbiAgICAgKi9cclxuICAgIHJlY29uY2lsZVNoYXBlKG9sZFNoYXBlLCBuZXdTaGFwZSkge1xyXG4gICAgICAgIGxldCBwYXRjaExpc3QgPSBbXTtcclxuICAgICAgICBpZiAob2xkU2hhcGUuaXNEaXJ0eSA9PT0gZmFsc2UgJiYgbmV3U2hhcGUuaXNEaXJ0eSA9PT0gZmFsc2UpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAvLyDmr5TovoPlm77lvaLlnZDmoIfkvY3nva5cclxuICAgICAgICBpZiAob2xkU2hhcGUgaW5zdGFuY2VvZiBwb2x5TGluZV8xLlBvbHlMaW5lICYmIG5ld1NoYXBlIGluc3RhbmNlb2YgcG9seUxpbmVfMS5Qb2x5TGluZSkge1xyXG4gICAgICAgICAgICBpZiAoSlNPTi5zdHJpbmdpZnkob2xkU2hhcGUucHJldlBhdGgpICE9PSBKU09OLnN0cmluZ2lmeShuZXdTaGFwZS5wYXRoKSkge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2hMaXN0LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHBhdGNoVHlwZS5QT1NJVElPTixcclxuICAgICAgICAgICAgICAgICAgICBuZXdTaGFwZSxcclxuICAgICAgICAgICAgICAgICAgICBvbGRTaGFwZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChvbGRTaGFwZS5wcmV2WCAhPT0gbmV3U2hhcGUueCB8fCBvbGRTaGFwZS5wcmV2WSAhPT0gbmV3U2hhcGUueSkge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2hMaXN0LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHBhdGNoVHlwZS5QT1NJVElPTixcclxuICAgICAgICAgICAgICAgICAgICBuZXdTaGFwZSxcclxuICAgICAgICAgICAgICAgICAgICBvbGRTaGFwZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5q+U6L6D5peL6L2s6KeS5bqmXHJcbiAgICAgICAgaWYgKG9sZFNoYXBlLnByZXZSb3RhdGlvbiAhPT0gbmV3U2hhcGUucm90YXRpb24pIHtcclxuICAgICAgICAgICAgcGF0Y2hMaXN0LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogcGF0Y2hUeXBlLlJPVEFUSU9OLFxyXG4gICAgICAgICAgICAgICAgbmV3U2hhcGUsXHJcbiAgICAgICAgICAgICAgICBvbGRTaGFwZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5q+U6L6D5bC65a+4XHJcbiAgICAgICAgaWYgKG9sZFNoYXBlLnByZXZXaWR0aCAhPT0gbmV3U2hhcGUud2lkdGggfHwgb2xkU2hhcGUucHJldkhlaWdodCAhPT0gbmV3U2hhcGUuaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIHBhdGNoTGlzdC5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IHBhdGNoVHlwZS5TSVpFLFxyXG4gICAgICAgICAgICAgICAgbmV3U2hhcGUsXHJcbiAgICAgICAgICAgICAgICBvbGRTaGFwZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5q+U6L6D5qC35byPXHJcbiAgICAgICAgbGV0IHN0eWxlID0gdGhpcy5yZWNvbmNpbGVTdHlsZShvbGRTaGFwZS5wcmV2U3R5bGUsIG5ld1NoYXBlLnN0eWxlKTtcclxuICAgICAgICBpZiAoc3R5bGUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHBhdGNoTGlzdC5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IHBhdGNoVHlwZS5TVFlMRSxcclxuICAgICAgICAgICAgICAgIG5ld1NoYXBlLFxyXG4gICAgICAgICAgICAgICAgb2xkU2hhcGVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOWvueWPmOWMlui/m+ihjOabtOaWsFxyXG4gICAgICAgIHRoaXMucGF0Y2gocGF0Y2hMaXN0KTtcclxuICAgICAgICAvLyDmm7TmlrDlm77lvaLlkI7lsIbohI/moIflv5fnva7kvY3lgYdcclxuICAgICAgICBvbGRTaGFwZS5pc0RpcnR5ID0gbmV3U2hhcGUuaXNEaXJ0eSA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGNvbnRhaW5lclxyXG4gICAgICogQHBhcmFtIHNoYXBlTGlzdFxyXG4gICAgICovXHJcbiAgICByZWNvbmNpbGVTaGFwZUxpc3QoY29udGFpbmVyLCBzaGFwZUxpc3QpIHtcclxuICAgICAgICBsZXQgcGF0Y2hMaXN0ID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGFwZUxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IG5ld1NoYXBlID0gc2hhcGVMaXN0W2ldLCBuYW1lID0gbmV3U2hhcGUubmFtZTtcclxuICAgICAgICAgICAgLy8g6Iul5Y+R546w5a2Y5Zyo5LqO5paw6KeG5Zu+5qih5Z6L6ICM5LiN5a2Y5Zyo5LqO5pen6KeG5Zu+5qih5Z6L55qE5Zu+5b2i77yM5YiZ6K+l5Zu+5b2i6YO95qCH6K6w5Li6IEFERFxyXG4gICAgICAgICAgICBpZiAoY29udGFpbmVyW25hbWVdID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoTGlzdC5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBwYXRjaFR5cGUuQURELFxyXG4gICAgICAgICAgICAgICAgICAgIG5ld1NoYXBlLFxyXG4gICAgICAgICAgICAgICAgICAgIG9sZFNoYXBlOiBudWxsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxldCBvbGRTaGFwZSA9IGNvbnRhaW5lcltuYW1lXS5maW5kKGl0ZW0gPT4gaXRlbS5pZCA9PT0gbmV3U2hhcGUuaWQpO1xyXG4gICAgICAgICAgICAgICAgLy8g6Iul5pen5Zu+5b2i5YiX6KGo5a2Y5Zyo5a+55bqU55qE5Zu+5b2i77yM6L+b6KGMIHNoYXBlIOmXtCBkaWZmZXJcclxuICAgICAgICAgICAgICAgIGlmIChvbGRTaGFwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9sZFNoYXBlLnZpc2l0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVjb25jaWxlU2hhcGUob2xkU2hhcGUsIG5ld1NoYXBlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIOiLpeWPkeeOsOWtmOWcqOS6juaWsOinhuWbvuaooeWei+iAjOS4jeWtmOWcqOS6juaXp+inhuWbvuaooeWei+eahOWbvuW9ou+8jOWImeivpeWbvuW9oumDveagh+iusOS4uiBBRERcclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoTGlzdC5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogcGF0Y2hUeXBlLkFERCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2hhcGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9sZFNoYXBlOiBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5Zyo5pen6KeG5Zu+5a655Zmo5Lit5a+75om+5pyq6K6/6Zeu6L+H55qE5Zu+5b2i77yM6KGo5piO6K+l5Zu+5b2i6K+l5Zu+5b2i6ZyA6KaB56e76ZmkXHJcbiAgICAgICAgT2JqZWN0LmtleXMoY29udGFpbmVyKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lcltrZXldLmZvckVhY2goc2hhcGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNoYXBlLnZpc2l0ZWQgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hMaXN0LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBwYXRjaFR5cGUuUkVNT1ZFLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdTaGFwZTogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2xkU2hhcGU6IHNoYXBlXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGF0Y2gocGF0Y2hMaXN0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5a+55L+u5pS555qE6KeG5Zu+6L+b6KGM6KGl5LiB5pu05pawXHJcbiAgICAgKiBAcGFyYW0gcGF0Y2hMaXN0XHJcbiAgICAgKi9cclxuICAgIHBhdGNoKHBhdGNoTGlzdCkge1xyXG4gICAgICAgIGxldCBwYXRjaCwgbmV3U2hhcGUsIG9sZFNoYXBlLCBpO1xyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYXRjaExpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcGF0Y2ggPSBwYXRjaExpc3RbaV07XHJcbiAgICAgICAgICAgIG5ld1NoYXBlID0gcGF0Y2gubmV3U2hhcGU7XHJcbiAgICAgICAgICAgIG9sZFNoYXBlID0gcGF0Y2gub2xkU2hhcGU7XHJcbiAgICAgICAgICAgIHN3aXRjaCAocGF0Y2gudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBwYXRjaFR5cGUuQUREOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3TW9kZWwuYWRkU2hhcGUobmV3U2hhcGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FzZSBwYXRjaFR5cGUuUkVNT1ZFOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3TW9kZWwucmVtb3ZlU2hhcGUob2xkU2hhcGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FzZSBwYXRjaFR5cGUuUE9TSVRJT046IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3U2hhcGUgaW5zdGFuY2VvZiBwb2x5TGluZV8xLlBvbHlMaW5lICYmIG9sZFNoYXBlIGluc3RhbmNlb2YgcG9seUxpbmVfMS5Qb2x5TGluZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbGRTaGFwZS5wcmV2UGF0aCA9IG5ld1NoYXBlLnBhdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9sZFNoYXBlLnVwZGF0ZVpyZW5kZXJTaGFwZSgncGF0aCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2xkU2hhcGUucHJldlggPSBuZXdTaGFwZS54O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbGRTaGFwZS5wcmV2WSA9IG5ld1NoYXBlLnk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9sZFNoYXBlLnVwZGF0ZVpyZW5kZXJTaGFwZSgndHJhbnNsYXRlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FzZSBwYXRjaFR5cGUuUk9UQVRJT046IHtcclxuICAgICAgICAgICAgICAgICAgICBvbGRTaGFwZS5wcmV2Um90YXRpb24gPSBuZXdTaGFwZS5yb3RhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICBvbGRTaGFwZS51cGRhdGVacmVuZGVyU2hhcGUoJ3JvdGF0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXNlIHBhdGNoVHlwZS5TSVpFOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2xkU2hhcGUucHJldldpZHRoID0gbmV3U2hhcGUud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgb2xkU2hhcGUucHJldkhlaWdodCA9IG5ld1NoYXBlLmhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICBvbGRTaGFwZS51cGRhdGVTaXplKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIG9sZFNoYXBlLnVwZGF0ZVpyZW5kZXJTaGFwZSgnc2l6ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FzZSBwYXRjaFR5cGUuU1RZTEU6IHtcclxuICAgICAgICAgICAgICAgICAgICBvbGRTaGFwZS5wcmV2U3R5bGUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG5ld1NoYXBlLnN0eWxlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgb2xkU2hhcGUudXBkYXRlWnJlbmRlclNoYXBlKCdzdHlsZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvbGRTaGFwZSAmJiBvbGRTaGFwZS5lbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAvLyDop6blj5HlhYPntKDmm7TmlrDkuovku7ZcclxuICAgICAgICAgICAgICAgIG9sZFNoYXBlLmVsZW1lbnQub25DaGFuZ2UocGF0Y2gudHlwZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5SZWNvbmNpbGVyID0gUmVjb25jaWxlcjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///22\n')},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst element_1 = __webpack_require__(6);\r\nconst util_1 = __webpack_require__(0);\r\nconst linkModel_1 = __webpack_require__(24);\r\nconst pointerModel_1 = __webpack_require__(25);\r\n// 数据模型管理器\r\nclass DataModel {\r\n    constructor(engine, viewModel) {\r\n        this.engine = engine;\r\n        // 元素队列\r\n        this.elementList = [];\r\n        // 元素容器，即源数据经element包装后的结构\r\n        this.elementContainer = {};\r\n        this.engine = engine;\r\n        this.viewModel = viewModel;\r\n        this.linkModel = new linkModel_1.LinkModel(this, viewModel, this.engine.viewOption.link);\r\n        this.pointerModel = new pointerModel_1.PointerModel(this, viewModel, this.engine.viewOption.pointer);\r\n    }\r\n    /**\r\n     * 从源数据构建 element 集\r\n     * 主要工作：\r\n     * - 遍历源数据，将每个 SourceElement 转化为 Element\r\n     * - 处理连接\r\n     * - 处理指针\r\n     * @param sources\r\n     */\r\n    constructElements(sources) {\r\n        if (Array.isArray(sources)) {\r\n            this.elementContainer['element'] = [];\r\n            sources.map(item => {\r\n                if (item) {\r\n                    this.elementContainer['element'].push(this.createElement(item, 'element'));\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            Object.keys(sources).map(prop => {\r\n                this.elementContainer[prop] = [];\r\n                sources[prop].map(item => {\r\n                    if (item) {\r\n                        this.elementContainer[prop].push(this.createElement(item, prop));\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        // 构建连接模型\r\n        this.linkModel.constructLinks(this.engine.structOption.link, this.elementContainer, this.elementList);\r\n        // 构建指针模型\r\n        this.pointerModel.constructPointers(this.engine.structOption.pointer, this.elementList);\r\n        //console.log(this.elementContainer);\r\n    }\r\n    /**\r\n     * 根据布局函数布局 element\r\n     * @param layoutFn\r\n     * @param containerWidth\r\n     * @param containerHeight\r\n     */\r\n    layoutElements(layoutFn, containerWidth, containerHeight) {\r\n        let elements = this.elementContainer;\r\n        if (Object.keys(elements).length === 1 && elements['element']) {\r\n            elements = elements['element'];\r\n        }\r\n        // 调用自定义布局函数对所有 element 进行布局\r\n        layoutFn(elements, containerWidth, containerHeight);\r\n    }\r\n    /**\r\n     * 构建连线和指针\r\n     */\r\n    drawComponents() {\r\n        for (let i = 0; i < this.elementList.length; i++) {\r\n            let element = this.elementList[i], shapeOption = this.engine.viewOption.element, contents = null, shapeName = null, shape = null;\r\n            if (shapeOption.shape === undefined) {\r\n                shapeOption = shapeOption[element.name];\r\n            }\r\n            contents = Array.isArray(shapeOption.content) ?\r\n                shapeOption.content.map(item => this.parserElementContent(element, item)) :\r\n                this.parserElementContent(element, shapeOption.content);\r\n            // 若没有为一个 element 指定图形，报错\r\n            util_1.Util.assert(shapeName === undefined, `(${element.name}) 未指定 shape！`);\r\n            shapeName = shapeOption.shape;\r\n            shape = this.viewModel.createShape(element.elementId, shapeName, Object.assign({}, shapeOption, { content: contents }));\r\n            // 利用 shape 初始化某些数据\r\n            util_1.Util.extends(shape.style, element.style);\r\n            element.style = shape.style;\r\n            element.shape = shape;\r\n            shape.element = element;\r\n            element.lastX = element.x;\r\n            element.lastY = element.y;\r\n        }\r\n        // 绘制连线\r\n        this.linkModel.drawLinks();\r\n        // 绘制指针\r\n        this.pointerModel.drawPointers();\r\n    }\r\n    /**\r\n     * 响应 element 的绑定（更新绑定的 shapes ）\r\n     */\r\n    updateShapes(updateElements = []) {\r\n        let elementList = updateElements.length ? updateElements : this.elementList;\r\n        // 更新与元素绑定的图形\r\n        for (let i = 0; i < elementList.length; i++) {\r\n            let element = elementList[i], shape = element.shape;\r\n            // 跳过过时的 element\r\n            if (element.isObsolete) {\r\n                continue;\r\n            }\r\n            shape.x = element.x;\r\n            shape.y = element.y;\r\n            shape.width = element.width;\r\n            shape.height = element.height;\r\n            shape.rotation = element.rotation;\r\n            shape.style = element.style;\r\n            shape.isDirty = true;\r\n            for (let j = 0; j < element.effectLinks.length; j++) {\r\n                let linkPair = element.effectLinks[j];\r\n                // 避免重复更新\r\n                if (linkPair.linkShape.isDirty) {\r\n                    continue;\r\n                }\r\n                this.linkModel.updateLinkPos(linkPair, element);\r\n                linkPair.linkShape.isDirty = true;\r\n                if (linkPair.labelShape) {\r\n                    linkPair.labelShape.isDirty = true;\r\n                }\r\n            }\r\n            if (element.effectRefer) {\r\n                let pointerPair = element.effectRefer;\r\n                this.pointerModel.updateReferPos(pointerPair);\r\n                pointerPair.pointerShape.isDirty = true;\r\n                pointerPair.labelShapes.forEach(item => {\r\n                    item.isDirty = true;\r\n                });\r\n            }\r\n            element.lastX = element.x;\r\n            element.lastY = element.y;\r\n        }\r\n    }\r\n    /**\r\n     * 获取Elements\r\n     */\r\n    getElements() {\r\n        return this.elementContainer;\r\n    }\r\n    /**\r\n     * 获取ElementLits\r\n     */\r\n    getElementList() {\r\n        return this.elementList;\r\n    }\r\n    /**\r\n     * 元素工厂，创建Element\r\n     * @param elementName\r\n     * @param sourceElement\r\n     */\r\n    createElement(sourceElement, elementName) {\r\n        let elementStruct = this.engine.structOption.element, eleConstructor = null, elementId = elementName + '#' + sourceElement.id, element = null, shapeOption = this.engine.viewOption.element;\r\n        if (typeof elementStruct === 'object') {\r\n            eleConstructor = elementStruct[elementName];\r\n        }\r\n        else {\r\n            eleConstructor = elementStruct;\r\n        }\r\n        // 若没有声明元素，退回至基类Element\r\n        if (eleConstructor === undefined) {\r\n            eleConstructor = element_1.Element;\r\n        }\r\n        element = new eleConstructor(sourceElement);\r\n        element.elementId = elementId;\r\n        element.name = elementName;\r\n        element.layoutOption = this.engine.viewOption.layout;\r\n        if (shapeOption.shape === undefined) {\r\n            shapeOption = shapeOption[element.name];\r\n        }\r\n        if (Array.isArray(shapeOption.size)) {\r\n            element.width = shapeOption.size[0];\r\n            element.height = shapeOption.size[1];\r\n        }\r\n        else {\r\n            element.width = element.height = shapeOption.size;\r\n        }\r\n        element.rotation = shapeOption.rotation || 0;\r\n        element.anchors = shapeOption.anchors;\r\n        this.elementList.push(element);\r\n        return element;\r\n    }\r\n    /**\r\n     * 解析元素文本内容\r\n     * @param ele\r\n     * @param content\r\n     */\r\n    parserElementContent(ele, content) {\r\n        // 若存在文本声明，解析文本\r\n        if (content) {\r\n            let contents = util_1.Util.textParser(content);\r\n            if (Array.isArray(contents)) {\r\n                let values = contents.map(item => ele[item]);\r\n                values.map((item, index) => {\r\n                    content = content.replace('[' + contents[index] + ']', item);\r\n                });\r\n            }\r\n            return content;\r\n        }\r\n        else {\r\n            content = null;\r\n        }\r\n    }\r\n    /**\r\n     * 动态添加一个连接\r\n     * - 该方法用于让用户在render方法中动态生成一个非预先在source中声明的连接\r\n     * @param emitElement\r\n     * @param targetElement\r\n     * @param linkName\r\n     * @param anchorPair\r\n     */\r\n    addLink(emitElement, targetElement, linkName, value = null, anchorPair = null) {\r\n        // 若emitElement中的linkName字段有且仅有一个元素\r\n        if (emitElement[linkName] && !Array.isArray(emitElement[linkName])) {\r\n            emitElement[linkName] = [emitElement[linkName], targetElement];\r\n        }\r\n        // 若emitElement中的linkName字段有多个元素\r\n        else if (emitElement[linkName] && Array.isArray(emitElement[linkName])) {\r\n            emitElement[linkName].push(targetElement);\r\n        }\r\n        // 若emitElement中的linkName字段为空\r\n        else {\r\n            emitElement[linkName] = targetElement;\r\n        }\r\n        this.linkModel.addLinkPair({\r\n            element: emitElement,\r\n            target: targetElement,\r\n            linkName,\r\n            label: value ? value.toString() : null,\r\n            anchorPair,\r\n            sourceLinkTarget: null\r\n        });\r\n    }\r\n    /**\r\n     * 动态添加一个外部指针\r\n     * - 该方法用于让用户在render方法中动态生成一个非预先在source中声明的外部指针\r\n     * @param targetElement\r\n     * @param pointerName\r\n     * @param value\r\n     */\r\n    addPointer(targetElement, pointerName, value) {\r\n        this.pointerModel.addPointerPair(targetElement, pointerName, value);\r\n    }\r\n    /**\r\n     * 重置上一次的数据，包括：\r\n     * - elementList\r\n     * - elementContainer\r\n     * - linkModel 数据\r\n     * - pointerModel 数据\r\n     * @param shapeContainer\r\n     */\r\n    resetData() {\r\n        // 将所有 element 设置为过时\r\n        this.elementList.forEach(item => {\r\n            item.isObsolete = true;\r\n        });\r\n        this.elementList.length = 0;\r\n        this.elementContainer = {};\r\n        this.linkModel.clear();\r\n        this.pointerModel.clear();\r\n    }\r\n}\r\nexports.DataModel = DataModel;\r\n;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9Nb2RlbC9kYXRhTW9kZWwuanM/MWNlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE4QyxjQUFjO0FBQzVELGtCQUFrQixtQkFBTyxDQUFDLENBQVc7QUFDckMsZUFBZSxtQkFBTyxDQUFDLENBQWdCO0FBQ3ZDLG9CQUFvQixtQkFBTyxDQUFDLEVBQWE7QUFDekMsdUJBQXVCLG1CQUFPLENBQUMsRUFBZ0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsNkJBQTZCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsYUFBYTtBQUN6RTtBQUNBLDZGQUE2RixnQkFBZ0Isb0JBQW9CO0FBQ2pJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHdCQUF3QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsZ0NBQWdDO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgZWxlbWVudF8xID0gcmVxdWlyZShcIi4vZWxlbWVudFwiKTtcclxuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcIi4uL0NvbW1vbi91dGlsXCIpO1xyXG5jb25zdCBsaW5rTW9kZWxfMSA9IHJlcXVpcmUoXCIuL2xpbmtNb2RlbFwiKTtcclxuY29uc3QgcG9pbnRlck1vZGVsXzEgPSByZXF1aXJlKFwiLi9wb2ludGVyTW9kZWxcIik7XHJcbi8vIOaVsOaNruaooeWei+euoeeQhuWZqFxyXG5jbGFzcyBEYXRhTW9kZWwge1xyXG4gICAgY29uc3RydWN0b3IoZW5naW5lLCB2aWV3TW9kZWwpIHtcclxuICAgICAgICB0aGlzLmVuZ2luZSA9IGVuZ2luZTtcclxuICAgICAgICAvLyDlhYPntKDpmJ/liJdcclxuICAgICAgICB0aGlzLmVsZW1lbnRMaXN0ID0gW107XHJcbiAgICAgICAgLy8g5YWD57Sg5a655Zmo77yM5Y2z5rqQ5pWw5o2u57uPZWxlbWVudOWMheijheWQjueahOe7k+aehFxyXG4gICAgICAgIHRoaXMuZWxlbWVudENvbnRhaW5lciA9IHt9O1xyXG4gICAgICAgIHRoaXMuZW5naW5lID0gZW5naW5lO1xyXG4gICAgICAgIHRoaXMudmlld01vZGVsID0gdmlld01vZGVsO1xyXG4gICAgICAgIHRoaXMubGlua01vZGVsID0gbmV3IGxpbmtNb2RlbF8xLkxpbmtNb2RlbCh0aGlzLCB2aWV3TW9kZWwsIHRoaXMuZW5naW5lLnZpZXdPcHRpb24ubGluayk7XHJcbiAgICAgICAgdGhpcy5wb2ludGVyTW9kZWwgPSBuZXcgcG9pbnRlck1vZGVsXzEuUG9pbnRlck1vZGVsKHRoaXMsIHZpZXdNb2RlbCwgdGhpcy5lbmdpbmUudmlld09wdGlvbi5wb2ludGVyKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5LuO5rqQ5pWw5o2u5p6E5bu6IGVsZW1lbnQg6ZuGXHJcbiAgICAgKiDkuLvopoHlt6XkvZzvvJpcclxuICAgICAqIC0g6YGN5Y6G5rqQ5pWw5o2u77yM5bCG5q+P5LiqIFNvdXJjZUVsZW1lbnQg6L2s5YyW5Li6IEVsZW1lbnRcclxuICAgICAqIC0g5aSE55CG6L+e5o6lXHJcbiAgICAgKiAtIOWkhOeQhuaMh+mSiFxyXG4gICAgICogQHBhcmFtIHNvdXJjZXNcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0RWxlbWVudHMoc291cmNlcykge1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZXMpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudENvbnRhaW5lclsnZWxlbWVudCddID0gW107XHJcbiAgICAgICAgICAgIHNvdXJjZXMubWFwKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRDb250YWluZXJbJ2VsZW1lbnQnXS5wdXNoKHRoaXMuY3JlYXRlRWxlbWVudChpdGVtLCAnZWxlbWVudCcpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzb3VyY2VzKS5tYXAocHJvcCA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRDb250YWluZXJbcHJvcF0gPSBbXTtcclxuICAgICAgICAgICAgICAgIHNvdXJjZXNbcHJvcF0ubWFwKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudENvbnRhaW5lcltwcm9wXS5wdXNoKHRoaXMuY3JlYXRlRWxlbWVudChpdGVtLCBwcm9wKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDmnoTlu7rov57mjqXmqKHlnotcclxuICAgICAgICB0aGlzLmxpbmtNb2RlbC5jb25zdHJ1Y3RMaW5rcyh0aGlzLmVuZ2luZS5zdHJ1Y3RPcHRpb24ubGluaywgdGhpcy5lbGVtZW50Q29udGFpbmVyLCB0aGlzLmVsZW1lbnRMaXN0KTtcclxuICAgICAgICAvLyDmnoTlu7rmjIfpkojmqKHlnotcclxuICAgICAgICB0aGlzLnBvaW50ZXJNb2RlbC5jb25zdHJ1Y3RQb2ludGVycyh0aGlzLmVuZ2luZS5zdHJ1Y3RPcHRpb24ucG9pbnRlciwgdGhpcy5lbGVtZW50TGlzdCk7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLmVsZW1lbnRDb250YWluZXIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDmoLnmja7luIPlsYDlh73mlbDluIPlsYAgZWxlbWVudFxyXG4gICAgICogQHBhcmFtIGxheW91dEZuXHJcbiAgICAgKiBAcGFyYW0gY29udGFpbmVyV2lkdGhcclxuICAgICAqIEBwYXJhbSBjb250YWluZXJIZWlnaHRcclxuICAgICAqL1xyXG4gICAgbGF5b3V0RWxlbWVudHMobGF5b3V0Rm4sIGNvbnRhaW5lcldpZHRoLCBjb250YWluZXJIZWlnaHQpIHtcclxuICAgICAgICBsZXQgZWxlbWVudHMgPSB0aGlzLmVsZW1lbnRDb250YWluZXI7XHJcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGVsZW1lbnRzKS5sZW5ndGggPT09IDEgJiYgZWxlbWVudHNbJ2VsZW1lbnQnXSkge1xyXG4gICAgICAgICAgICBlbGVtZW50cyA9IGVsZW1lbnRzWydlbGVtZW50J107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOiwg+eUqOiHquWumuS5ieW4g+WxgOWHveaVsOWvueaJgOaciSBlbGVtZW50IOi/m+ihjOW4g+WxgFxyXG4gICAgICAgIGxheW91dEZuKGVsZW1lbnRzLCBjb250YWluZXJXaWR0aCwgY29udGFpbmVySGVpZ2h0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5p6E5bu66L+e57q/5ZKM5oyH6ZKIXHJcbiAgICAgKi9cclxuICAgIGRyYXdDb21wb25lbnRzKCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5lbGVtZW50TGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgZWxlbWVudCA9IHRoaXMuZWxlbWVudExpc3RbaV0sIHNoYXBlT3B0aW9uID0gdGhpcy5lbmdpbmUudmlld09wdGlvbi5lbGVtZW50LCBjb250ZW50cyA9IG51bGwsIHNoYXBlTmFtZSA9IG51bGwsIHNoYXBlID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKHNoYXBlT3B0aW9uLnNoYXBlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHNoYXBlT3B0aW9uID0gc2hhcGVPcHRpb25bZWxlbWVudC5uYW1lXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb250ZW50cyA9IEFycmF5LmlzQXJyYXkoc2hhcGVPcHRpb24uY29udGVudCkgP1xyXG4gICAgICAgICAgICAgICAgc2hhcGVPcHRpb24uY29udGVudC5tYXAoaXRlbSA9PiB0aGlzLnBhcnNlckVsZW1lbnRDb250ZW50KGVsZW1lbnQsIGl0ZW0pKSA6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcnNlckVsZW1lbnRDb250ZW50KGVsZW1lbnQsIHNoYXBlT3B0aW9uLmNvbnRlbnQpO1xyXG4gICAgICAgICAgICAvLyDoi6XmsqHmnInkuLrkuIDkuKogZWxlbWVudCDmjIflrprlm77lvaLvvIzmiqXplJlcclxuICAgICAgICAgICAgdXRpbF8xLlV0aWwuYXNzZXJ0KHNoYXBlTmFtZSA9PT0gdW5kZWZpbmVkLCBgKCR7ZWxlbWVudC5uYW1lfSkg5pyq5oyH5a6aIHNoYXBl77yBYCk7XHJcbiAgICAgICAgICAgIHNoYXBlTmFtZSA9IHNoYXBlT3B0aW9uLnNoYXBlO1xyXG4gICAgICAgICAgICBzaGFwZSA9IHRoaXMudmlld01vZGVsLmNyZWF0ZVNoYXBlKGVsZW1lbnQuZWxlbWVudElkLCBzaGFwZU5hbWUsIE9iamVjdC5hc3NpZ24oe30sIHNoYXBlT3B0aW9uLCB7IGNvbnRlbnQ6IGNvbnRlbnRzIH0pKTtcclxuICAgICAgICAgICAgLy8g5Yip55SoIHNoYXBlIOWIneWni+WMluafkOS6m+aVsOaNrlxyXG4gICAgICAgICAgICB1dGlsXzEuVXRpbC5leHRlbmRzKHNoYXBlLnN0eWxlLCBlbGVtZW50LnN0eWxlKTtcclxuICAgICAgICAgICAgZWxlbWVudC5zdHlsZSA9IHNoYXBlLnN0eWxlO1xyXG4gICAgICAgICAgICBlbGVtZW50LnNoYXBlID0gc2hhcGU7XHJcbiAgICAgICAgICAgIHNoYXBlLmVsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgICAgICAgICBlbGVtZW50Lmxhc3RYID0gZWxlbWVudC54O1xyXG4gICAgICAgICAgICBlbGVtZW50Lmxhc3RZID0gZWxlbWVudC55O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDnu5jliLbov57nur9cclxuICAgICAgICB0aGlzLmxpbmtNb2RlbC5kcmF3TGlua3MoKTtcclxuICAgICAgICAvLyDnu5jliLbmjIfpkohcclxuICAgICAgICB0aGlzLnBvaW50ZXJNb2RlbC5kcmF3UG9pbnRlcnMoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5ZON5bqUIGVsZW1lbnQg55qE57uR5a6a77yI5pu05paw57uR5a6a55qEIHNoYXBlcyDvvIlcclxuICAgICAqL1xyXG4gICAgdXBkYXRlU2hhcGVzKHVwZGF0ZUVsZW1lbnRzID0gW10pIHtcclxuICAgICAgICBsZXQgZWxlbWVudExpc3QgPSB1cGRhdGVFbGVtZW50cy5sZW5ndGggPyB1cGRhdGVFbGVtZW50cyA6IHRoaXMuZWxlbWVudExpc3Q7XHJcbiAgICAgICAgLy8g5pu05paw5LiO5YWD57Sg57uR5a6a55qE5Zu+5b2iXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50TGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgZWxlbWVudCA9IGVsZW1lbnRMaXN0W2ldLCBzaGFwZSA9IGVsZW1lbnQuc2hhcGU7XHJcbiAgICAgICAgICAgIC8vIOi3s+i/h+i/h+aXtueahCBlbGVtZW50XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50LmlzT2Jzb2xldGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNoYXBlLnggPSBlbGVtZW50Lng7XHJcbiAgICAgICAgICAgIHNoYXBlLnkgPSBlbGVtZW50Lnk7XHJcbiAgICAgICAgICAgIHNoYXBlLndpZHRoID0gZWxlbWVudC53aWR0aDtcclxuICAgICAgICAgICAgc2hhcGUuaGVpZ2h0ID0gZWxlbWVudC5oZWlnaHQ7XHJcbiAgICAgICAgICAgIHNoYXBlLnJvdGF0aW9uID0gZWxlbWVudC5yb3RhdGlvbjtcclxuICAgICAgICAgICAgc2hhcGUuc3R5bGUgPSBlbGVtZW50LnN0eWxlO1xyXG4gICAgICAgICAgICBzaGFwZS5pc0RpcnR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBlbGVtZW50LmVmZmVjdExpbmtzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbGlua1BhaXIgPSBlbGVtZW50LmVmZmVjdExpbmtzW2pdO1xyXG4gICAgICAgICAgICAgICAgLy8g6YG/5YWN6YeN5aSN5pu05pawXHJcbiAgICAgICAgICAgICAgICBpZiAobGlua1BhaXIubGlua1NoYXBlLmlzRGlydHkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMubGlua01vZGVsLnVwZGF0ZUxpbmtQb3MobGlua1BhaXIsIGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgbGlua1BhaXIubGlua1NoYXBlLmlzRGlydHkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxpbmtQYWlyLmxhYmVsU2hhcGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5rUGFpci5sYWJlbFNoYXBlLmlzRGlydHkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50LmVmZmVjdFJlZmVyKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcG9pbnRlclBhaXIgPSBlbGVtZW50LmVmZmVjdFJlZmVyO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb2ludGVyTW9kZWwudXBkYXRlUmVmZXJQb3MocG9pbnRlclBhaXIpO1xyXG4gICAgICAgICAgICAgICAgcG9pbnRlclBhaXIucG9pbnRlclNoYXBlLmlzRGlydHkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcG9pbnRlclBhaXIubGFiZWxTaGFwZXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmlzRGlydHkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxlbWVudC5sYXN0WCA9IGVsZW1lbnQueDtcclxuICAgICAgICAgICAgZWxlbWVudC5sYXN0WSA9IGVsZW1lbnQueTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPlkVsZW1lbnRzXHJcbiAgICAgKi9cclxuICAgIGdldEVsZW1lbnRzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRDb250YWluZXI7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPlkVsZW1lbnRMaXRzXHJcbiAgICAgKi9cclxuICAgIGdldEVsZW1lbnRMaXN0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRMaXN0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDlhYPntKDlt6XljoLvvIzliJvlu7pFbGVtZW50XHJcbiAgICAgKiBAcGFyYW0gZWxlbWVudE5hbWVcclxuICAgICAqIEBwYXJhbSBzb3VyY2VFbGVtZW50XHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZUVsZW1lbnQoc291cmNlRWxlbWVudCwgZWxlbWVudE5hbWUpIHtcclxuICAgICAgICBsZXQgZWxlbWVudFN0cnVjdCA9IHRoaXMuZW5naW5lLnN0cnVjdE9wdGlvbi5lbGVtZW50LCBlbGVDb25zdHJ1Y3RvciA9IG51bGwsIGVsZW1lbnRJZCA9IGVsZW1lbnROYW1lICsgJyMnICsgc291cmNlRWxlbWVudC5pZCwgZWxlbWVudCA9IG51bGwsIHNoYXBlT3B0aW9uID0gdGhpcy5lbmdpbmUudmlld09wdGlvbi5lbGVtZW50O1xyXG4gICAgICAgIGlmICh0eXBlb2YgZWxlbWVudFN0cnVjdCA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgZWxlQ29uc3RydWN0b3IgPSBlbGVtZW50U3RydWN0W2VsZW1lbnROYW1lXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGVsZUNvbnN0cnVjdG9yID0gZWxlbWVudFN0cnVjdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g6Iul5rKh5pyJ5aOw5piO5YWD57Sg77yM6YCA5Zue6Iez5Z+657G7RWxlbWVudFxyXG4gICAgICAgIGlmIChlbGVDb25zdHJ1Y3RvciA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGVsZUNvbnN0cnVjdG9yID0gZWxlbWVudF8xLkVsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsZW1lbnQgPSBuZXcgZWxlQ29uc3RydWN0b3Ioc291cmNlRWxlbWVudCk7XHJcbiAgICAgICAgZWxlbWVudC5lbGVtZW50SWQgPSBlbGVtZW50SWQ7XHJcbiAgICAgICAgZWxlbWVudC5uYW1lID0gZWxlbWVudE5hbWU7XHJcbiAgICAgICAgZWxlbWVudC5sYXlvdXRPcHRpb24gPSB0aGlzLmVuZ2luZS52aWV3T3B0aW9uLmxheW91dDtcclxuICAgICAgICBpZiAoc2hhcGVPcHRpb24uc2hhcGUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBzaGFwZU9wdGlvbiA9IHNoYXBlT3B0aW9uW2VsZW1lbnQubmFtZV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNoYXBlT3B0aW9uLnNpemUpKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQud2lkdGggPSBzaGFwZU9wdGlvbi5zaXplWzBdO1xyXG4gICAgICAgICAgICBlbGVtZW50LmhlaWdodCA9IHNoYXBlT3B0aW9uLnNpemVbMV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBlbGVtZW50LndpZHRoID0gZWxlbWVudC5oZWlnaHQgPSBzaGFwZU9wdGlvbi5zaXplO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbGVtZW50LnJvdGF0aW9uID0gc2hhcGVPcHRpb24ucm90YXRpb24gfHwgMDtcclxuICAgICAgICBlbGVtZW50LmFuY2hvcnMgPSBzaGFwZU9wdGlvbi5hbmNob3JzO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudExpc3QucHVzaChlbGVtZW50KTtcclxuICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog6Kej5p6Q5YWD57Sg5paH5pys5YaF5a65XHJcbiAgICAgKiBAcGFyYW0gZWxlXHJcbiAgICAgKiBAcGFyYW0gY29udGVudFxyXG4gICAgICovXHJcbiAgICBwYXJzZXJFbGVtZW50Q29udGVudChlbGUsIGNvbnRlbnQpIHtcclxuICAgICAgICAvLyDoi6XlrZjlnKjmlofmnKzlo7DmmI7vvIzop6PmnpDmlofmnKxcclxuICAgICAgICBpZiAoY29udGVudCkge1xyXG4gICAgICAgICAgICBsZXQgY29udGVudHMgPSB1dGlsXzEuVXRpbC50ZXh0UGFyc2VyKGNvbnRlbnQpO1xyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjb250ZW50cykpIHtcclxuICAgICAgICAgICAgICAgIGxldCB2YWx1ZXMgPSBjb250ZW50cy5tYXAoaXRlbSA9PiBlbGVbaXRlbV0pO1xyXG4gICAgICAgICAgICAgICAgdmFsdWVzLm1hcCgoaXRlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKCdbJyArIGNvbnRlbnRzW2luZGV4XSArICddJywgaXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY29udGVudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5Yqo5oCB5re75Yqg5LiA5Liq6L+e5o6lXHJcbiAgICAgKiAtIOivpeaWueazleeUqOS6juiuqeeUqOaIt+WcqHJlbmRlcuaWueazleS4reWKqOaAgeeUn+aIkOS4gOS4qumdnumihOWFiOWcqHNvdXJjZeS4reWjsOaYjueahOi/nuaOpVxyXG4gICAgICogQHBhcmFtIGVtaXRFbGVtZW50XHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0RWxlbWVudFxyXG4gICAgICogQHBhcmFtIGxpbmtOYW1lXHJcbiAgICAgKiBAcGFyYW0gYW5jaG9yUGFpclxyXG4gICAgICovXHJcbiAgICBhZGRMaW5rKGVtaXRFbGVtZW50LCB0YXJnZXRFbGVtZW50LCBsaW5rTmFtZSwgdmFsdWUgPSBudWxsLCBhbmNob3JQYWlyID0gbnVsbCkge1xyXG4gICAgICAgIC8vIOiLpWVtaXRFbGVtZW505Lit55qEbGlua05hbWXlrZfmrrXmnInkuJTku4XmnInkuIDkuKrlhYPntKBcclxuICAgICAgICBpZiAoZW1pdEVsZW1lbnRbbGlua05hbWVdICYmICFBcnJheS5pc0FycmF5KGVtaXRFbGVtZW50W2xpbmtOYW1lXSkpIHtcclxuICAgICAgICAgICAgZW1pdEVsZW1lbnRbbGlua05hbWVdID0gW2VtaXRFbGVtZW50W2xpbmtOYW1lXSwgdGFyZ2V0RWxlbWVudF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOiLpWVtaXRFbGVtZW505Lit55qEbGlua05hbWXlrZfmrrXmnInlpJrkuKrlhYPntKBcclxuICAgICAgICBlbHNlIGlmIChlbWl0RWxlbWVudFtsaW5rTmFtZV0gJiYgQXJyYXkuaXNBcnJheShlbWl0RWxlbWVudFtsaW5rTmFtZV0pKSB7XHJcbiAgICAgICAgICAgIGVtaXRFbGVtZW50W2xpbmtOYW1lXS5wdXNoKHRhcmdldEVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDoi6VlbWl0RWxlbWVudOS4reeahGxpbmtOYW1l5a2X5q615Li656m6XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGVtaXRFbGVtZW50W2xpbmtOYW1lXSA9IHRhcmdldEVsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubGlua01vZGVsLmFkZExpbmtQYWlyKHtcclxuICAgICAgICAgICAgZWxlbWVudDogZW1pdEVsZW1lbnQsXHJcbiAgICAgICAgICAgIHRhcmdldDogdGFyZ2V0RWxlbWVudCxcclxuICAgICAgICAgICAgbGlua05hbWUsXHJcbiAgICAgICAgICAgIGxhYmVsOiB2YWx1ZSA/IHZhbHVlLnRvU3RyaW5nKCkgOiBudWxsLFxyXG4gICAgICAgICAgICBhbmNob3JQYWlyLFxyXG4gICAgICAgICAgICBzb3VyY2VMaW5rVGFyZ2V0OiBudWxsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOWKqOaAgea3u+WKoOS4gOS4quWklumDqOaMh+mSiFxyXG4gICAgICogLSDor6Xmlrnms5XnlKjkuo7orqnnlKjmiLflnKhyZW5kZXLmlrnms5XkuK3liqjmgIHnlJ/miJDkuIDkuKrpnZ7pooTlhYjlnKhzb3VyY2XkuK3lo7DmmI7nmoTlpJbpg6jmjIfpkohcclxuICAgICAqIEBwYXJhbSB0YXJnZXRFbGVtZW50XHJcbiAgICAgKiBAcGFyYW0gcG9pbnRlck5hbWVcclxuICAgICAqIEBwYXJhbSB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBhZGRQb2ludGVyKHRhcmdldEVsZW1lbnQsIHBvaW50ZXJOYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMucG9pbnRlck1vZGVsLmFkZFBvaW50ZXJQYWlyKHRhcmdldEVsZW1lbnQsIHBvaW50ZXJOYW1lLCB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOmHjee9ruS4iuS4gOasoeeahOaVsOaNru+8jOWMheaLrO+8mlxyXG4gICAgICogLSBlbGVtZW50TGlzdFxyXG4gICAgICogLSBlbGVtZW50Q29udGFpbmVyXHJcbiAgICAgKiAtIGxpbmtNb2RlbCDmlbDmja5cclxuICAgICAqIC0gcG9pbnRlck1vZGVsIOaVsOaNrlxyXG4gICAgICogQHBhcmFtIHNoYXBlQ29udGFpbmVyXHJcbiAgICAgKi9cclxuICAgIHJlc2V0RGF0YSgpIHtcclxuICAgICAgICAvLyDlsIbmiYDmnIkgZWxlbWVudCDorr7nva7kuLrov4fml7ZcclxuICAgICAgICB0aGlzLmVsZW1lbnRMaXN0LmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIGl0ZW0uaXNPYnNvbGV0ZSA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50TGlzdC5sZW5ndGggPSAwO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudENvbnRhaW5lciA9IHt9O1xyXG4gICAgICAgIHRoaXMubGlua01vZGVsLmNsZWFyKCk7XHJcbiAgICAgICAgdGhpcy5wb2ludGVyTW9kZWwuY2xlYXIoKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLkRhdGFNb2RlbCA9IERhdGFNb2RlbDtcclxuO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///23\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst util_1 = __webpack_require__(0);\r\nconst boundingRect_1 = __webpack_require__(3);\r\nconst vector_1 = __webpack_require__(4);\r\n/**\r\n * 连接处理器\r\n */\r\nclass LinkModel {\r\n    constructor(dataModel, viewModel, linkOptions) {\r\n        this.lastLinkPairs = [];\r\n        this.linkPairs = [];\r\n        this.labelList = [];\r\n        this.labelAvoidLevel = 2;\r\n        this.dataModel = dataModel;\r\n        this.viewModel = viewModel;\r\n        this.linkOptions = linkOptions;\r\n    }\r\n    /**\r\n     * 构建连接模型\r\n     * - 添加linkPair到linkPairs队列\r\n     * - 将element中的源数据linkName字段（linkData类型）替换为真实element\r\n     * @param linkNames\r\n     * @param elements\r\n     * @param elementList\r\n     */\r\n    constructLinks(linkNames, elements, elementList) {\r\n        // 没有连接信息，返回\r\n        if (linkNames.length === 0)\r\n            return;\r\n        linkNames.forEach(linkName => {\r\n            for (let i = 0; i < elementList.length; i++) {\r\n                let ele = elementList[i], linkData = ele[linkName], label = this.linkOptions[linkName].label, target = null;\r\n                if (linkData === undefined || linkData === null)\r\n                    continue;\r\n                //  ---------------------------- 将连接声明字段从id变为Element ---------------------\r\n                if (Array.isArray(linkData)) {\r\n                    ele[linkName] = [...linkData].map((item, index) => {\r\n                        target = this.fetchTargetElements(elements, ele, item);\r\n                        this.addLinkPair({\r\n                            element: ele,\r\n                            target,\r\n                            linkName,\r\n                            anchorPair: null,\r\n                            label,\r\n                            index,\r\n                            sourceLinkTarget: item\r\n                        });\r\n                        return target;\r\n                    });\r\n                }\r\n                else {\r\n                    target = this.fetchTargetElements(elements, ele, linkData);\r\n                    this.addLinkPair({\r\n                        element: ele,\r\n                        target,\r\n                        linkName,\r\n                        anchorPair: null,\r\n                        label,\r\n                        sourceLinkTarget: linkData\r\n                    });\r\n                    ele[linkName] = target;\r\n                }\r\n            }\r\n        });\r\n        // 处理被取消的连线\r\n        this.applyCanceledLink(elementList);\r\n        // 将该批次连接对队列设为上一批连接对队列\r\n        this.lastLinkPairs = this.linkPairs;\r\n    }\r\n    /**\r\n     * 生成连接对\r\n     * @param linkInfo\r\n     */\r\n    addLinkPair(linkInfo) {\r\n        if (linkInfo.target === null)\r\n            return;\r\n        let { element, target, linkName, label, index, anchorPair, sourceLinkTarget } = linkInfo;\r\n        let id = `${element.elementId}-${target.elementId}`, linkPair = {\r\n            id,\r\n            linkName,\r\n            linkShape: null,\r\n            element,\r\n            target,\r\n            anchorPair,\r\n            anchorPosPair: null,\r\n            label,\r\n            labelShape: null,\r\n            index,\r\n            linkShapeStyle: {},\r\n            sourceLinkTarget\r\n        };\r\n        // 添加一个linkPair到linkPairs队列\r\n        this.linkPairs.push(linkPair);\r\n        // 将该连接对添加到 element 和 target 的 effectPairs 中\r\n        element.effectLinks.push(linkPair);\r\n        target.effectLinks.push(linkPair);\r\n        // 响应onLink钩子函数\r\n        element.onLinkTo(target, {\r\n            style: linkPair.linkShapeStyle,\r\n            name: linkName,\r\n            index,\r\n            label\r\n        });\r\n        target.onLinkFrom(element, {\r\n            style: linkPair.linkShapeStyle,\r\n            name: linkName,\r\n            index,\r\n            label\r\n        });\r\n    }\r\n    /**\r\n     * 绘制连线\r\n     */\r\n    drawLinks() {\r\n        for (let i = 0; i < this.linkPairs.length; i++) {\r\n            let linkPair = this.linkPairs[i], { id, element, target, linkName, anchorPair, index, linkShapeStyle } = linkPair, linkOption = this.linkOptions[linkName], linkShape = null, labelShape = null, start, end;\r\n            // -------------------------------- 处理连线标签 -------------------------------------\r\n            linkPair.label = this.labelSolver(linkPair.label, linkPair.sourceLinkTarget);\r\n            // 对连线标签进行字符串解析，并创建标签图形实例\r\n            if (linkPair.label) {\r\n                labelShape = this.viewModel.createShape(`${element.elementId}-${target.elementId}-label`, 'text', {\r\n                    show: linkOption.show,\r\n                    content: linkPair.label,\r\n                    style: linkOption.labelStyle\r\n                });\r\n                this.labelList.push(labelShape);\r\n                linkPair.labelShape = labelShape;\r\n            }\r\n            // -------------------------------- 处理连线 -------------------------------------\r\n            //  创建连线图形实例\r\n            linkShape = this.viewModel.createShape(id, 'line', linkOption);\r\n            util_1.Util.extends(linkShape.style, linkShapeStyle);\r\n            if (anchorPair === null || anchorPair === undefined) {\r\n                anchorPair = this.getAnchorPair(element, target, linkName, index);\r\n            }\r\n            // 若锚点越界（如只有3个锚点，contact却有大于3的值），退出\r\n            if (anchorPair && (anchorPair[0] === undefined || anchorPair[1] === undefined)) {\r\n                continue;\r\n            }\r\n            // 若使用动态锚点，获取动态锚点（没有在配置项中指定锚点）\r\n            if (!anchorPair) {\r\n                [start, end] = this.getDynamicAnchorPos(element, target);\r\n            }\r\n            // 若已配置有连接点，使用连接点\r\n            else {\r\n                start = this.getAnchorPos(element, anchorPair[0]),\r\n                    end = this.getAnchorPos(target, anchorPair[1]);\r\n            }\r\n            // 若发现该连接有冲突，则进行处理，重新计算start，end坐标\r\n            [start, end] = this.anchorAvoid([start, end]);\r\n            // 设定联系图形的起始和结束坐标\r\n            linkShape.start.x = start[0];\r\n            linkShape.start.y = start[1];\r\n            linkShape.end.x = end[0];\r\n            linkShape.end.y = end[1];\r\n            linkPair.linkShape = linkShape;\r\n            linkPair.anchorPosPair = [start, end];\r\n            linkPair.anchorPair = anchorPair;\r\n        }\r\n    }\r\n    /**\r\n     * 更新连线位置\r\n     * @param linkPair\r\n     */\r\n    updateLinkPos(linkPair, effectElement) {\r\n        let element = linkPair.element, target = linkPair.target, linkShape = linkPair.linkShape, labelShape = linkPair.labelShape, dx = 0, dy = 0;\r\n        // 若是动态锚点（没有在配置项中指定锚点）\r\n        if (!linkPair.anchorPair) {\r\n            let [start, end] = this.getDynamicAnchorPos(element, target);\r\n            linkShape.start.x = start[0];\r\n            linkShape.start.y = start[1];\r\n            linkShape.end.x = end[0];\r\n            linkShape.end.y = end[1];\r\n        }\r\n        else {\r\n            // 若连线受影响的是发出 element，更新连线起点\r\n            if (linkPair.element === effectElement) {\r\n                dx = element.x - element.lastX,\r\n                    dy = element.y - element.lastY,\r\n                    linkShape.start.x += dx;\r\n                linkShape.start.y += dy;\r\n            }\r\n            // 若连线受影响的是目标 element，更新连线终点\r\n            if (linkPair.target === effectElement) {\r\n                dx = target.x - target.lastX,\r\n                    dy = target.y - target.lastY,\r\n                    linkShape.end.x += dx;\r\n                linkShape.end.y += dy;\r\n            }\r\n        }\r\n        // 若有标签，标签避让检测\r\n        if (labelShape) {\r\n            this.labelAvoid(labelShape, linkShape, [0, 1], 0);\r\n        }\r\n    }\r\n    /**\r\n     * 由source中的连接字段获取真实的连接目标元素\r\n     * @param elements\r\n     * @param emitElement\r\n     * @param linkIds\r\n     */\r\n    fetchTargetElements(elements, emitElement, linkTarget) {\r\n        let elementList = elements[emitElement.name], target = null;\r\n        if (linkTarget === null || linkTarget === undefined) {\r\n            return null;\r\n        }\r\n        // 为linkData对象\r\n        if (typeof linkTarget === 'object' && !Array.isArray(linkTarget)) {\r\n            elementList = elements[linkTarget.element || emitElement.name];\r\n            // 若目标element不存在，返回null\r\n            if (elementList === undefined) {\r\n                return Array.isArray(linkTarget) ? Array.from(new Array(linkTarget.length)).map(item => null) : null;\r\n            }\r\n            target = elementList.find(e => e.id === linkTarget.target);\r\n            return target || null;\r\n        }\r\n        // 为单个id值\r\n        else {\r\n            target = elementList.find(e => e.id === linkTarget);\r\n            return target || null;\r\n        }\r\n    }\r\n    /**\r\n     * 获取锚点对（[源元素锚点， 目标元素锚点]）\r\n     * @param element\r\n     * @param index\r\n     */\r\n    getAnchorPair(element, target, linkName, index) {\r\n        let contact = this.contactSolver(this.linkOptions[linkName].contact, index);\r\n        return contact ? [\r\n            this.getElementAnchor(element, contact[0]), this.getElementAnchor(target, contact[1])\r\n        ] : null;\r\n    }\r\n    /**\r\n     * 处理连接点\r\n     * @param contacts\r\n     * @param index\r\n     */\r\n    contactSolver(contacts, index) {\r\n        if (contacts) {\r\n            if (Array.isArray(contacts[0])) {\r\n                return index === undefined ? contacts[0] : contacts[index];\r\n            }\r\n            else if (typeof contacts === 'function' && index !== undefined) {\r\n                return contacts(index);\r\n            }\r\n            else {\r\n                return contacts;\r\n            }\r\n        }\r\n        // 若没有配置连接点，返回null（退回至动态锚点）\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n    /**\r\n     * 处理锚点冲突\r\n     *（即开始锚点和结束锚点都被占用）\r\n     * @param start\r\n     * @param end\r\n     */\r\n    anchorAvoid(anchorPosPair) {\r\n        // 查看是否碰撞\r\n        let collisionPair = this.linkPairs.find(item => {\r\n            if (item.anchorPosPair) {\r\n                return item.anchorPosPair[0].toString() === anchorPosPair[1].toString() &&\r\n                    item.anchorPosPair[1].toString() === anchorPosPair[0].toString();\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        });\r\n        if (collisionPair) {\r\n            let tangent1 = vector_1.Vector.tangent(vector_1.Vector.subtract(anchorPosPair[1], anchorPosPair[0])), tangent2 = vector_1.Vector.tangent(vector_1.Vector.subtract(collisionPair.anchorPosPair[1], collisionPair.anchorPosPair[0])), offset = -6;\r\n            let newAnchorPosPair1 = [vector_1.Vector.location(anchorPosPair[0], tangent1, offset), vector_1.Vector.location(anchorPosPair[1], tangent1, offset)], newAnchorPosPair2 = [vector_1.Vector.location(collisionPair.anchorPosPair[0], tangent2, offset), vector_1.Vector.location(collisionPair.anchorPosPair[1], tangent2, offset)];\r\n            collisionPair.linkShape.start.x = newAnchorPosPair2[0][0];\r\n            collisionPair.linkShape.start.y = newAnchorPosPair2[0][1];\r\n            collisionPair.linkShape.end.x = newAnchorPosPair2[1][0];\r\n            collisionPair.linkShape.end.y = newAnchorPosPair2[1][1];\r\n            collisionPair.anchorPosPair = newAnchorPosPair2;\r\n            return newAnchorPosPair1;\r\n        }\r\n        else {\r\n            return anchorPosPair;\r\n        }\r\n    }\r\n    /**\r\n     * 处理标签\r\n     * @param sourceText\r\n     * @param sourceTarget\r\n     */\r\n    labelSolver(sourceText, sourceTarget) {\r\n        if (!sourceText)\r\n            return null;\r\n        if (sourceText && sourceTarget === null) {\r\n            return sourceText;\r\n        }\r\n        let resultText = sourceText, props = util_1.Util.textParser(sourceText);\r\n        if (Array.isArray(props)) {\r\n            let values = props.map(item => {\r\n                let value = sourceTarget[item];\r\n                if (value === undefined)\r\n                    return null;\r\n                else\r\n                    return value;\r\n            });\r\n            for (let i = 0; i < values.length; i++) {\r\n                if (values[i] === null)\r\n                    return null;\r\n                resultText = resultText.replace('[' + props[i] + ']', values[i]);\r\n            }\r\n            return resultText;\r\n        }\r\n        else {\r\n            return props;\r\n        }\r\n    }\r\n    /**\r\n     * 标签避让算法\r\n     * @param label\r\n     * @param line\r\n     * @param percentRange\r\n     * @param level\r\n     */\r\n    labelAvoid(label, line, percentRange, level) {\r\n        let collisionFlag = false, middlePercent, center, j;\r\n        middlePercent = (percentRange[1] + percentRange[0]) / 2;\r\n        center = line.pointAt(middlePercent);\r\n        // 设置标签位置为线段中点\r\n        label.x = center[0] - label.width;\r\n        label.y = center[1] - label.height;\r\n        for (j = 0; j < this.labelList.length; j++) {\r\n            if (label !== this.labelList[j] && boundingRect_1.Bound.isOverlap(label.getBound(), this.labelList[j].getBound())) {\r\n                collisionFlag = true;\r\n                break;\r\n            }\r\n        }\r\n        // 若发生重叠且递归层级比规定的层级上限小，则继续二分检测\r\n        if (collisionFlag && level <= this.labelAvoidLevel) {\r\n            let range1 = [percentRange[0], middlePercent], range2 = [middlePercent, percentRange[1]];\r\n            let flag = this.labelAvoid(label, line, range1, level + 1);\r\n            if (!flag) {\r\n                flag = this.labelAvoid(label, line, range2, level + 1);\r\n            }\r\n            return flag;\r\n        }\r\n        // 如果没有重叠，则就用这个位置\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n    /**\r\n     * 获取元素的某个锚点\r\n     */\r\n    getElementAnchor(ele, anchorIndex) {\r\n        let customAnchors = ele.anchors, defaultAnchors = ele.shape.defaultAnchors(ele.shape.getBaseAnchors(), ele.shape.width, ele.shape.height);\r\n        if (customAnchors) {\r\n            Object.keys(customAnchors).map(key => {\r\n                defaultAnchors[key] = customAnchors[key];\r\n            });\r\n        }\r\n        return defaultAnchors[anchorIndex];\r\n    }\r\n    /**\r\n     * 当用户没有指定连接点时，使用动态锚点\r\n     * 原理：使用外接圆，取两个元素外接圆中心连线与各自外接圆的交点，但是该方法精度不高\r\n     * @param ele\r\n     * @param target\r\n     */\r\n    getDynamicAnchorPos(ele, target) {\r\n        let cir1Pos = [ele.x, ele.y], cir1r = (ele.width > ele.height ? ele.width : ele.height) / 2, cir2Pos = [target.x, target.y], cir2r = (target.width > target.height ? target.width : target.height) / 2;\r\n        let direction = vector_1.Vector.subtract(cir1Pos, cir2Pos), anchor1 = vector_1.Vector.location(cir1Pos, vector_1.Vector.negative(direction), cir1r), anchor2 = vector_1.Vector.location(cir2Pos, direction, cir2r);\r\n        return [anchor1, anchor2];\r\n    }\r\n    /**\r\n     * 将某个结点的所有锚点转化为世界坐标\r\n     * @param ele\r\n     * @param anchors\r\n     */\r\n    getAnchorPos(ele, anchor) {\r\n        let x = ele.x, y = ele.y, hw = ele.shape.width / 2, hh = ele.shape.height / 2;\r\n        return util_1.Util.anchor2position(x, y, hw * 2, hh * 2, ele.rotation, anchor);\r\n    }\r\n    /**\r\n     * 找出对比上一次被取消的连线\r\n     * @param elementList\r\n     */\r\n    applyCanceledLink(elementList) {\r\n        // 若没有上一批连线对，不执行\r\n        if (this.lastLinkPairs.length === 0) {\r\n            return;\r\n        }\r\n        let length = this.lastLinkPairs.length, lastLinkPair;\r\n        for (let i = 0; i < length; i++) {\r\n            lastLinkPair = this.lastLinkPairs[i];\r\n            if (this.linkPairs.find(item => item.id === lastLinkPair.id) === undefined) {\r\n                let element = elementList.find(item => item.elementId === lastLinkPair.element.elementId), target = elementList.find(item => item.elementId === lastLinkPair.target.elementId);\r\n                if (element) {\r\n                    element.onUnlinkTo(lastLinkPair.linkName);\r\n                }\r\n                if (target) {\r\n                    target.onUnlinkFrom(lastLinkPair.linkName);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    clear() {\r\n        this.linkPairs = [];\r\n        this.labelList.length = 0;\r\n    }\r\n}\r\nexports.LinkModel = LinkModel;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9Nb2RlbC9saW5rTW9kZWwuanM/MmRmNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE4QyxjQUFjO0FBQzVELGVBQWUsbUJBQU8sQ0FBQyxDQUFnQjtBQUN2Qyx1QkFBdUIsbUJBQU8sQ0FBQyxDQUFzQjtBQUNyRCxpQkFBaUIsbUJBQU8sQ0FBQyxDQUFrQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHdCQUF3QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsd0VBQXdFO0FBQ3JGLG9CQUFvQixrQkFBa0IsR0FBRyxpQkFBaUI7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDJCQUEyQjtBQUNsRCwrQ0FBK0MsbUVBQW1FO0FBQ2xIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELGtCQUFrQixHQUFHLGlCQUFpQjtBQUNqRztBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsMkJBQTJCLG1CQUFtQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsMkJBQTJCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsWUFBWTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi4vQ29tbW9uL3V0aWxcIik7XHJcbmNvbnN0IGJvdW5kaW5nUmVjdF8xID0gcmVxdWlyZShcIi4uL1ZpZXcvYm91bmRpbmdSZWN0XCIpO1xyXG5jb25zdCB2ZWN0b3JfMSA9IHJlcXVpcmUoXCIuLi9Db21tb24vdmVjdG9yXCIpO1xyXG4vKipcclxuICog6L+e5o6l5aSE55CG5ZmoXHJcbiAqL1xyXG5jbGFzcyBMaW5rTW9kZWwge1xyXG4gICAgY29uc3RydWN0b3IoZGF0YU1vZGVsLCB2aWV3TW9kZWwsIGxpbmtPcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5sYXN0TGlua1BhaXJzID0gW107XHJcbiAgICAgICAgdGhpcy5saW5rUGFpcnMgPSBbXTtcclxuICAgICAgICB0aGlzLmxhYmVsTGlzdCA9IFtdO1xyXG4gICAgICAgIHRoaXMubGFiZWxBdm9pZExldmVsID0gMjtcclxuICAgICAgICB0aGlzLmRhdGFNb2RlbCA9IGRhdGFNb2RlbDtcclxuICAgICAgICB0aGlzLnZpZXdNb2RlbCA9IHZpZXdNb2RlbDtcclxuICAgICAgICB0aGlzLmxpbmtPcHRpb25zID0gbGlua09wdGlvbnM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOaehOW7uui/nuaOpeaooeWei1xyXG4gICAgICogLSDmt7vliqBsaW5rUGFpcuWIsGxpbmtQYWlyc+mYn+WIl1xyXG4gICAgICogLSDlsIZlbGVtZW505Lit55qE5rqQ5pWw5o2ubGlua05hbWXlrZfmrrXvvIhsaW5rRGF0Yeexu+Wei++8ieabv+aNouS4uuecn+WunmVsZW1lbnRcclxuICAgICAqIEBwYXJhbSBsaW5rTmFtZXNcclxuICAgICAqIEBwYXJhbSBlbGVtZW50c1xyXG4gICAgICogQHBhcmFtIGVsZW1lbnRMaXN0XHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdExpbmtzKGxpbmtOYW1lcywgZWxlbWVudHMsIGVsZW1lbnRMaXN0KSB7XHJcbiAgICAgICAgLy8g5rKh5pyJ6L+e5o6l5L+h5oGv77yM6L+U5ZueXHJcbiAgICAgICAgaWYgKGxpbmtOYW1lcy5sZW5ndGggPT09IDApXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBsaW5rTmFtZXMuZm9yRWFjaChsaW5rTmFtZSA9PiB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudExpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBlbGUgPSBlbGVtZW50TGlzdFtpXSwgbGlua0RhdGEgPSBlbGVbbGlua05hbWVdLCBsYWJlbCA9IHRoaXMubGlua09wdGlvbnNbbGlua05hbWVdLmxhYmVsLCB0YXJnZXQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxpbmtEYXRhID09PSB1bmRlZmluZWQgfHwgbGlua0RhdGEgPT09IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAvLyAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSDlsIbov57mjqXlo7DmmI7lrZfmrrXku45pZOWPmOS4ukVsZW1lbnQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShsaW5rRGF0YSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVbbGlua05hbWVdID0gWy4uLmxpbmtEYXRhXS5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IHRoaXMuZmV0Y2hUYXJnZXRFbGVtZW50cyhlbGVtZW50cywgZWxlLCBpdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRMaW5rUGFpcih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiBlbGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5rTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvclBhaXI6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlTGlua1RhcmdldDogaXRlbVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IHRoaXMuZmV0Y2hUYXJnZXRFbGVtZW50cyhlbGVtZW50cywgZWxlLCBsaW5rRGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRMaW5rUGFpcih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGVsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5rTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yUGFpcjogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUxpbmtUYXJnZXQ6IGxpbmtEYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlW2xpbmtOYW1lXSA9IHRhcmdldDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIOWkhOeQhuiiq+WPlua2iOeahOi/nue6v1xyXG4gICAgICAgIHRoaXMuYXBwbHlDYW5jZWxlZExpbmsoZWxlbWVudExpc3QpO1xyXG4gICAgICAgIC8vIOWwhuivpeaJueasoei/nuaOpeWvuemYn+WIl+iuvuS4uuS4iuS4gOaJuei/nuaOpeWvuemYn+WIl1xyXG4gICAgICAgIHRoaXMubGFzdExpbmtQYWlycyA9IHRoaXMubGlua1BhaXJzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDnlJ/miJDov57mjqXlr7lcclxuICAgICAqIEBwYXJhbSBsaW5rSW5mb1xyXG4gICAgICovXHJcbiAgICBhZGRMaW5rUGFpcihsaW5rSW5mbykge1xyXG4gICAgICAgIGlmIChsaW5rSW5mby50YXJnZXQgPT09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBsZXQgeyBlbGVtZW50LCB0YXJnZXQsIGxpbmtOYW1lLCBsYWJlbCwgaW5kZXgsIGFuY2hvclBhaXIsIHNvdXJjZUxpbmtUYXJnZXQgfSA9IGxpbmtJbmZvO1xyXG4gICAgICAgIGxldCBpZCA9IGAke2VsZW1lbnQuZWxlbWVudElkfS0ke3RhcmdldC5lbGVtZW50SWR9YCwgbGlua1BhaXIgPSB7XHJcbiAgICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgICBsaW5rTmFtZSxcclxuICAgICAgICAgICAgbGlua1NoYXBlOiBudWxsLFxyXG4gICAgICAgICAgICBlbGVtZW50LFxyXG4gICAgICAgICAgICB0YXJnZXQsXHJcbiAgICAgICAgICAgIGFuY2hvclBhaXIsXHJcbiAgICAgICAgICAgIGFuY2hvclBvc1BhaXI6IG51bGwsXHJcbiAgICAgICAgICAgIGxhYmVsLFxyXG4gICAgICAgICAgICBsYWJlbFNoYXBlOiBudWxsLFxyXG4gICAgICAgICAgICBpbmRleCxcclxuICAgICAgICAgICAgbGlua1NoYXBlU3R5bGU6IHt9LFxyXG4gICAgICAgICAgICBzb3VyY2VMaW5rVGFyZ2V0XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyDmt7vliqDkuIDkuKpsaW5rUGFpcuWIsGxpbmtQYWlyc+mYn+WIl1xyXG4gICAgICAgIHRoaXMubGlua1BhaXJzLnB1c2gobGlua1BhaXIpO1xyXG4gICAgICAgIC8vIOWwhuivpei/nuaOpeWvuea3u+WKoOWIsCBlbGVtZW50IOWSjCB0YXJnZXQg55qEIGVmZmVjdFBhaXJzIOS4rVxyXG4gICAgICAgIGVsZW1lbnQuZWZmZWN0TGlua3MucHVzaChsaW5rUGFpcik7XHJcbiAgICAgICAgdGFyZ2V0LmVmZmVjdExpbmtzLnB1c2gobGlua1BhaXIpO1xyXG4gICAgICAgIC8vIOWTjeW6lG9uTGlua+mSqeWtkOWHveaVsFxyXG4gICAgICAgIGVsZW1lbnQub25MaW5rVG8odGFyZ2V0LCB7XHJcbiAgICAgICAgICAgIHN0eWxlOiBsaW5rUGFpci5saW5rU2hhcGVTdHlsZSxcclxuICAgICAgICAgICAgbmFtZTogbGlua05hbWUsXHJcbiAgICAgICAgICAgIGluZGV4LFxyXG4gICAgICAgICAgICBsYWJlbFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRhcmdldC5vbkxpbmtGcm9tKGVsZW1lbnQsIHtcclxuICAgICAgICAgICAgc3R5bGU6IGxpbmtQYWlyLmxpbmtTaGFwZVN0eWxlLFxyXG4gICAgICAgICAgICBuYW1lOiBsaW5rTmFtZSxcclxuICAgICAgICAgICAgaW5kZXgsXHJcbiAgICAgICAgICAgIGxhYmVsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOe7mOWItui/nue6v1xyXG4gICAgICovXHJcbiAgICBkcmF3TGlua3MoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpbmtQYWlycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgbGlua1BhaXIgPSB0aGlzLmxpbmtQYWlyc1tpXSwgeyBpZCwgZWxlbWVudCwgdGFyZ2V0LCBsaW5rTmFtZSwgYW5jaG9yUGFpciwgaW5kZXgsIGxpbmtTaGFwZVN0eWxlIH0gPSBsaW5rUGFpciwgbGlua09wdGlvbiA9IHRoaXMubGlua09wdGlvbnNbbGlua05hbWVdLCBsaW5rU2hhcGUgPSBudWxsLCBsYWJlbFNoYXBlID0gbnVsbCwgc3RhcnQsIGVuZDtcclxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0g5aSE55CG6L+e57q/5qCH562+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgICAgbGlua1BhaXIubGFiZWwgPSB0aGlzLmxhYmVsU29sdmVyKGxpbmtQYWlyLmxhYmVsLCBsaW5rUGFpci5zb3VyY2VMaW5rVGFyZ2V0KTtcclxuICAgICAgICAgICAgLy8g5a+56L+e57q/5qCH562+6L+b6KGM5a2X56ym5Liy6Kej5p6Q77yM5bm25Yib5bu65qCH562+5Zu+5b2i5a6e5L6LXHJcbiAgICAgICAgICAgIGlmIChsaW5rUGFpci5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgbGFiZWxTaGFwZSA9IHRoaXMudmlld01vZGVsLmNyZWF0ZVNoYXBlKGAke2VsZW1lbnQuZWxlbWVudElkfS0ke3RhcmdldC5lbGVtZW50SWR9LWxhYmVsYCwgJ3RleHQnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvdzogbGlua09wdGlvbi5zaG93LFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGxpbmtQYWlyLmxhYmVsLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiBsaW5rT3B0aW9uLmxhYmVsU3R5bGVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sYWJlbExpc3QucHVzaChsYWJlbFNoYXBlKTtcclxuICAgICAgICAgICAgICAgIGxpbmtQYWlyLmxhYmVsU2hhcGUgPSBsYWJlbFNoYXBlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIOWkhOeQhui/nue6vyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICAgIC8vICDliJvlu7rov57nur/lm77lvaLlrp7kvotcclxuICAgICAgICAgICAgbGlua1NoYXBlID0gdGhpcy52aWV3TW9kZWwuY3JlYXRlU2hhcGUoaWQsICdsaW5lJywgbGlua09wdGlvbik7XHJcbiAgICAgICAgICAgIHV0aWxfMS5VdGlsLmV4dGVuZHMobGlua1NoYXBlLnN0eWxlLCBsaW5rU2hhcGVTdHlsZSk7XHJcbiAgICAgICAgICAgIGlmIChhbmNob3JQYWlyID09PSBudWxsIHx8IGFuY2hvclBhaXIgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgYW5jaG9yUGFpciA9IHRoaXMuZ2V0QW5jaG9yUGFpcihlbGVtZW50LCB0YXJnZXQsIGxpbmtOYW1lLCBpbmRleCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8g6Iul6ZSa54K56LaK55WM77yI5aaC5Y+q5pyJM+S4qumUmueCue+8jGNvbnRhY3TljbTmnInlpKfkuo4z55qE5YC877yJ77yM6YCA5Ye6XHJcbiAgICAgICAgICAgIGlmIChhbmNob3JQYWlyICYmIChhbmNob3JQYWlyWzBdID09PSB1bmRlZmluZWQgfHwgYW5jaG9yUGFpclsxXSA9PT0gdW5kZWZpbmVkKSkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8g6Iul5L2/55So5Yqo5oCB6ZSa54K577yM6I635Y+W5Yqo5oCB6ZSa54K577yI5rKh5pyJ5Zyo6YWN572u6aG55Lit5oyH5a6a6ZSa54K577yJXHJcbiAgICAgICAgICAgIGlmICghYW5jaG9yUGFpcikge1xyXG4gICAgICAgICAgICAgICAgW3N0YXJ0LCBlbmRdID0gdGhpcy5nZXREeW5hbWljQW5jaG9yUG9zKGVsZW1lbnQsIHRhcmdldCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8g6Iul5bey6YWN572u5pyJ6L+e5o6l54K577yM5L2/55So6L+e5o6l54K5XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc3RhcnQgPSB0aGlzLmdldEFuY2hvclBvcyhlbGVtZW50LCBhbmNob3JQYWlyWzBdKSxcclxuICAgICAgICAgICAgICAgICAgICBlbmQgPSB0aGlzLmdldEFuY2hvclBvcyh0YXJnZXQsIGFuY2hvclBhaXJbMV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIOiLpeWPkeeOsOivpei/nuaOpeacieWGsueqge+8jOWImei/m+ihjOWkhOeQhu+8jOmHjeaWsOiuoeeul3N0YXJ077yMZW5k5Z2Q5qCHXHJcbiAgICAgICAgICAgIFtzdGFydCwgZW5kXSA9IHRoaXMuYW5jaG9yQXZvaWQoW3N0YXJ0LCBlbmRdKTtcclxuICAgICAgICAgICAgLy8g6K6+5a6a6IGU57O75Zu+5b2i55qE6LW35aeL5ZKM57uT5p2f5Z2Q5qCHXHJcbiAgICAgICAgICAgIGxpbmtTaGFwZS5zdGFydC54ID0gc3RhcnRbMF07XHJcbiAgICAgICAgICAgIGxpbmtTaGFwZS5zdGFydC55ID0gc3RhcnRbMV07XHJcbiAgICAgICAgICAgIGxpbmtTaGFwZS5lbmQueCA9IGVuZFswXTtcclxuICAgICAgICAgICAgbGlua1NoYXBlLmVuZC55ID0gZW5kWzFdO1xyXG4gICAgICAgICAgICBsaW5rUGFpci5saW5rU2hhcGUgPSBsaW5rU2hhcGU7XHJcbiAgICAgICAgICAgIGxpbmtQYWlyLmFuY2hvclBvc1BhaXIgPSBbc3RhcnQsIGVuZF07XHJcbiAgICAgICAgICAgIGxpbmtQYWlyLmFuY2hvclBhaXIgPSBhbmNob3JQYWlyO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5pu05paw6L+e57q/5L2N572uXHJcbiAgICAgKiBAcGFyYW0gbGlua1BhaXJcclxuICAgICAqL1xyXG4gICAgdXBkYXRlTGlua1BvcyhsaW5rUGFpciwgZWZmZWN0RWxlbWVudCkge1xyXG4gICAgICAgIGxldCBlbGVtZW50ID0gbGlua1BhaXIuZWxlbWVudCwgdGFyZ2V0ID0gbGlua1BhaXIudGFyZ2V0LCBsaW5rU2hhcGUgPSBsaW5rUGFpci5saW5rU2hhcGUsIGxhYmVsU2hhcGUgPSBsaW5rUGFpci5sYWJlbFNoYXBlLCBkeCA9IDAsIGR5ID0gMDtcclxuICAgICAgICAvLyDoi6XmmK/liqjmgIHplJrngrnvvIjmsqHmnInlnKjphY3nva7pobnkuK3mjIflrprplJrngrnvvIlcclxuICAgICAgICBpZiAoIWxpbmtQYWlyLmFuY2hvclBhaXIpIHtcclxuICAgICAgICAgICAgbGV0IFtzdGFydCwgZW5kXSA9IHRoaXMuZ2V0RHluYW1pY0FuY2hvclBvcyhlbGVtZW50LCB0YXJnZXQpO1xyXG4gICAgICAgICAgICBsaW5rU2hhcGUuc3RhcnQueCA9IHN0YXJ0WzBdO1xyXG4gICAgICAgICAgICBsaW5rU2hhcGUuc3RhcnQueSA9IHN0YXJ0WzFdO1xyXG4gICAgICAgICAgICBsaW5rU2hhcGUuZW5kLnggPSBlbmRbMF07XHJcbiAgICAgICAgICAgIGxpbmtTaGFwZS5lbmQueSA9IGVuZFsxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIOiLpei/nue6v+WPl+W9seWTjeeahOaYr+WPkeWHuiBlbGVtZW5077yM5pu05paw6L+e57q/6LW354K5XHJcbiAgICAgICAgICAgIGlmIChsaW5rUGFpci5lbGVtZW50ID09PSBlZmZlY3RFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBkeCA9IGVsZW1lbnQueCAtIGVsZW1lbnQubGFzdFgsXHJcbiAgICAgICAgICAgICAgICAgICAgZHkgPSBlbGVtZW50LnkgLSBlbGVtZW50Lmxhc3RZLFxyXG4gICAgICAgICAgICAgICAgICAgIGxpbmtTaGFwZS5zdGFydC54ICs9IGR4O1xyXG4gICAgICAgICAgICAgICAgbGlua1NoYXBlLnN0YXJ0LnkgKz0gZHk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8g6Iul6L+e57q/5Y+X5b2x5ZON55qE5piv55uu5qCHIGVsZW1lbnTvvIzmm7TmlrDov57nur/nu4jngrlcclxuICAgICAgICAgICAgaWYgKGxpbmtQYWlyLnRhcmdldCA9PT0gZWZmZWN0RWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgZHggPSB0YXJnZXQueCAtIHRhcmdldC5sYXN0WCxcclxuICAgICAgICAgICAgICAgICAgICBkeSA9IHRhcmdldC55IC0gdGFyZ2V0Lmxhc3RZLFxyXG4gICAgICAgICAgICAgICAgICAgIGxpbmtTaGFwZS5lbmQueCArPSBkeDtcclxuICAgICAgICAgICAgICAgIGxpbmtTaGFwZS5lbmQueSArPSBkeTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDoi6XmnInmoIfnrb7vvIzmoIfnrb7pgb/orqnmo4DmtYtcclxuICAgICAgICBpZiAobGFiZWxTaGFwZSkge1xyXG4gICAgICAgICAgICB0aGlzLmxhYmVsQXZvaWQobGFiZWxTaGFwZSwgbGlua1NoYXBlLCBbMCwgMV0sIDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog55Sxc291cmNl5Lit55qE6L+e5o6l5a2X5q616I635Y+W55yf5a6e55qE6L+e5o6l55uu5qCH5YWD57SgXHJcbiAgICAgKiBAcGFyYW0gZWxlbWVudHNcclxuICAgICAqIEBwYXJhbSBlbWl0RWxlbWVudFxyXG4gICAgICogQHBhcmFtIGxpbmtJZHNcclxuICAgICAqL1xyXG4gICAgZmV0Y2hUYXJnZXRFbGVtZW50cyhlbGVtZW50cywgZW1pdEVsZW1lbnQsIGxpbmtUYXJnZXQpIHtcclxuICAgICAgICBsZXQgZWxlbWVudExpc3QgPSBlbGVtZW50c1tlbWl0RWxlbWVudC5uYW1lXSwgdGFyZ2V0ID0gbnVsbDtcclxuICAgICAgICBpZiAobGlua1RhcmdldCA9PT0gbnVsbCB8fCBsaW5rVGFyZ2V0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOS4umxpbmtEYXRh5a+56LGhXHJcbiAgICAgICAgaWYgKHR5cGVvZiBsaW5rVGFyZ2V0ID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShsaW5rVGFyZ2V0KSkge1xyXG4gICAgICAgICAgICBlbGVtZW50TGlzdCA9IGVsZW1lbnRzW2xpbmtUYXJnZXQuZWxlbWVudCB8fCBlbWl0RWxlbWVudC5uYW1lXTtcclxuICAgICAgICAgICAgLy8g6Iul55uu5qCHZWxlbWVudOS4jeWtmOWcqO+8jOi/lOWbnm51bGxcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnRMaXN0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KGxpbmtUYXJnZXQpID8gQXJyYXkuZnJvbShuZXcgQXJyYXkobGlua1RhcmdldC5sZW5ndGgpKS5tYXAoaXRlbSA9PiBudWxsKSA6IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGFyZ2V0ID0gZWxlbWVudExpc3QuZmluZChlID0+IGUuaWQgPT09IGxpbmtUYXJnZXQudGFyZ2V0KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldCB8fCBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDkuLrljZXkuKppZOWAvFxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0YXJnZXQgPSBlbGVtZW50TGlzdC5maW5kKGUgPT4gZS5pZCA9PT0gbGlua1RhcmdldCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQgfHwgbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPlumUmueCueWvue+8iFvmupDlhYPntKDplJrngrnvvIwg55uu5qCH5YWD57Sg6ZSa54K5Xe+8iVxyXG4gICAgICogQHBhcmFtIGVsZW1lbnRcclxuICAgICAqIEBwYXJhbSBpbmRleFxyXG4gICAgICovXHJcbiAgICBnZXRBbmNob3JQYWlyKGVsZW1lbnQsIHRhcmdldCwgbGlua05hbWUsIGluZGV4KSB7XHJcbiAgICAgICAgbGV0IGNvbnRhY3QgPSB0aGlzLmNvbnRhY3RTb2x2ZXIodGhpcy5saW5rT3B0aW9uc1tsaW5rTmFtZV0uY29udGFjdCwgaW5kZXgpO1xyXG4gICAgICAgIHJldHVybiBjb250YWN0ID8gW1xyXG4gICAgICAgICAgICB0aGlzLmdldEVsZW1lbnRBbmNob3IoZWxlbWVudCwgY29udGFjdFswXSksIHRoaXMuZ2V0RWxlbWVudEFuY2hvcih0YXJnZXQsIGNvbnRhY3RbMV0pXHJcbiAgICAgICAgXSA6IG51bGw7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOWkhOeQhui/nuaOpeeCuVxyXG4gICAgICogQHBhcmFtIGNvbnRhY3RzXHJcbiAgICAgKiBAcGFyYW0gaW5kZXhcclxuICAgICAqL1xyXG4gICAgY29udGFjdFNvbHZlcihjb250YWN0cywgaW5kZXgpIHtcclxuICAgICAgICBpZiAoY29udGFjdHMpIHtcclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29udGFjdHNbMF0pKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXggPT09IHVuZGVmaW5lZCA/IGNvbnRhY3RzWzBdIDogY29udGFjdHNbaW5kZXhdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBjb250YWN0cyA9PT0gJ2Z1bmN0aW9uJyAmJiBpbmRleCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGFjdHMoaW5kZXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRhY3RzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOiLpeayoeaciemFjee9rui/nuaOpeeCue+8jOi/lOWbnm51bGzvvIjpgIDlm57oh7PliqjmgIHplJrngrnvvIlcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDlpITnkIbplJrngrnlhrLnqoFcclxuICAgICAq77yI5Y2z5byA5aeL6ZSa54K55ZKM57uT5p2f6ZSa54K56YO96KKr5Y2g55So77yJXHJcbiAgICAgKiBAcGFyYW0gc3RhcnRcclxuICAgICAqIEBwYXJhbSBlbmRcclxuICAgICAqL1xyXG4gICAgYW5jaG9yQXZvaWQoYW5jaG9yUG9zUGFpcikge1xyXG4gICAgICAgIC8vIOafpeeci+aYr+WQpueisOaSnlxyXG4gICAgICAgIGxldCBjb2xsaXNpb25QYWlyID0gdGhpcy5saW5rUGFpcnMuZmluZChpdGVtID0+IHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0uYW5jaG9yUG9zUGFpcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uYW5jaG9yUG9zUGFpclswXS50b1N0cmluZygpID09PSBhbmNob3JQb3NQYWlyWzFdLnRvU3RyaW5nKCkgJiZcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmFuY2hvclBvc1BhaXJbMV0udG9TdHJpbmcoKSA9PT0gYW5jaG9yUG9zUGFpclswXS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKGNvbGxpc2lvblBhaXIpIHtcclxuICAgICAgICAgICAgbGV0IHRhbmdlbnQxID0gdmVjdG9yXzEuVmVjdG9yLnRhbmdlbnQodmVjdG9yXzEuVmVjdG9yLnN1YnRyYWN0KGFuY2hvclBvc1BhaXJbMV0sIGFuY2hvclBvc1BhaXJbMF0pKSwgdGFuZ2VudDIgPSB2ZWN0b3JfMS5WZWN0b3IudGFuZ2VudCh2ZWN0b3JfMS5WZWN0b3Iuc3VidHJhY3QoY29sbGlzaW9uUGFpci5hbmNob3JQb3NQYWlyWzFdLCBjb2xsaXNpb25QYWlyLmFuY2hvclBvc1BhaXJbMF0pKSwgb2Zmc2V0ID0gLTY7XHJcbiAgICAgICAgICAgIGxldCBuZXdBbmNob3JQb3NQYWlyMSA9IFt2ZWN0b3JfMS5WZWN0b3IubG9jYXRpb24oYW5jaG9yUG9zUGFpclswXSwgdGFuZ2VudDEsIG9mZnNldCksIHZlY3Rvcl8xLlZlY3Rvci5sb2NhdGlvbihhbmNob3JQb3NQYWlyWzFdLCB0YW5nZW50MSwgb2Zmc2V0KV0sIG5ld0FuY2hvclBvc1BhaXIyID0gW3ZlY3Rvcl8xLlZlY3Rvci5sb2NhdGlvbihjb2xsaXNpb25QYWlyLmFuY2hvclBvc1BhaXJbMF0sIHRhbmdlbnQyLCBvZmZzZXQpLCB2ZWN0b3JfMS5WZWN0b3IubG9jYXRpb24oY29sbGlzaW9uUGFpci5hbmNob3JQb3NQYWlyWzFdLCB0YW5nZW50Miwgb2Zmc2V0KV07XHJcbiAgICAgICAgICAgIGNvbGxpc2lvblBhaXIubGlua1NoYXBlLnN0YXJ0LnggPSBuZXdBbmNob3JQb3NQYWlyMlswXVswXTtcclxuICAgICAgICAgICAgY29sbGlzaW9uUGFpci5saW5rU2hhcGUuc3RhcnQueSA9IG5ld0FuY2hvclBvc1BhaXIyWzBdWzFdO1xyXG4gICAgICAgICAgICBjb2xsaXNpb25QYWlyLmxpbmtTaGFwZS5lbmQueCA9IG5ld0FuY2hvclBvc1BhaXIyWzFdWzBdO1xyXG4gICAgICAgICAgICBjb2xsaXNpb25QYWlyLmxpbmtTaGFwZS5lbmQueSA9IG5ld0FuY2hvclBvc1BhaXIyWzFdWzFdO1xyXG4gICAgICAgICAgICBjb2xsaXNpb25QYWlyLmFuY2hvclBvc1BhaXIgPSBuZXdBbmNob3JQb3NQYWlyMjtcclxuICAgICAgICAgICAgcmV0dXJuIG5ld0FuY2hvclBvc1BhaXIxO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFuY2hvclBvc1BhaXI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDlpITnkIbmoIfnrb5cclxuICAgICAqIEBwYXJhbSBzb3VyY2VUZXh0XHJcbiAgICAgKiBAcGFyYW0gc291cmNlVGFyZ2V0XHJcbiAgICAgKi9cclxuICAgIGxhYmVsU29sdmVyKHNvdXJjZVRleHQsIHNvdXJjZVRhcmdldCkge1xyXG4gICAgICAgIGlmICghc291cmNlVGV4dClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgaWYgKHNvdXJjZVRleHQgJiYgc291cmNlVGFyZ2V0ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2VUZXh0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgcmVzdWx0VGV4dCA9IHNvdXJjZVRleHQsIHByb3BzID0gdXRpbF8xLlV0aWwudGV4dFBhcnNlcihzb3VyY2VUZXh0KTtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wcykpIHtcclxuICAgICAgICAgICAgbGV0IHZhbHVlcyA9IHByb3BzLm1hcChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IHNvdXJjZVRhcmdldFtpdGVtXTtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVzW2ldID09PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0VGV4dCA9IHJlc3VsdFRleHQucmVwbGFjZSgnWycgKyBwcm9wc1tpXSArICddJywgdmFsdWVzW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0VGV4dDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwcm9wcztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOagh+etvumBv+iuqeeul+azlVxyXG4gICAgICogQHBhcmFtIGxhYmVsXHJcbiAgICAgKiBAcGFyYW0gbGluZVxyXG4gICAgICogQHBhcmFtIHBlcmNlbnRSYW5nZVxyXG4gICAgICogQHBhcmFtIGxldmVsXHJcbiAgICAgKi9cclxuICAgIGxhYmVsQXZvaWQobGFiZWwsIGxpbmUsIHBlcmNlbnRSYW5nZSwgbGV2ZWwpIHtcclxuICAgICAgICBsZXQgY29sbGlzaW9uRmxhZyA9IGZhbHNlLCBtaWRkbGVQZXJjZW50LCBjZW50ZXIsIGo7XHJcbiAgICAgICAgbWlkZGxlUGVyY2VudCA9IChwZXJjZW50UmFuZ2VbMV0gKyBwZXJjZW50UmFuZ2VbMF0pIC8gMjtcclxuICAgICAgICBjZW50ZXIgPSBsaW5lLnBvaW50QXQobWlkZGxlUGVyY2VudCk7XHJcbiAgICAgICAgLy8g6K6+572u5qCH562+5L2N572u5Li657q/5q615Lit54K5XHJcbiAgICAgICAgbGFiZWwueCA9IGNlbnRlclswXSAtIGxhYmVsLndpZHRoO1xyXG4gICAgICAgIGxhYmVsLnkgPSBjZW50ZXJbMV0gLSBsYWJlbC5oZWlnaHQ7XHJcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IHRoaXMubGFiZWxMaXN0Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGlmIChsYWJlbCAhPT0gdGhpcy5sYWJlbExpc3Rbal0gJiYgYm91bmRpbmdSZWN0XzEuQm91bmQuaXNPdmVybGFwKGxhYmVsLmdldEJvdW5kKCksIHRoaXMubGFiZWxMaXN0W2pdLmdldEJvdW5kKCkpKSB7XHJcbiAgICAgICAgICAgICAgICBjb2xsaXNpb25GbGFnID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOiLpeWPkeeUn+mHjeWPoOS4lOmAkuW9kuWxgue6p+avlOinhOWumueahOWxgue6p+S4iumZkOWwj++8jOWImee7p+e7reS6jOWIhuajgOa1i1xyXG4gICAgICAgIGlmIChjb2xsaXNpb25GbGFnICYmIGxldmVsIDw9IHRoaXMubGFiZWxBdm9pZExldmVsKSB7XHJcbiAgICAgICAgICAgIGxldCByYW5nZTEgPSBbcGVyY2VudFJhbmdlWzBdLCBtaWRkbGVQZXJjZW50XSwgcmFuZ2UyID0gW21pZGRsZVBlcmNlbnQsIHBlcmNlbnRSYW5nZVsxXV07XHJcbiAgICAgICAgICAgIGxldCBmbGFnID0gdGhpcy5sYWJlbEF2b2lkKGxhYmVsLCBsaW5lLCByYW5nZTEsIGxldmVsICsgMSk7XHJcbiAgICAgICAgICAgIGlmICghZmxhZykge1xyXG4gICAgICAgICAgICAgICAgZmxhZyA9IHRoaXMubGFiZWxBdm9pZChsYWJlbCwgbGluZSwgcmFuZ2UyLCBsZXZlbCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmbGFnO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDlpoLmnpzmsqHmnInph43lj6DvvIzliJnlsLHnlKjov5nkuKrkvY3nva5cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5blhYPntKDnmoTmn5DkuKrplJrngrlcclxuICAgICAqL1xyXG4gICAgZ2V0RWxlbWVudEFuY2hvcihlbGUsIGFuY2hvckluZGV4KSB7XHJcbiAgICAgICAgbGV0IGN1c3RvbUFuY2hvcnMgPSBlbGUuYW5jaG9ycywgZGVmYXVsdEFuY2hvcnMgPSBlbGUuc2hhcGUuZGVmYXVsdEFuY2hvcnMoZWxlLnNoYXBlLmdldEJhc2VBbmNob3JzKCksIGVsZS5zaGFwZS53aWR0aCwgZWxlLnNoYXBlLmhlaWdodCk7XHJcbiAgICAgICAgaWYgKGN1c3RvbUFuY2hvcnMpIHtcclxuICAgICAgICAgICAgT2JqZWN0LmtleXMoY3VzdG9tQW5jaG9ycykubWFwKGtleSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0QW5jaG9yc1trZXldID0gY3VzdG9tQW5jaG9yc1trZXldO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRBbmNob3JzW2FuY2hvckluZGV4XTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5b2T55So5oi35rKh5pyJ5oyH5a6a6L+e5o6l54K55pe277yM5L2/55So5Yqo5oCB6ZSa54K5XHJcbiAgICAgKiDljp/nkIbvvJrkvb/nlKjlpJbmjqXlnIbvvIzlj5bkuKTkuKrlhYPntKDlpJbmjqXlnIbkuK3lv4Pov57nur/kuI7lkIToh6rlpJbmjqXlnIbnmoTkuqTngrnvvIzkvYbmmK/or6Xmlrnms5Xnsr7luqbkuI3pq5hcclxuICAgICAqIEBwYXJhbSBlbGVcclxuICAgICAqIEBwYXJhbSB0YXJnZXRcclxuICAgICAqL1xyXG4gICAgZ2V0RHluYW1pY0FuY2hvclBvcyhlbGUsIHRhcmdldCkge1xyXG4gICAgICAgIGxldCBjaXIxUG9zID0gW2VsZS54LCBlbGUueV0sIGNpcjFyID0gKGVsZS53aWR0aCA+IGVsZS5oZWlnaHQgPyBlbGUud2lkdGggOiBlbGUuaGVpZ2h0KSAvIDIsIGNpcjJQb3MgPSBbdGFyZ2V0LngsIHRhcmdldC55XSwgY2lyMnIgPSAodGFyZ2V0LndpZHRoID4gdGFyZ2V0LmhlaWdodCA/IHRhcmdldC53aWR0aCA6IHRhcmdldC5oZWlnaHQpIC8gMjtcclxuICAgICAgICBsZXQgZGlyZWN0aW9uID0gdmVjdG9yXzEuVmVjdG9yLnN1YnRyYWN0KGNpcjFQb3MsIGNpcjJQb3MpLCBhbmNob3IxID0gdmVjdG9yXzEuVmVjdG9yLmxvY2F0aW9uKGNpcjFQb3MsIHZlY3Rvcl8xLlZlY3Rvci5uZWdhdGl2ZShkaXJlY3Rpb24pLCBjaXIxciksIGFuY2hvcjIgPSB2ZWN0b3JfMS5WZWN0b3IubG9jYXRpb24oY2lyMlBvcywgZGlyZWN0aW9uLCBjaXIycik7XHJcbiAgICAgICAgcmV0dXJuIFthbmNob3IxLCBhbmNob3IyXTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5bCG5p+Q5Liq57uT54K555qE5omA5pyJ6ZSa54K56L2s5YyW5Li65LiW55WM5Z2Q5qCHXHJcbiAgICAgKiBAcGFyYW0gZWxlXHJcbiAgICAgKiBAcGFyYW0gYW5jaG9yc1xyXG4gICAgICovXHJcbiAgICBnZXRBbmNob3JQb3MoZWxlLCBhbmNob3IpIHtcclxuICAgICAgICBsZXQgeCA9IGVsZS54LCB5ID0gZWxlLnksIGh3ID0gZWxlLnNoYXBlLndpZHRoIC8gMiwgaGggPSBlbGUuc2hhcGUuaGVpZ2h0IC8gMjtcclxuICAgICAgICByZXR1cm4gdXRpbF8xLlV0aWwuYW5jaG9yMnBvc2l0aW9uKHgsIHksIGh3ICogMiwgaGggKiAyLCBlbGUucm90YXRpb24sIGFuY2hvcik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOaJvuWHuuWvueavlOS4iuS4gOasoeiiq+WPlua2iOeahOi/nue6v1xyXG4gICAgICogQHBhcmFtIGVsZW1lbnRMaXN0XHJcbiAgICAgKi9cclxuICAgIGFwcGx5Q2FuY2VsZWRMaW5rKGVsZW1lbnRMaXN0KSB7XHJcbiAgICAgICAgLy8g6Iul5rKh5pyJ5LiK5LiA5om56L+e57q/5a+577yM5LiN5omn6KGMXHJcbiAgICAgICAgaWYgKHRoaXMubGFzdExpbmtQYWlycy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgbGVuZ3RoID0gdGhpcy5sYXN0TGlua1BhaXJzLmxlbmd0aCwgbGFzdExpbmtQYWlyO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGFzdExpbmtQYWlyID0gdGhpcy5sYXN0TGlua1BhaXJzW2ldO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5saW5rUGFpcnMuZmluZChpdGVtID0+IGl0ZW0uaWQgPT09IGxhc3RMaW5rUGFpci5pZCkgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSBlbGVtZW50TGlzdC5maW5kKGl0ZW0gPT4gaXRlbS5lbGVtZW50SWQgPT09IGxhc3RMaW5rUGFpci5lbGVtZW50LmVsZW1lbnRJZCksIHRhcmdldCA9IGVsZW1lbnRMaXN0LmZpbmQoaXRlbSA9PiBpdGVtLmVsZW1lbnRJZCA9PT0gbGFzdExpbmtQYWlyLnRhcmdldC5lbGVtZW50SWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50Lm9uVW5saW5rVG8obGFzdExpbmtQYWlyLmxpbmtOYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQub25VbmxpbmtGcm9tKGxhc3RMaW5rUGFpci5saW5rTmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjbGVhcigpIHtcclxuICAgICAgICB0aGlzLmxpbmtQYWlycyA9IFtdO1xyXG4gICAgICAgIHRoaXMubGFiZWxMaXN0Lmxlbmd0aCA9IDA7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5MaW5rTW9kZWwgPSBMaW5rTW9kZWw7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///24\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst util_1 = __webpack_require__(0);\r\n/**\r\n * 指针处理器\r\n */\r\nclass PointerModel {\r\n    constructor(dataModel, viewModel, pointerOptions) {\r\n        this.lastPointerPairs = [];\r\n        this.pointerPairs = [];\r\n        this.dataModel = dataModel;\r\n        this.viewModel = viewModel;\r\n        this.pointerOptions = pointerOptions;\r\n    }\r\n    /**\r\n     * 构建指针模型\r\n     * @param pointerNames\r\n     * @param elementList\r\n     */\r\n    constructPointers(pointerNames, elementList) {\r\n        if (pointerNames.length === 0)\r\n            return;\r\n        pointerNames.forEach(pointerName => {\r\n            for (let i = 0; i < elementList.length; i++) {\r\n                let ele = elementList[i];\r\n                // 若没有指针字段的结点则跳过\r\n                if (!ele[pointerName])\r\n                    continue;\r\n                this.addPointerPair(ele, pointerName, ele[pointerName]);\r\n            }\r\n        });\r\n        // 处理被取消指向的外部指针\r\n        this.applyCanceledRefer(elementList);\r\n        // 将该批次指针队列设为上一批指针队列\r\n        this.lastPointerPairs = this.pointerPairs;\r\n    }\r\n    /**\r\n     * 添加一个外部指针信息pointerPair\r\n     * @param targetElement\r\n     * @param pointerName\r\n     * @param label\r\n     */\r\n    addPointerPair(targetElement, pointerName, label) {\r\n        if (Array.isArray(label)) {\r\n            const branchPairs = label.map(item => {\r\n                let pointerPair = {\r\n                    id: pointerName + '#' + item,\r\n                    pointerShape: null,\r\n                    label: item,\r\n                    labelShapes: [],\r\n                    target: targetElement,\r\n                    pointerName,\r\n                    branchPairs: null,\r\n                    masterPair: null,\r\n                    pointerShapeStyle: {}\r\n                };\r\n                targetElement.onRefer(pointerPair.pointerShapeStyle, pointerName, item);\r\n                return pointerPair;\r\n            });\r\n            let masterPair = branchPairs.shift();\r\n            branchPairs.map(item => (item.masterPair = masterPair));\r\n            masterPair.branchPairs = branchPairs;\r\n            masterPair.pointerShape = null;\r\n            this.pointerPairs.push(masterPair, ...branchPairs);\r\n            targetElement.effectRefer = masterPair;\r\n        }\r\n        else {\r\n            let id = pointerName + '#' + label, pointerPair = {\r\n                id,\r\n                pointerShape: null,\r\n                label,\r\n                labelShapes: [],\r\n                target: targetElement,\r\n                pointerName,\r\n                branchPairs: null,\r\n                masterPair: null,\r\n                pointerShapeStyle: {}\r\n            };\r\n            this.pointerPairs.push(pointerPair);\r\n            targetElement.effectRefer = pointerPair;\r\n            targetElement.onRefer(pointerPair.pointerShapeStyle, pointerName, label);\r\n        }\r\n    }\r\n    /**\r\n     * 绘制指针\r\n     */\r\n    drawPointers() {\r\n        // 由字符串方向（top，left，bottom，right）映射到锚点的表\r\n        // 主要为外部指针所用\r\n        const directionMapAnchor = {\r\n            top: (w, h, o) => [0, -(h / 2) - o],\r\n            right: (w, h, o) => [w / 2 + o, 0],\r\n            bottom: (w, h, o) => [0, h / 2 + o],\r\n            left: (w, h, o) => [-(w / 2) - o, 0]\r\n        };\r\n        for (let i = 0; i < this.pointerPairs.length; i++) {\r\n            let pointerPair = this.pointerPairs[i], { id, target, pointerName, label } = pointerPair, pointerOption = this.pointerOptions[pointerName], { labelInterval, offset, length, position, labelStyle, show } = pointerOption, pointerShape = null, labelShapes = [];\r\n            // 需要被合并的指针，跳过不处理\r\n            if (pointerPair.masterPair) {\r\n                continue;\r\n            }\r\n            // ------------------------------------- 处理指针箭头 ---------------------------------\r\n            let x = target.x, y = target.y, w = target.width, h = target.height, r = target.rotation, anchor = directionMapAnchor[position], start = util_1.Util.anchor2position(x, y, w, h, r, anchor, offset + length), end = util_1.Util.anchor2position(x, y, w, h, r, anchor, offset);\r\n            pointerShape = this.viewModel.createShape(id, 'line', this.pointerOptions[pointerName]);\r\n            pointerShape.start.x = start[0];\r\n            pointerShape.start.y = start[1];\r\n            pointerShape.end.x = end[0];\r\n            pointerShape.end.y = end[1];\r\n            util_1.Util.extends(pointerShape.style, pointerPair.pointerShapeStyle);\r\n            pointerPair.pointerShape = pointerShape;\r\n            // ------------------------------------ 处理指针标签 --------------------------------------\r\n            labelShapes.push(this.viewModel.createShape(pointerName + '-' + label + '-text', 'text', {\r\n                style: labelStyle,\r\n                content: label,\r\n                show: show\r\n            }));\r\n            if (pointerPair.branchPairs) {\r\n                labelShapes.push(...pointerPair.branchPairs.map(pair => {\r\n                    return this.viewModel.createShape(pointerName + '-' + pair.label + '-text', 'text', {\r\n                        style: labelStyle,\r\n                        content: pair.label,\r\n                        show: show\r\n                    });\r\n                }));\r\n            }\r\n            let curX = 0;\r\n            labelShapes.map((label, index) => {\r\n                let dirSign = position === 'left' ? -1 : 1, offset = index === 0 ? 2 : 0;\r\n                label.y = start[1];\r\n                label.x = start[0] + dirSign * (curX + labelInterval + offset);\r\n                curX = curX + label.width + labelInterval + offset;\r\n            });\r\n            pointerPair.labelShapes = labelShapes;\r\n        }\r\n    }\r\n    /**\r\n     * 更新外部指针的位置\r\n     * @param pointerPair\r\n     * @param dPos\r\n     */\r\n    updateReferPos(pointerPair) {\r\n        // 需要被合并的指针，跳过不处理\r\n        if (pointerPair.masterPair) {\r\n            return;\r\n        }\r\n        let pointerShape = pointerPair.pointerShape, labelShapes = pointerPair.labelShapes, targetElement = pointerPair.target, dx = targetElement.x - targetElement.lastX, dy = targetElement.y - targetElement.lastY;\r\n        pointerShape.start.x += dx;\r\n        pointerShape.start.y += dy;\r\n        pointerShape.end.x += dx;\r\n        pointerShape.end.y += dy;\r\n        labelShapes.map((label) => {\r\n            label.x += dx;\r\n            label.y += dy;\r\n        });\r\n    }\r\n    /**\r\n     * 找出对比上一次被取消的外部指针指向\r\n     * @param elementList\r\n     */\r\n    applyCanceledRefer(elementList) {\r\n        // 若没有上一批连线对，不执行\r\n        if (this.lastPointerPairs.length === 0) {\r\n            return;\r\n        }\r\n        let length = this.lastPointerPairs.length, lastPointerPair;\r\n        for (let i = 0; i < length; i++) {\r\n            lastPointerPair = this.lastPointerPairs[i];\r\n            if (this.pointerPairs.find(item => item.id === lastPointerPair.id) === undefined) {\r\n                let targetElement = elementList.find(item => item.elementId === lastPointerPair.target.elementId);\r\n                if (targetElement) {\r\n                    targetElement.onUnrefer(lastPointerPair.pointerName);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    clear() {\r\n        this.pointerPairs = [];\r\n    }\r\n}\r\nexports.PointerModel = PointerModel;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9Nb2RlbC9wb2ludGVyTW9kZWwuanM/YjdhNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE4QyxjQUFjO0FBQzVELGVBQWUsbUJBQU8sQ0FBQyxDQUFnQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHdCQUF3QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qiw4QkFBOEI7QUFDckQscURBQXFELGlDQUFpQyxtRUFBbUUsNERBQTREO0FBQ3JOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLFlBQVk7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIyNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuLi9Db21tb24vdXRpbFwiKTtcclxuLyoqXHJcbiAqIOaMh+mSiOWkhOeQhuWZqFxyXG4gKi9cclxuY2xhc3MgUG9pbnRlck1vZGVsIHtcclxuICAgIGNvbnN0cnVjdG9yKGRhdGFNb2RlbCwgdmlld01vZGVsLCBwb2ludGVyT3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMubGFzdFBvaW50ZXJQYWlycyA9IFtdO1xyXG4gICAgICAgIHRoaXMucG9pbnRlclBhaXJzID0gW107XHJcbiAgICAgICAgdGhpcy5kYXRhTW9kZWwgPSBkYXRhTW9kZWw7XHJcbiAgICAgICAgdGhpcy52aWV3TW9kZWwgPSB2aWV3TW9kZWw7XHJcbiAgICAgICAgdGhpcy5wb2ludGVyT3B0aW9ucyA9IHBvaW50ZXJPcHRpb25zO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDmnoTlu7rmjIfpkojmqKHlnotcclxuICAgICAqIEBwYXJhbSBwb2ludGVyTmFtZXNcclxuICAgICAqIEBwYXJhbSBlbGVtZW50TGlzdFxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RQb2ludGVycyhwb2ludGVyTmFtZXMsIGVsZW1lbnRMaXN0KSB7XHJcbiAgICAgICAgaWYgKHBvaW50ZXJOYW1lcy5sZW5ndGggPT09IDApXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBwb2ludGVyTmFtZXMuZm9yRWFjaChwb2ludGVyTmFtZSA9PiB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudExpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBlbGUgPSBlbGVtZW50TGlzdFtpXTtcclxuICAgICAgICAgICAgICAgIC8vIOiLpeayoeacieaMh+mSiOWtl+auteeahOe7k+eCueWImei3s+i/h1xyXG4gICAgICAgICAgICAgICAgaWYgKCFlbGVbcG9pbnRlck5hbWVdKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRQb2ludGVyUGFpcihlbGUsIHBvaW50ZXJOYW1lLCBlbGVbcG9pbnRlck5hbWVdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIOWkhOeQhuiiq+WPlua2iOaMh+WQkeeahOWklumDqOaMh+mSiFxyXG4gICAgICAgIHRoaXMuYXBwbHlDYW5jZWxlZFJlZmVyKGVsZW1lbnRMaXN0KTtcclxuICAgICAgICAvLyDlsIbor6XmibnmrKHmjIfpkojpmJ/liJforr7kuLrkuIrkuIDmibnmjIfpkojpmJ/liJdcclxuICAgICAgICB0aGlzLmxhc3RQb2ludGVyUGFpcnMgPSB0aGlzLnBvaW50ZXJQYWlycztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5re75Yqg5LiA5Liq5aSW6YOo5oyH6ZKI5L+h5oGvcG9pbnRlclBhaXJcclxuICAgICAqIEBwYXJhbSB0YXJnZXRFbGVtZW50XHJcbiAgICAgKiBAcGFyYW0gcG9pbnRlck5hbWVcclxuICAgICAqIEBwYXJhbSBsYWJlbFxyXG4gICAgICovXHJcbiAgICBhZGRQb2ludGVyUGFpcih0YXJnZXRFbGVtZW50LCBwb2ludGVyTmFtZSwgbGFiZWwpIHtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShsYWJlbCkpIHtcclxuICAgICAgICAgICAgY29uc3QgYnJhbmNoUGFpcnMgPSBsYWJlbC5tYXAoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcG9pbnRlclBhaXIgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHBvaW50ZXJOYW1lICsgJyMnICsgaXRlbSxcclxuICAgICAgICAgICAgICAgICAgICBwb2ludGVyU2hhcGU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGl0ZW0sXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxTaGFwZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogdGFyZ2V0RWxlbWVudCxcclxuICAgICAgICAgICAgICAgICAgICBwb2ludGVyTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBicmFuY2hQYWlyczogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBtYXN0ZXJQYWlyOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIHBvaW50ZXJTaGFwZVN0eWxlOiB7fVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHRhcmdldEVsZW1lbnQub25SZWZlcihwb2ludGVyUGFpci5wb2ludGVyU2hhcGVTdHlsZSwgcG9pbnRlck5hbWUsIGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50ZXJQYWlyO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbGV0IG1hc3RlclBhaXIgPSBicmFuY2hQYWlycy5zaGlmdCgpO1xyXG4gICAgICAgICAgICBicmFuY2hQYWlycy5tYXAoaXRlbSA9PiAoaXRlbS5tYXN0ZXJQYWlyID0gbWFzdGVyUGFpcikpO1xyXG4gICAgICAgICAgICBtYXN0ZXJQYWlyLmJyYW5jaFBhaXJzID0gYnJhbmNoUGFpcnM7XHJcbiAgICAgICAgICAgIG1hc3RlclBhaXIucG9pbnRlclNoYXBlID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5wb2ludGVyUGFpcnMucHVzaChtYXN0ZXJQYWlyLCAuLi5icmFuY2hQYWlycyk7XHJcbiAgICAgICAgICAgIHRhcmdldEVsZW1lbnQuZWZmZWN0UmVmZXIgPSBtYXN0ZXJQYWlyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IGlkID0gcG9pbnRlck5hbWUgKyAnIycgKyBsYWJlbCwgcG9pbnRlclBhaXIgPSB7XHJcbiAgICAgICAgICAgICAgICBpZCxcclxuICAgICAgICAgICAgICAgIHBvaW50ZXJTaGFwZTogbnVsbCxcclxuICAgICAgICAgICAgICAgIGxhYmVsLFxyXG4gICAgICAgICAgICAgICAgbGFiZWxTaGFwZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXRFbGVtZW50LFxyXG4gICAgICAgICAgICAgICAgcG9pbnRlck5hbWUsXHJcbiAgICAgICAgICAgICAgICBicmFuY2hQYWlyczogbnVsbCxcclxuICAgICAgICAgICAgICAgIG1hc3RlclBhaXI6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBwb2ludGVyU2hhcGVTdHlsZToge31cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5wb2ludGVyUGFpcnMucHVzaChwb2ludGVyUGFpcik7XHJcbiAgICAgICAgICAgIHRhcmdldEVsZW1lbnQuZWZmZWN0UmVmZXIgPSBwb2ludGVyUGFpcjtcclxuICAgICAgICAgICAgdGFyZ2V0RWxlbWVudC5vblJlZmVyKHBvaW50ZXJQYWlyLnBvaW50ZXJTaGFwZVN0eWxlLCBwb2ludGVyTmFtZSwgbGFiZWwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog57uY5Yi25oyH6ZKIXHJcbiAgICAgKi9cclxuICAgIGRyYXdQb2ludGVycygpIHtcclxuICAgICAgICAvLyDnlLHlrZfnrKbkuLLmlrnlkJHvvIh0b3DvvIxsZWZ077yMYm90dG9t77yMcmlnaHTvvInmmKDlsITliLDplJrngrnnmoTooahcclxuICAgICAgICAvLyDkuLvopoHkuLrlpJbpg6jmjIfpkojmiYDnlKhcclxuICAgICAgICBjb25zdCBkaXJlY3Rpb25NYXBBbmNob3IgPSB7XHJcbiAgICAgICAgICAgIHRvcDogKHcsIGgsIG8pID0+IFswLCAtKGggLyAyKSAtIG9dLFxyXG4gICAgICAgICAgICByaWdodDogKHcsIGgsIG8pID0+IFt3IC8gMiArIG8sIDBdLFxyXG4gICAgICAgICAgICBib3R0b206ICh3LCBoLCBvKSA9PiBbMCwgaCAvIDIgKyBvXSxcclxuICAgICAgICAgICAgbGVmdDogKHcsIGgsIG8pID0+IFstKHcgLyAyKSAtIG8sIDBdXHJcbiAgICAgICAgfTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucG9pbnRlclBhaXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBwb2ludGVyUGFpciA9IHRoaXMucG9pbnRlclBhaXJzW2ldLCB7IGlkLCB0YXJnZXQsIHBvaW50ZXJOYW1lLCBsYWJlbCB9ID0gcG9pbnRlclBhaXIsIHBvaW50ZXJPcHRpb24gPSB0aGlzLnBvaW50ZXJPcHRpb25zW3BvaW50ZXJOYW1lXSwgeyBsYWJlbEludGVydmFsLCBvZmZzZXQsIGxlbmd0aCwgcG9zaXRpb24sIGxhYmVsU3R5bGUsIHNob3cgfSA9IHBvaW50ZXJPcHRpb24sIHBvaW50ZXJTaGFwZSA9IG51bGwsIGxhYmVsU2hhcGVzID0gW107XHJcbiAgICAgICAgICAgIC8vIOmcgOimgeiiq+WQiOW5tueahOaMh+mSiO+8jOi3s+i/h+S4jeWkhOeQhlxyXG4gICAgICAgICAgICBpZiAocG9pbnRlclBhaXIubWFzdGVyUGFpcikge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSDlpITnkIbmjIfpkojnrq3lpLQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICAgIGxldCB4ID0gdGFyZ2V0LngsIHkgPSB0YXJnZXQueSwgdyA9IHRhcmdldC53aWR0aCwgaCA9IHRhcmdldC5oZWlnaHQsIHIgPSB0YXJnZXQucm90YXRpb24sIGFuY2hvciA9IGRpcmVjdGlvbk1hcEFuY2hvcltwb3NpdGlvbl0sIHN0YXJ0ID0gdXRpbF8xLlV0aWwuYW5jaG9yMnBvc2l0aW9uKHgsIHksIHcsIGgsIHIsIGFuY2hvciwgb2Zmc2V0ICsgbGVuZ3RoKSwgZW5kID0gdXRpbF8xLlV0aWwuYW5jaG9yMnBvc2l0aW9uKHgsIHksIHcsIGgsIHIsIGFuY2hvciwgb2Zmc2V0KTtcclxuICAgICAgICAgICAgcG9pbnRlclNoYXBlID0gdGhpcy52aWV3TW9kZWwuY3JlYXRlU2hhcGUoaWQsICdsaW5lJywgdGhpcy5wb2ludGVyT3B0aW9uc1twb2ludGVyTmFtZV0pO1xyXG4gICAgICAgICAgICBwb2ludGVyU2hhcGUuc3RhcnQueCA9IHN0YXJ0WzBdO1xyXG4gICAgICAgICAgICBwb2ludGVyU2hhcGUuc3RhcnQueSA9IHN0YXJ0WzFdO1xyXG4gICAgICAgICAgICBwb2ludGVyU2hhcGUuZW5kLnggPSBlbmRbMF07XHJcbiAgICAgICAgICAgIHBvaW50ZXJTaGFwZS5lbmQueSA9IGVuZFsxXTtcclxuICAgICAgICAgICAgdXRpbF8xLlV0aWwuZXh0ZW5kcyhwb2ludGVyU2hhcGUuc3R5bGUsIHBvaW50ZXJQYWlyLnBvaW50ZXJTaGFwZVN0eWxlKTtcclxuICAgICAgICAgICAgcG9pbnRlclBhaXIucG9pbnRlclNoYXBlID0gcG9pbnRlclNoYXBlO1xyXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0g5aSE55CG5oyH6ZKI5qCH562+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICAgIGxhYmVsU2hhcGVzLnB1c2godGhpcy52aWV3TW9kZWwuY3JlYXRlU2hhcGUocG9pbnRlck5hbWUgKyAnLScgKyBsYWJlbCArICctdGV4dCcsICd0ZXh0Jywge1xyXG4gICAgICAgICAgICAgICAgc3R5bGU6IGxhYmVsU3R5bGUsXHJcbiAgICAgICAgICAgICAgICBjb250ZW50OiBsYWJlbCxcclxuICAgICAgICAgICAgICAgIHNob3c6IHNob3dcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICBpZiAocG9pbnRlclBhaXIuYnJhbmNoUGFpcnMpIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsU2hhcGVzLnB1c2goLi4ucG9pbnRlclBhaXIuYnJhbmNoUGFpcnMubWFwKHBhaXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZXdNb2RlbC5jcmVhdGVTaGFwZShwb2ludGVyTmFtZSArICctJyArIHBhaXIubGFiZWwgKyAnLXRleHQnLCAndGV4dCcsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IGxhYmVsU3R5bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHBhaXIubGFiZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3c6IHNob3dcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgY3VyWCA9IDA7XHJcbiAgICAgICAgICAgIGxhYmVsU2hhcGVzLm1hcCgobGFiZWwsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGlyU2lnbiA9IHBvc2l0aW9uID09PSAnbGVmdCcgPyAtMSA6IDEsIG9mZnNldCA9IGluZGV4ID09PSAwID8gMiA6IDA7XHJcbiAgICAgICAgICAgICAgICBsYWJlbC55ID0gc3RhcnRbMV07XHJcbiAgICAgICAgICAgICAgICBsYWJlbC54ID0gc3RhcnRbMF0gKyBkaXJTaWduICogKGN1clggKyBsYWJlbEludGVydmFsICsgb2Zmc2V0KTtcclxuICAgICAgICAgICAgICAgIGN1clggPSBjdXJYICsgbGFiZWwud2lkdGggKyBsYWJlbEludGVydmFsICsgb2Zmc2V0O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcG9pbnRlclBhaXIubGFiZWxTaGFwZXMgPSBsYWJlbFNoYXBlcztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOabtOaWsOWklumDqOaMh+mSiOeahOS9jee9rlxyXG4gICAgICogQHBhcmFtIHBvaW50ZXJQYWlyXHJcbiAgICAgKiBAcGFyYW0gZFBvc1xyXG4gICAgICovXHJcbiAgICB1cGRhdGVSZWZlclBvcyhwb2ludGVyUGFpcikge1xyXG4gICAgICAgIC8vIOmcgOimgeiiq+WQiOW5tueahOaMh+mSiO+8jOi3s+i/h+S4jeWkhOeQhlxyXG4gICAgICAgIGlmIChwb2ludGVyUGFpci5tYXN0ZXJQYWlyKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHBvaW50ZXJTaGFwZSA9IHBvaW50ZXJQYWlyLnBvaW50ZXJTaGFwZSwgbGFiZWxTaGFwZXMgPSBwb2ludGVyUGFpci5sYWJlbFNoYXBlcywgdGFyZ2V0RWxlbWVudCA9IHBvaW50ZXJQYWlyLnRhcmdldCwgZHggPSB0YXJnZXRFbGVtZW50LnggLSB0YXJnZXRFbGVtZW50Lmxhc3RYLCBkeSA9IHRhcmdldEVsZW1lbnQueSAtIHRhcmdldEVsZW1lbnQubGFzdFk7XHJcbiAgICAgICAgcG9pbnRlclNoYXBlLnN0YXJ0LnggKz0gZHg7XHJcbiAgICAgICAgcG9pbnRlclNoYXBlLnN0YXJ0LnkgKz0gZHk7XHJcbiAgICAgICAgcG9pbnRlclNoYXBlLmVuZC54ICs9IGR4O1xyXG4gICAgICAgIHBvaW50ZXJTaGFwZS5lbmQueSArPSBkeTtcclxuICAgICAgICBsYWJlbFNoYXBlcy5tYXAoKGxhYmVsKSA9PiB7XHJcbiAgICAgICAgICAgIGxhYmVsLnggKz0gZHg7XHJcbiAgICAgICAgICAgIGxhYmVsLnkgKz0gZHk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOaJvuWHuuWvueavlOS4iuS4gOasoeiiq+WPlua2iOeahOWklumDqOaMh+mSiOaMh+WQkVxyXG4gICAgICogQHBhcmFtIGVsZW1lbnRMaXN0XHJcbiAgICAgKi9cclxuICAgIGFwcGx5Q2FuY2VsZWRSZWZlcihlbGVtZW50TGlzdCkge1xyXG4gICAgICAgIC8vIOiLpeayoeacieS4iuS4gOaJuei/nue6v+Wvue+8jOS4jeaJp+ihjFxyXG4gICAgICAgIGlmICh0aGlzLmxhc3RQb2ludGVyUGFpcnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGxlbmd0aCA9IHRoaXMubGFzdFBvaW50ZXJQYWlycy5sZW5ndGgsIGxhc3RQb2ludGVyUGFpcjtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxhc3RQb2ludGVyUGFpciA9IHRoaXMubGFzdFBvaW50ZXJQYWlyc1tpXTtcclxuICAgICAgICAgICAgaWYgKHRoaXMucG9pbnRlclBhaXJzLmZpbmQoaXRlbSA9PiBpdGVtLmlkID09PSBsYXN0UG9pbnRlclBhaXIuaWQpID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGxldCB0YXJnZXRFbGVtZW50ID0gZWxlbWVudExpc3QuZmluZChpdGVtID0+IGl0ZW0uZWxlbWVudElkID09PSBsYXN0UG9pbnRlclBhaXIudGFyZ2V0LmVsZW1lbnRJZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0RWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldEVsZW1lbnQub25VbnJlZmVyKGxhc3RQb2ludGVyUGFpci5wb2ludGVyTmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjbGVhcigpIHtcclxuICAgICAgICB0aGlzLnBvaW50ZXJQYWlycyA9IFtdO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuUG9pbnRlck1vZGVsID0gUG9pbnRlck1vZGVsO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///25\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n;\r\n/**\r\n * 默认连线配置项\r\n */\r\nclass DefaultLinkOption {\r\n    constructor() {\r\n        this.markers = null;\r\n        this.curveness = 0;\r\n        this.contact = null;\r\n        this.label = null;\r\n        this.style = {\r\n            fill: '#000',\r\n            lineWidth: 2\r\n        };\r\n        this.labelStyle = {\r\n            textBackgroundColor: 'rgba(0, 0, 0, 1)',\r\n            textFill: '#fff'\r\n        };\r\n        this.show = 'scale';\r\n    }\r\n}\r\nexports.DefaultLinkOption = DefaultLinkOption;\r\n/**\r\n * 默认指针配置项\r\n */\r\nclass DefaultPointerOption {\r\n    constructor() {\r\n        this.length = 30;\r\n        this.offset = 15;\r\n        this.labelInterval = 5;\r\n        this.position = 'top';\r\n        this.markers = 'arrow';\r\n        this.labelStyle = {\r\n            textBackgroundColor: 'rgba(0, 0, 0, 1)',\r\n            textFill: '#fff'\r\n        };\r\n        this.style = {\r\n            fill: '#666',\r\n            lineWidth: 4\r\n        };\r\n        this.show = 'scale';\r\n    }\r\n}\r\nexports.DefaultPointerOption = DefaultPointerOption;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9vcHRpb24uanM/NjIwNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMjYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG47XHJcbi8qKlxyXG4gKiDpu5jorqTov57nur/phY3nva7poblcclxuICovXHJcbmNsYXNzIERlZmF1bHRMaW5rT3B0aW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMubWFya2VycyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jdXJ2ZW5lc3MgPSAwO1xyXG4gICAgICAgIHRoaXMuY29udGFjdCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5sYWJlbCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5zdHlsZSA9IHtcclxuICAgICAgICAgICAgZmlsbDogJyMwMDAnLFxyXG4gICAgICAgICAgICBsaW5lV2lkdGg6IDJcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMubGFiZWxTdHlsZSA9IHtcclxuICAgICAgICAgICAgdGV4dEJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwgMCwgMCwgMSknLFxyXG4gICAgICAgICAgICB0ZXh0RmlsbDogJyNmZmYnXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnNob3cgPSAnc2NhbGUnO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuRGVmYXVsdExpbmtPcHRpb24gPSBEZWZhdWx0TGlua09wdGlvbjtcclxuLyoqXHJcbiAqIOm7mOiupOaMh+mSiOmFjee9rumhuVxyXG4gKi9cclxuY2xhc3MgRGVmYXVsdFBvaW50ZXJPcHRpb24ge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5sZW5ndGggPSAzMDtcclxuICAgICAgICB0aGlzLm9mZnNldCA9IDE1O1xyXG4gICAgICAgIHRoaXMubGFiZWxJbnRlcnZhbCA9IDU7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9ICd0b3AnO1xyXG4gICAgICAgIHRoaXMubWFya2VycyA9ICdhcnJvdyc7XHJcbiAgICAgICAgdGhpcy5sYWJlbFN0eWxlID0ge1xyXG4gICAgICAgICAgICB0ZXh0QmFja2dyb3VuZENvbG9yOiAncmdiYSgwLCAwLCAwLCAxKScsXHJcbiAgICAgICAgICAgIHRleHRGaWxsOiAnI2ZmZidcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuc3R5bGUgPSB7XHJcbiAgICAgICAgICAgIGZpbGw6ICcjNjY2JyxcclxuICAgICAgICAgICAgbGluZVdpZHRoOiA0XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnNob3cgPSAnc2NhbGUnO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuRGVmYXVsdFBvaW50ZXJPcHRpb24gPSBEZWZhdWx0UG9pbnRlck9wdGlvbjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///26\n")},function(module,exports,__webpack_require__){"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nconst util_1 = __webpack_require__(0);\r\nconst boundingRect_1 = __webpack_require__(3);\r\nconst vector_1 = __webpack_require__(4);\r\n/**\r\n * element组\r\n */\r\nclass Group {\r\n    constructor(...arg) {\r\n        this.elements = [];\r\n        this.elementId = util_1.Util.generateId();\r\n        if (arg) {\r\n            this.add(...arg);\r\n        }\r\n    }\r\n    /**\r\n     * 添加element\r\n     * @param arg\r\n     */\r\n    add(...arg) {\r\n        arg.map(ele => {\r\n            this.elements.push(ele);\r\n        });\r\n    }\r\n    /**\r\n     * 移除element\r\n     * @param ele\r\n     */\r\n    remove(ele) {\r\n        util_1.Util.removeFromList(this.elements, item => item.elementId === ele.elementId);\r\n    }\r\n    /**\r\n     * 获取group的包围盒\r\n     */\r\n    getBound() {\r\n        return boundingRect_1.Bound.union(...this.elements.map(item => item.getBound()));\r\n    }\r\n    getWidth() {\r\n        return this.getBound().width;\r\n    }\r\n    getHeight() {\r\n        return this.getBound().height;\r\n    }\r\n    /**\r\n     * 位移group\r\n     * @param dx\r\n     * @param dy\r\n     */\r\n    translate(dx, dy) {\r\n        this.elements.map(item => {\r\n            if (item instanceof Group) {\r\n                item.translate(dx, dy);\r\n            }\r\n            else {\r\n                item.x += dx;\r\n                item.y += dy;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * 旋转group\r\n     * @param rotation\r\n     * @param center\r\n     */\r\n    rotate(rotation, center) {\r\n        if (rotation === 0)\r\n            return;\r\n        let { x, y, width, height } = this.getBound(), cx = x + width / 2, cy = y + height / 2;\r\n        if (center) {\r\n            cx = center[0];\r\n            cy = center[1];\r\n        }\r\n        this.elements.map(item => {\r\n            if (item instanceof Group) {\r\n                item.rotate(rotation, [cx, cy]);\r\n            }\r\n            else {\r\n                let d = vector_1.Vector.rotation(rotation, [item.x, item.y], [cx, cy]);\r\n                item.x = d[0];\r\n                item.y = d[1];\r\n                item.rotation = rotation;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * 清空group\r\n     */\r\n    clear() {\r\n        this.elements.length = 0;\r\n    }\r\n}\r\nexports.Group = Group;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9Nb2RlbC9ncm91cC5qcz80MGY1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQThDLGNBQWM7QUFDNUQsZUFBZSxtQkFBTyxDQUFDLENBQWdCO0FBQ3ZDLHVCQUF1QixtQkFBTyxDQUFDLENBQXNCO0FBQ3JELGlCQUFpQixtQkFBTyxDQUFDLENBQWtCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHNCQUFzQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIyNy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuLi9Db21tb24vdXRpbFwiKTtcclxuY29uc3QgYm91bmRpbmdSZWN0XzEgPSByZXF1aXJlKFwiLi4vVmlldy9ib3VuZGluZ1JlY3RcIik7XHJcbmNvbnN0IHZlY3Rvcl8xID0gcmVxdWlyZShcIi4uL0NvbW1vbi92ZWN0b3JcIik7XHJcbi8qKlxyXG4gKiBlbGVtZW5057uEXHJcbiAqL1xyXG5jbGFzcyBHcm91cCB7XHJcbiAgICBjb25zdHJ1Y3RvciguLi5hcmcpIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnRzID0gW107XHJcbiAgICAgICAgdGhpcy5lbGVtZW50SWQgPSB1dGlsXzEuVXRpbC5nZW5lcmF0ZUlkKCk7XHJcbiAgICAgICAgaWYgKGFyZykge1xyXG4gICAgICAgICAgICB0aGlzLmFkZCguLi5hcmcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5re75YqgZWxlbWVudFxyXG4gICAgICogQHBhcmFtIGFyZ1xyXG4gICAgICovXHJcbiAgICBhZGQoLi4uYXJnKSB7XHJcbiAgICAgICAgYXJnLm1hcChlbGUgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRzLnB1c2goZWxlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog56e76ZmkZWxlbWVudFxyXG4gICAgICogQHBhcmFtIGVsZVxyXG4gICAgICovXHJcbiAgICByZW1vdmUoZWxlKSB7XHJcbiAgICAgICAgdXRpbF8xLlV0aWwucmVtb3ZlRnJvbUxpc3QodGhpcy5lbGVtZW50cywgaXRlbSA9PiBpdGVtLmVsZW1lbnRJZCA9PT0gZWxlLmVsZW1lbnRJZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPlmdyb3Vw55qE5YyF5Zu055uSXHJcbiAgICAgKi9cclxuICAgIGdldEJvdW5kKCkge1xyXG4gICAgICAgIHJldHVybiBib3VuZGluZ1JlY3RfMS5Cb3VuZC51bmlvbiguLi50aGlzLmVsZW1lbnRzLm1hcChpdGVtID0+IGl0ZW0uZ2V0Qm91bmQoKSkpO1xyXG4gICAgfVxyXG4gICAgZ2V0V2lkdGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Qm91bmQoKS53aWR0aDtcclxuICAgIH1cclxuICAgIGdldEhlaWdodCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRCb3VuZCgpLmhlaWdodDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5L2N56e7Z3JvdXBcclxuICAgICAqIEBwYXJhbSBkeFxyXG4gICAgICogQHBhcmFtIGR5XHJcbiAgICAgKi9cclxuICAgIHRyYW5zbGF0ZShkeCwgZHkpIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnRzLm1hcChpdGVtID0+IHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBHcm91cCkge1xyXG4gICAgICAgICAgICAgICAgaXRlbS50cmFuc2xhdGUoZHgsIGR5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0ueCArPSBkeDtcclxuICAgICAgICAgICAgICAgIGl0ZW0ueSArPSBkeTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDml4vovaxncm91cFxyXG4gICAgICogQHBhcmFtIHJvdGF0aW9uXHJcbiAgICAgKiBAcGFyYW0gY2VudGVyXHJcbiAgICAgKi9cclxuICAgIHJvdGF0ZShyb3RhdGlvbiwgY2VudGVyKSB7XHJcbiAgICAgICAgaWYgKHJvdGF0aW9uID09PSAwKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgbGV0IHsgeCwgeSwgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5nZXRCb3VuZCgpLCBjeCA9IHggKyB3aWR0aCAvIDIsIGN5ID0geSArIGhlaWdodCAvIDI7XHJcbiAgICAgICAgaWYgKGNlbnRlcikge1xyXG4gICAgICAgICAgICBjeCA9IGNlbnRlclswXTtcclxuICAgICAgICAgICAgY3kgPSBjZW50ZXJbMV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZWxlbWVudHMubWFwKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIEdyb3VwKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLnJvdGF0ZShyb3RhdGlvbiwgW2N4LCBjeV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IGQgPSB2ZWN0b3JfMS5WZWN0b3Iucm90YXRpb24ocm90YXRpb24sIFtpdGVtLngsIGl0ZW0ueV0sIFtjeCwgY3ldKTtcclxuICAgICAgICAgICAgICAgIGl0ZW0ueCA9IGRbMF07XHJcbiAgICAgICAgICAgICAgICBpdGVtLnkgPSBkWzFdO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5yb3RhdGlvbiA9IHJvdGF0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOa4heepumdyb3VwXHJcbiAgICAgKi9cclxuICAgIGNsZWFyKCkge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudHMubGVuZ3RoID0gMDtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLkdyb3VwID0gR3JvdXA7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///27\n')},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * 源数据代理器，当某个源数据发生更改时，触发可视化更新\r\n */\r\nclass SourcesProxy {\r\n    constructor(engine) {\r\n        this.revocableObject = null;\r\n        this.updateEngineRequest = 0;\r\n        this.updateEngineDelayCount = 0;\r\n        this.engine = engine;\r\n    }\r\n    /**\r\n     * 代理一个sources对象\r\n     * @param targetObj\r\n     */\r\n    proxy(targetObj) {\r\n        Object.keys(targetObj).map(key => {\r\n            if (typeof targetObj[key] === 'object' && targetObj[key] !== null) {\r\n                targetObj[key] = this.proxy(targetObj[key]);\r\n            }\r\n        });\r\n        this.revocableObject = Proxy.revocable(targetObj, {\r\n            set: (target, key, value) => {\r\n                this.updateEngineRequest++;\r\n                this.updateEngine();\r\n                return Reflect.set(target, key, value);\r\n                ;\r\n            },\r\n            deleteProperty: (target, propertyKey) => {\r\n                this.updateEngineRequest++;\r\n                this.updateEngine();\r\n                return Reflect.deleteProperty(target, propertyKey);\r\n            },\r\n            defineProperty: (target, propertyKey, value) => {\r\n                this.updateEngineRequest++;\r\n                this.updateEngine();\r\n                return Reflect.defineProperty(target, propertyKey, value);\r\n            }\r\n        });\r\n        return this.revocableObject.proxy;\r\n    }\r\n    /**\r\n     * 取消代理一个sources对象，当访问或修改被取消后的对象会发生报错\r\n     * @param targetObj\r\n     */\r\n    revoke(targetObj) {\r\n        this.revocableObject.revoke(targetObj);\r\n    }\r\n    /**\r\n     * 更新可视化引擎\r\n     */\r\n    updateEngine() {\r\n        requestAnimationFrame(() => {\r\n            this.updateEngineDelayCount++;\r\n            if (this.updateEngineDelayCount === this.updateEngineRequest) {\r\n                this.engine.source(this.engine.proxySources, true);\r\n                this.updateEngineRequest = this.updateEngineDelayCount = 0;\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.SourcesProxy = SourcesProxy;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9Nb2RlbC9zb3VyY2VzUHJveHkuanM/MGNhMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsImZpbGUiOiIyOC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKlxyXG4gKiDmupDmlbDmja7ku6PnkIblmajvvIzlvZPmn5DkuKrmupDmlbDmja7lj5HnlJ/mm7TmlLnml7bvvIzop6blj5Hlj6/op4bljJbmm7TmlrBcclxuICovXHJcbmNsYXNzIFNvdXJjZXNQcm94eSB7XHJcbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUpIHtcclxuICAgICAgICB0aGlzLnJldm9jYWJsZU9iamVjdCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy51cGRhdGVFbmdpbmVSZXF1ZXN0ID0gMDtcclxuICAgICAgICB0aGlzLnVwZGF0ZUVuZ2luZURlbGF5Q291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMuZW5naW5lID0gZW5naW5lO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDku6PnkIbkuIDkuKpzb3VyY2Vz5a+56LGhXHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0T2JqXHJcbiAgICAgKi9cclxuICAgIHByb3h5KHRhcmdldE9iaikge1xyXG4gICAgICAgIE9iamVjdC5rZXlzKHRhcmdldE9iaikubWFwKGtleSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0T2JqW2tleV0gPT09ICdvYmplY3QnICYmIHRhcmdldE9ialtrZXldICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRPYmpba2V5XSA9IHRoaXMucHJveHkodGFyZ2V0T2JqW2tleV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5yZXZvY2FibGVPYmplY3QgPSBQcm94eS5yZXZvY2FibGUodGFyZ2V0T2JqLCB7XHJcbiAgICAgICAgICAgIHNldDogKHRhcmdldCwga2V5LCB2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVFbmdpbmVSZXF1ZXN0Kys7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUVuZ2luZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3Quc2V0KHRhcmdldCwga2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICA7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRlbGV0ZVByb3BlcnR5OiAodGFyZ2V0LCBwcm9wZXJ0eUtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVFbmdpbmVSZXF1ZXN0Kys7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUVuZ2luZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eUtleSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRlZmluZVByb3BlcnR5OiAodGFyZ2V0LCBwcm9wZXJ0eUtleSwgdmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRW5naW5lUmVxdWVzdCsrO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVFbmdpbmUoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHlLZXksIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJldm9jYWJsZU9iamVjdC5wcm94eTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5Y+W5raI5Luj55CG5LiA5Liqc291cmNlc+Wvueixoe+8jOW9k+iuv+mXruaIluS/ruaUueiiq+WPlua2iOWQjueahOWvueixoeS8muWPkeeUn+aKpemUmVxyXG4gICAgICogQHBhcmFtIHRhcmdldE9ialxyXG4gICAgICovXHJcbiAgICByZXZva2UodGFyZ2V0T2JqKSB7XHJcbiAgICAgICAgdGhpcy5yZXZvY2FibGVPYmplY3QucmV2b2tlKHRhcmdldE9iaik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOabtOaWsOWPr+inhuWMluW8leaTjlxyXG4gICAgICovXHJcbiAgICB1cGRhdGVFbmdpbmUoKSB7XHJcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVFbmdpbmVEZWxheUNvdW50Kys7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnVwZGF0ZUVuZ2luZURlbGF5Q291bnQgPT09IHRoaXMudXBkYXRlRW5naW5lUmVxdWVzdCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbmdpbmUuc291cmNlKHRoaXMuZW5naW5lLnByb3h5U291cmNlcywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUVuZ2luZVJlcXVlc3QgPSB0aGlzLnVwZGF0ZUVuZ2luZURlbGF5Q291bnQgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5Tb3VyY2VzUHJveHkgPSBTb3VyY2VzUHJveHk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///28\n")},function(module,exports,__webpack_require__){"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nconst zoom_1 = __webpack_require__(30);\r\nconst move_1 = __webpack_require__(31);\r\nconst drag_1 = __webpack_require__(32);\r\nconst focus_1 = __webpack_require__(33);\r\nconst zone_1 = __webpack_require__(34);\r\n/**\r\n * 交互管理器\r\n */\r\nclass InteractionModel {\r\n    constructor(engine) {\r\n        // 从交互配置项映射至交互模块的表\r\n        this.interactionConstructorMap = {\r\n            zoomView: zoom_1.Zoom,\r\n            moveView: move_1.Move,\r\n            drag: drag_1.Drag,\r\n            focus: focus_1.Focus,\r\n            frameSelect: zone_1.Zone\r\n        };\r\n        this.interactionMap = {};\r\n        this.dataStore = {\r\n            selectedElements: null\r\n        };\r\n        this.engine = engine;\r\n    }\r\n    /**\r\n     * 开启交互模块\r\n     * @param interactionOption\r\n     */\r\n    applyInteractions(interactionOption) {\r\n        Object.keys(interactionOption).map(key => {\r\n            if (this.interactionMap[key] === undefined) {\r\n                if (!interactionOption[key]) {\r\n                    return;\r\n                }\r\n                let interactionConstructor = this.interactionConstructorMap[key];\r\n                // 如果根本没有名字为 [key] 的这个交互组件，跳过\r\n                if (interactionConstructor === undefined) {\r\n                    return;\r\n                }\r\n                let interaction = new interactionConstructor(key, this, this.engine);\r\n                this.interactionMap[key] = interaction;\r\n                interaction.setOptionVal(interactionOption[key]);\r\n                interaction.init();\r\n            }\r\n            else {\r\n                this.interactionMap[key].setOptionVal(interactionOption[key]);\r\n                this.interactionMap[key].update();\r\n                // 值直接为 false\r\n                if (!interactionOption[key]) {\r\n                    this.interactionMap[key].toggleEnable(false);\r\n                }\r\n                else {\r\n                    this.interactionMap[key].toggleEnable(true);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * 获取交互模块\r\n     * @param interactionName\r\n     */\r\n    getInteraction(interactionName) {\r\n        return this.interactionMap[interactionName];\r\n    }\r\n    /**\r\n     * 手动触发交互事件\r\n     * @param interactionName\r\n     * @param param\r\n     */\r\n    trigger(interactionName, param) {\r\n        if (this.interactionMap[interactionName] && this.interactionMap[interactionName].isEnable) {\r\n            this.interactionMap[interactionName].trigger(param);\r\n        }\r\n    }\r\n    /**\r\n     * 手动响应交互事件\r\n     * @param interactionName\r\n     * @param param\r\n     */\r\n    handler(interactionName, param) {\r\n        // 正在更新视图时或者交互模块不存在时不执行\r\n        if (this.engine.isViewUpdating() === false && this.interactionMap[interactionName] && this.interactionMap[interactionName].isEnable) {\r\n            let value = this.interactionMap[interactionName].handler(param);\r\n            if (value === false || value === undefined) {\r\n                return;\r\n            }\r\n            this.engine.updateElement(Array.isArray(value) ? value : [], false);\r\n        }\r\n    }\r\n    /**\r\n     * 手动结束交互事件\r\n     * @param interactionName\r\n     * @param param\r\n     */\r\n    finish(interactionName, param) {\r\n        if (this.interactionMap[interactionName] && this.interactionMap[interactionName].isEnable) {\r\n            this.interactionMap[interactionName].finish(param);\r\n        }\r\n    }\r\n}\r\nexports.InteractionModel = InteractionModel;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9JbnRlcmFjdGlvbi9pbnRlcmFjdGlvbk1vZGVsLmpzPzY2ZTEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RCxlQUFlLG1CQUFPLENBQUMsRUFBUTtBQUMvQixlQUFlLG1CQUFPLENBQUMsRUFBUTtBQUMvQixlQUFlLG1CQUFPLENBQUMsRUFBUTtBQUMvQixnQkFBZ0IsbUJBQU8sQ0FBQyxFQUFTO0FBQ2pDLGVBQWUsbUJBQU8sQ0FBQyxFQUFRO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjI5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3Qgem9vbV8xID0gcmVxdWlyZShcIi4vem9vbVwiKTtcclxuY29uc3QgbW92ZV8xID0gcmVxdWlyZShcIi4vbW92ZVwiKTtcclxuY29uc3QgZHJhZ18xID0gcmVxdWlyZShcIi4vZHJhZ1wiKTtcclxuY29uc3QgZm9jdXNfMSA9IHJlcXVpcmUoXCIuL2ZvY3VzXCIpO1xyXG5jb25zdCB6b25lXzEgPSByZXF1aXJlKFwiLi96b25lXCIpO1xyXG4vKipcclxuICog5Lqk5LqS566h55CG5ZmoXHJcbiAqL1xyXG5jbGFzcyBJbnRlcmFjdGlvbk1vZGVsIHtcclxuICAgIGNvbnN0cnVjdG9yKGVuZ2luZSkge1xyXG4gICAgICAgIC8vIOS7juS6pOS6kumFjee9rumhueaYoOWwhOiHs+S6pOS6kuaooeWdl+eahOihqFxyXG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25Db25zdHJ1Y3Rvck1hcCA9IHtcclxuICAgICAgICAgICAgem9vbVZpZXc6IHpvb21fMS5ab29tLFxyXG4gICAgICAgICAgICBtb3ZlVmlldzogbW92ZV8xLk1vdmUsXHJcbiAgICAgICAgICAgIGRyYWc6IGRyYWdfMS5EcmFnLFxyXG4gICAgICAgICAgICBmb2N1czogZm9jdXNfMS5Gb2N1cyxcclxuICAgICAgICAgICAgZnJhbWVTZWxlY3Q6IHpvbmVfMS5ab25lXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmludGVyYWN0aW9uTWFwID0ge307XHJcbiAgICAgICAgdGhpcy5kYXRhU3RvcmUgPSB7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudHM6IG51bGxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZW5naW5lID0gZW5naW5lO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDlvIDlkK/kuqTkupLmqKHlnZdcclxuICAgICAqIEBwYXJhbSBpbnRlcmFjdGlvbk9wdGlvblxyXG4gICAgICovXHJcbiAgICBhcHBseUludGVyYWN0aW9ucyhpbnRlcmFjdGlvbk9wdGlvbikge1xyXG4gICAgICAgIE9iamVjdC5rZXlzKGludGVyYWN0aW9uT3B0aW9uKS5tYXAoa2V5ID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaW50ZXJhY3Rpb25NYXBba2V5XSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWludGVyYWN0aW9uT3B0aW9uW2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgaW50ZXJhY3Rpb25Db25zdHJ1Y3RvciA9IHRoaXMuaW50ZXJhY3Rpb25Db25zdHJ1Y3Rvck1hcFtrZXldO1xyXG4gICAgICAgICAgICAgICAgLy8g5aaC5p6c5qC55pys5rKh5pyJ5ZCN5a2X5Li6IFtrZXldIOeahOi/meS4quS6pOS6kue7hOS7tu+8jOi3s+i/h1xyXG4gICAgICAgICAgICAgICAgaWYgKGludGVyYWN0aW9uQ29uc3RydWN0b3IgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxldCBpbnRlcmFjdGlvbiA9IG5ldyBpbnRlcmFjdGlvbkNvbnN0cnVjdG9yKGtleSwgdGhpcywgdGhpcy5lbmdpbmUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbk1hcFtrZXldID0gaW50ZXJhY3Rpb247XHJcbiAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbi5zZXRPcHRpb25WYWwoaW50ZXJhY3Rpb25PcHRpb25ba2V5XSk7XHJcbiAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbi5pbml0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uTWFwW2tleV0uc2V0T3B0aW9uVmFsKGludGVyYWN0aW9uT3B0aW9uW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbk1hcFtrZXldLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgLy8g5YC855u05o6l5Li6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICBpZiAoIWludGVyYWN0aW9uT3B0aW9uW2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uTWFwW2tleV0udG9nZ2xlRW5hYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25NYXBba2V5XS50b2dnbGVFbmFibGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog6I635Y+W5Lqk5LqS5qih5Z2XXHJcbiAgICAgKiBAcGFyYW0gaW50ZXJhY3Rpb25OYW1lXHJcbiAgICAgKi9cclxuICAgIGdldEludGVyYWN0aW9uKGludGVyYWN0aW9uTmFtZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmludGVyYWN0aW9uTWFwW2ludGVyYWN0aW9uTmFtZV07XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOaJi+WKqOinpuWPkeS6pOS6kuS6i+S7tlxyXG4gICAgICogQHBhcmFtIGludGVyYWN0aW9uTmFtZVxyXG4gICAgICogQHBhcmFtIHBhcmFtXHJcbiAgICAgKi9cclxuICAgIHRyaWdnZXIoaW50ZXJhY3Rpb25OYW1lLCBwYXJhbSkge1xyXG4gICAgICAgIGlmICh0aGlzLmludGVyYWN0aW9uTWFwW2ludGVyYWN0aW9uTmFtZV0gJiYgdGhpcy5pbnRlcmFjdGlvbk1hcFtpbnRlcmFjdGlvbk5hbWVdLmlzRW5hYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25NYXBbaW50ZXJhY3Rpb25OYW1lXS50cmlnZ2VyKHBhcmFtKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOaJi+WKqOWTjeW6lOS6pOS6kuS6i+S7tlxyXG4gICAgICogQHBhcmFtIGludGVyYWN0aW9uTmFtZVxyXG4gICAgICogQHBhcmFtIHBhcmFtXHJcbiAgICAgKi9cclxuICAgIGhhbmRsZXIoaW50ZXJhY3Rpb25OYW1lLCBwYXJhbSkge1xyXG4gICAgICAgIC8vIOato+WcqOabtOaWsOinhuWbvuaXtuaIluiAheS6pOS6kuaooeWdl+S4jeWtmOWcqOaXtuS4jeaJp+ihjFxyXG4gICAgICAgIGlmICh0aGlzLmVuZ2luZS5pc1ZpZXdVcGRhdGluZygpID09PSBmYWxzZSAmJiB0aGlzLmludGVyYWN0aW9uTWFwW2ludGVyYWN0aW9uTmFtZV0gJiYgdGhpcy5pbnRlcmFjdGlvbk1hcFtpbnRlcmFjdGlvbk5hbWVdLmlzRW5hYmxlKSB7XHJcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuaW50ZXJhY3Rpb25NYXBbaW50ZXJhY3Rpb25OYW1lXS5oYW5kbGVyKHBhcmFtKTtcclxuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBmYWxzZSB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5lbmdpbmUudXBkYXRlRWxlbWVudChBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW10sIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOaJi+WKqOe7k+adn+S6pOS6kuS6i+S7tlxyXG4gICAgICogQHBhcmFtIGludGVyYWN0aW9uTmFtZVxyXG4gICAgICogQHBhcmFtIHBhcmFtXHJcbiAgICAgKi9cclxuICAgIGZpbmlzaChpbnRlcmFjdGlvbk5hbWUsIHBhcmFtKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW50ZXJhY3Rpb25NYXBbaW50ZXJhY3Rpb25OYW1lXSAmJiB0aGlzLmludGVyYWN0aW9uTWFwW2ludGVyYWN0aW9uTmFtZV0uaXNFbmFibGUpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbk1hcFtpbnRlcmFjdGlvbk5hbWVdLmZpbmlzaChwYXJhbSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuSW50ZXJhY3Rpb25Nb2RlbCA9IEludGVyYWN0aW9uTW9kZWw7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///29\n')},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst interaction_1 = __webpack_require__(7);\r\nconst util_1 = __webpack_require__(0);\r\nclass Zoom extends interaction_1.Interaction {\r\n    constructor() {\r\n        super(...arguments);\r\n        // 一次滚轮缩放值\r\n        this.zoomDelta = 0.25;\r\n        // 最大缩放值\r\n        this.maxZoomValue = 4;\r\n        // 最小缩放值\r\n        this.minZoomValue = 0.25;\r\n    }\r\n    init() {\r\n        let zoomRange = this.optionValue, container = this.renderer.getContainer();\r\n        // 自定义缩放限制值\r\n        if (Array.isArray(zoomRange)) {\r\n            this.clampZoomRange(zoomRange);\r\n        }\r\n        container.addEventListener('mousewheel', wheelEvent => this.emitTrigger(wheelEvent));\r\n    }\r\n    update() {\r\n        let zoomRange = this.optionValue;\r\n        // 自定义缩放限制值\r\n        if (Array.isArray(zoomRange)) {\r\n            this.clampZoomRange(zoomRange);\r\n        }\r\n    }\r\n    handler(wheelDelta) {\r\n        if (this.getData('moving'))\r\n            return;\r\n        let globalShape = this.renderer.getGlobalShape(), [scaleX, scaleY] = globalShape.getScale();\r\n        scaleX += wheelDelta * this.zoomDelta;\r\n        scaleY += wheelDelta * this.zoomDelta;\r\n        // 限制缩放大小在 [0.25, 4]\r\n        scaleX = util_1.Util.clamp(scaleX, this.maxZoomValue, this.minZoomValue);\r\n        scaleY = util_1.Util.clamp(scaleY, this.maxZoomValue, this.minZoomValue);\r\n        globalShape.scale(scaleX, scaleY);\r\n        return true;\r\n    }\r\n    /**\r\n     * 鼠标滚轮事件\r\n     * @param event\r\n     */\r\n    trigger(event) {\r\n        this.emitHandler(event['wheelDelta'] > 0 ? 1 : -1);\r\n    }\r\n    /**\r\n     * 限制缩放值\r\n     * @param zoomRange\r\n     */\r\n    clampZoomRange(zoomRange) {\r\n        this.minZoomValue = zoomRange[0];\r\n        this.maxZoomValue = zoomRange[1];\r\n        this.minZoomValue = util_1.Util.clamp(this.minZoomValue, 0, Infinity);\r\n        this.maxZoomValue = util_1.Util.clamp(this.maxZoomValue, 0, Infinity);\r\n    }\r\n}\r\nexports.Zoom = Zoom;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9JbnRlcmFjdGlvbi96b29tLmpzPzdkYzMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RCxzQkFBc0IsbUJBQU8sQ0FBQyxDQUFlO0FBQzdDLGVBQWUsbUJBQU8sQ0FBQyxDQUFnQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjMwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgaW50ZXJhY3Rpb25fMSA9IHJlcXVpcmUoXCIuL2ludGVyYWN0aW9uXCIpO1xyXG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi4vQ29tbW9uL3V0aWxcIik7XHJcbmNsYXNzIFpvb20gZXh0ZW5kcyBpbnRlcmFjdGlvbl8xLkludGVyYWN0aW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgLy8g5LiA5qyh5rua6L2u57yp5pS+5YC8XHJcbiAgICAgICAgdGhpcy56b29tRGVsdGEgPSAwLjI1O1xyXG4gICAgICAgIC8vIOacgOWkp+e8qeaUvuWAvFxyXG4gICAgICAgIHRoaXMubWF4Wm9vbVZhbHVlID0gNDtcclxuICAgICAgICAvLyDmnIDlsI/nvKnmlL7lgLxcclxuICAgICAgICB0aGlzLm1pblpvb21WYWx1ZSA9IDAuMjU7XHJcbiAgICB9XHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIGxldCB6b29tUmFuZ2UgPSB0aGlzLm9wdGlvblZhbHVlLCBjb250YWluZXIgPSB0aGlzLnJlbmRlcmVyLmdldENvbnRhaW5lcigpO1xyXG4gICAgICAgIC8vIOiHquWumuS5iee8qeaUvumZkOWItuWAvFxyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHpvb21SYW5nZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5jbGFtcFpvb21SYW5nZSh6b29tUmFuZ2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V3aGVlbCcsIHdoZWVsRXZlbnQgPT4gdGhpcy5lbWl0VHJpZ2dlcih3aGVlbEV2ZW50KSk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgbGV0IHpvb21SYW5nZSA9IHRoaXMub3B0aW9uVmFsdWU7XHJcbiAgICAgICAgLy8g6Ieq5a6a5LmJ57yp5pS+6ZmQ5Yi25YC8XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoem9vbVJhbmdlKSkge1xyXG4gICAgICAgICAgICB0aGlzLmNsYW1wWm9vbVJhbmdlKHpvb21SYW5nZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaGFuZGxlcih3aGVlbERlbHRhKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0RGF0YSgnbW92aW5nJykpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBsZXQgZ2xvYmFsU2hhcGUgPSB0aGlzLnJlbmRlcmVyLmdldEdsb2JhbFNoYXBlKCksIFtzY2FsZVgsIHNjYWxlWV0gPSBnbG9iYWxTaGFwZS5nZXRTY2FsZSgpO1xyXG4gICAgICAgIHNjYWxlWCArPSB3aGVlbERlbHRhICogdGhpcy56b29tRGVsdGE7XHJcbiAgICAgICAgc2NhbGVZICs9IHdoZWVsRGVsdGEgKiB0aGlzLnpvb21EZWx0YTtcclxuICAgICAgICAvLyDpmZDliLbnvKnmlL7lpKflsI/lnKggWzAuMjUsIDRdXHJcbiAgICAgICAgc2NhbGVYID0gdXRpbF8xLlV0aWwuY2xhbXAoc2NhbGVYLCB0aGlzLm1heFpvb21WYWx1ZSwgdGhpcy5taW5ab29tVmFsdWUpO1xyXG4gICAgICAgIHNjYWxlWSA9IHV0aWxfMS5VdGlsLmNsYW1wKHNjYWxlWSwgdGhpcy5tYXhab29tVmFsdWUsIHRoaXMubWluWm9vbVZhbHVlKTtcclxuICAgICAgICBnbG9iYWxTaGFwZS5zY2FsZShzY2FsZVgsIHNjYWxlWSk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOm8oOagh+a7mui9ruS6i+S7tlxyXG4gICAgICogQHBhcmFtIGV2ZW50XHJcbiAgICAgKi9cclxuICAgIHRyaWdnZXIoZXZlbnQpIHtcclxuICAgICAgICB0aGlzLmVtaXRIYW5kbGVyKGV2ZW50Wyd3aGVlbERlbHRhJ10gPiAwID8gMSA6IC0xKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog6ZmQ5Yi257yp5pS+5YC8XHJcbiAgICAgKiBAcGFyYW0gem9vbVJhbmdlXHJcbiAgICAgKi9cclxuICAgIGNsYW1wWm9vbVJhbmdlKHpvb21SYW5nZSkge1xyXG4gICAgICAgIHRoaXMubWluWm9vbVZhbHVlID0gem9vbVJhbmdlWzBdO1xyXG4gICAgICAgIHRoaXMubWF4Wm9vbVZhbHVlID0gem9vbVJhbmdlWzFdO1xyXG4gICAgICAgIHRoaXMubWluWm9vbVZhbHVlID0gdXRpbF8xLlV0aWwuY2xhbXAodGhpcy5taW5ab29tVmFsdWUsIDAsIEluZmluaXR5KTtcclxuICAgICAgICB0aGlzLm1heFpvb21WYWx1ZSA9IHV0aWxfMS5VdGlsLmNsYW1wKHRoaXMubWF4Wm9vbVZhbHVlLCAwLCBJbmZpbml0eSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5ab29tID0gWm9vbTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///30\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst interaction_1 = __webpack_require__(7);\r\nclass Move extends interaction_1.Interaction {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.enableMove = false;\r\n    }\r\n    init() {\r\n        this.container = this.renderer.getContainer();\r\n        this.container.addEventListener('mousedown', mouseEvent => this.emitTrigger(mouseEvent));\r\n        this.container.addEventListener('mousemove', mouseEvent => this.emitHandler(mouseEvent));\r\n        this.container.addEventListener('mouseup', () => this.emitFinish());\r\n        this.container.addEventListener('mouseleave', () => this.emitFinish());\r\n    }\r\n    trigger(event) {\r\n        this.globalShape = this.renderer.getGlobalShape();\r\n        this.curX = event.clientX;\r\n        this.curY = event.clientY;\r\n        this.enableMove = true;\r\n        this.setData('moving', true);\r\n    }\r\n    handler(event) {\r\n        if (this.enableMove === false) {\r\n            return;\r\n        }\r\n        let x = event.clientX, y = event.clientY, dx = x - this.curX, dy = y - this.curY;\r\n        this.curX = x;\r\n        this.curY = y;\r\n        this.globalShape.translate(dx, dy);\r\n        return true;\r\n    }\r\n    finish() {\r\n        if (this.enableMove) {\r\n            this.enableMove = false;\r\n            this.setData('moving', false);\r\n        }\r\n    }\r\n    triggerCondition() {\r\n        // 若进入了结点拖拽或者选取模式，不进行视图拖拽\r\n        return !this.getData('dragging') && !this.getData('enableFrameSelect');\r\n    }\r\n}\r\nexports.Move = Move;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9JbnRlcmFjdGlvbi9tb3ZlLmpzPzA1ZGMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RCxzQkFBc0IsbUJBQU8sQ0FBQyxDQUFlO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMzEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBpbnRlcmFjdGlvbl8xID0gcmVxdWlyZShcIi4vaW50ZXJhY3Rpb25cIik7XHJcbmNsYXNzIE1vdmUgZXh0ZW5kcyBpbnRlcmFjdGlvbl8xLkludGVyYWN0aW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgdGhpcy5lbmFibGVNb3ZlID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gdGhpcy5yZW5kZXJlci5nZXRDb250YWluZXIoKTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBtb3VzZUV2ZW50ID0+IHRoaXMuZW1pdFRyaWdnZXIobW91c2VFdmVudCkpO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG1vdXNlRXZlbnQgPT4gdGhpcy5lbWl0SGFuZGxlcihtb3VzZUV2ZW50KSk7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsICgpID0+IHRoaXMuZW1pdEZpbmlzaCgpKTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4gdGhpcy5lbWl0RmluaXNoKCkpO1xyXG4gICAgfVxyXG4gICAgdHJpZ2dlcihldmVudCkge1xyXG4gICAgICAgIHRoaXMuZ2xvYmFsU2hhcGUgPSB0aGlzLnJlbmRlcmVyLmdldEdsb2JhbFNoYXBlKCk7XHJcbiAgICAgICAgdGhpcy5jdXJYID0gZXZlbnQuY2xpZW50WDtcclxuICAgICAgICB0aGlzLmN1clkgPSBldmVudC5jbGllbnRZO1xyXG4gICAgICAgIHRoaXMuZW5hYmxlTW92ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zZXREYXRhKCdtb3ZpbmcnLCB0cnVlKTtcclxuICAgIH1cclxuICAgIGhhbmRsZXIoZXZlbnQpIHtcclxuICAgICAgICBpZiAodGhpcy5lbmFibGVNb3ZlID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB4ID0gZXZlbnQuY2xpZW50WCwgeSA9IGV2ZW50LmNsaWVudFksIGR4ID0geCAtIHRoaXMuY3VyWCwgZHkgPSB5IC0gdGhpcy5jdXJZO1xyXG4gICAgICAgIHRoaXMuY3VyWCA9IHg7XHJcbiAgICAgICAgdGhpcy5jdXJZID0geTtcclxuICAgICAgICB0aGlzLmdsb2JhbFNoYXBlLnRyYW5zbGF0ZShkeCwgZHkpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgZmluaXNoKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmVuYWJsZU1vdmUpIHtcclxuICAgICAgICAgICAgdGhpcy5lbmFibGVNb3ZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0RGF0YSgnbW92aW5nJywgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHRyaWdnZXJDb25kaXRpb24oKSB7XHJcbiAgICAgICAgLy8g6Iul6L+b5YWl5LqG57uT54K55ouW5ou95oiW6ICF6YCJ5Y+W5qih5byP77yM5LiN6L+b6KGM6KeG5Zu+5ouW5ou9XHJcbiAgICAgICAgcmV0dXJuICF0aGlzLmdldERhdGEoJ2RyYWdnaW5nJykgJiYgIXRoaXMuZ2V0RGF0YSgnZW5hYmxlRnJhbWVTZWxlY3QnKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLk1vdmUgPSBNb3ZlO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///31\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst interaction_1 = __webpack_require__(7);\r\nclass Drag extends interaction_1.Interaction {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.draggableShapes = {};\r\n        this.curDraggableShapes = [];\r\n    }\r\n    /**\r\n     * 处理图形的 drag 事件\r\n     * - 因为 zrender 的 drag 无法获取坐标，因此不能用内置的 drag，需要自己造\r\n     * - 又因为 zrender 图形可以响应普通鼠标事件（click，onmousemove， onmousedown 等），因此可以 contain 函数对图形模拟 drag\r\n     * @param draggableList\r\n     */\r\n    init() {\r\n        let container = this.renderer.getContainer();\r\n        this.zr.on('mousedown', mouseEvent => this.emitTrigger(mouseEvent));\r\n        container.addEventListener('mousemove', mouseEvent => {\r\n            let x = mouseEvent.offsetX, y = mouseEvent.offsetY;\r\n            this.emitHandler({ x, y });\r\n        });\r\n        this.zr.on('mouseup', () => this.emitFinish());\r\n        this.globalShape = this.renderer.getGlobalShape();\r\n    }\r\n    trigger(event) {\r\n        let x = event.offsetX, y = event.offsetY, draggableList = this.optionValue, selectedElements = this.getData('selectedElements'), targetElements = [];\r\n        if (selectedElements) {\r\n            targetElements = Array.isArray(draggableList) ? selectedElements.filter(item => {\r\n                return draggableList.find(name => name === item.name);\r\n            }) : selectedElements;\r\n        }\r\n        else {\r\n            let targetShape = event.topTarget, element = targetShape ? targetShape.svShape.element : null;\r\n            // 没有选中任何图形，退出\r\n            if (targetShape === null || targetShape === undefined || element === null) {\r\n                return;\r\n            }\r\n            // 若选中的图形的 element 不是设定的可拖拽 element，退出\r\n            if (Array.isArray(draggableList) && draggableList.find(name => name === element.name) === undefined) {\r\n                return;\r\n            }\r\n            targetElements = [element];\r\n        }\r\n        targetElements.forEach(item => {\r\n            if (this.draggableShapes[item.elementId] === undefined) {\r\n                this.draggableShapes[item.elementId] = {\r\n                    lastX: 0,\r\n                    lastY: 0,\r\n                    element: null\r\n                };\r\n            }\r\n            this.draggableShapes[item.elementId].lastX = x;\r\n            this.draggableShapes[item.elementId].lastY = y;\r\n            this.draggableShapes[item.elementId].element = item;\r\n            this.curDraggableShapes.push(this.draggableShapes[item.elementId]);\r\n        });\r\n        this.setData('dragging', true);\r\n    }\r\n    handler(event) {\r\n        if (!this.getData('dragging')) {\r\n            return;\r\n        }\r\n        let x = event.x, y = event.y, scale = this.globalShape.getScale();\r\n        for (let i = 0; i < this.curDraggableShapes.length; i++) {\r\n            let cur = this.curDraggableShapes[i], dx = x - cur.lastX, dy = y - cur.lastY, ele = cur.element;\r\n            ele.x += dx / scale[0];\r\n            ele.y += dy / scale[1];\r\n            cur.lastX = x;\r\n            cur.lastY = y;\r\n        }\r\n        return this.curDraggableShapes.map(item => item.element);\r\n    }\r\n    finish() {\r\n        this.curDraggableShapes.length = 0;\r\n        this.setData('dragging', false);\r\n    }\r\n    triggerCondition() {\r\n        return !this.getData('enableFrameSelect');\r\n    }\r\n    /**\r\n     * 获取可以拖拽的 zrender 图形\r\n     * @param elementList\r\n     */\r\n    getDraggableZrenderShape(elementList, optionValue) {\r\n        let elements = [];\r\n        if (optionValue === true) {\r\n            elements = elementList;\r\n        }\r\n        else {\r\n            elementList.forEach(item => {\r\n                if (optionValue.find(name => name === item.name)) {\r\n                    elements.push(item);\r\n                }\r\n            });\r\n        }\r\n        return elements.map(item => item.shape.zrenderShape);\r\n    }\r\n}\r\nexports.Drag = Drag;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9JbnRlcmFjdGlvbi9kcmFnLmpzPzMzOGIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RCxzQkFBc0IsbUJBQU8sQ0FBQyxDQUFlO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsT0FBTztBQUNyQyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixvQ0FBb0M7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjMyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgaW50ZXJhY3Rpb25fMSA9IHJlcXVpcmUoXCIuL2ludGVyYWN0aW9uXCIpO1xyXG5jbGFzcyBEcmFnIGV4dGVuZHMgaW50ZXJhY3Rpb25fMS5JbnRlcmFjdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIHRoaXMuZHJhZ2dhYmxlU2hhcGVzID0ge307XHJcbiAgICAgICAgdGhpcy5jdXJEcmFnZ2FibGVTaGFwZXMgPSBbXTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5aSE55CG5Zu+5b2i55qEIGRyYWcg5LqL5Lu2XHJcbiAgICAgKiAtIOWboOS4uiB6cmVuZGVyIOeahCBkcmFnIOaXoOazleiOt+WPluWdkOagh++8jOWboOatpOS4jeiDveeUqOWGhee9rueahCBkcmFn77yM6ZyA6KaB6Ieq5bex6YCgXHJcbiAgICAgKiAtIOWPiOWboOS4uiB6cmVuZGVyIOWbvuW9ouWPr+S7peWTjeW6lOaZrumAmum8oOagh+S6i+S7tu+8iGNsaWNr77yMb25tb3VzZW1vdmXvvIwgb25tb3VzZWRvd24g562J77yJ77yM5Zug5q2k5Y+v5LulIGNvbnRhaW4g5Ye95pWw5a+55Zu+5b2i5qih5oufIGRyYWdcclxuICAgICAqIEBwYXJhbSBkcmFnZ2FibGVMaXN0XHJcbiAgICAgKi9cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgbGV0IGNvbnRhaW5lciA9IHRoaXMucmVuZGVyZXIuZ2V0Q29udGFpbmVyKCk7XHJcbiAgICAgICAgdGhpcy56ci5vbignbW91c2Vkb3duJywgbW91c2VFdmVudCA9PiB0aGlzLmVtaXRUcmlnZ2VyKG1vdXNlRXZlbnQpKTtcclxuICAgICAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgbW91c2VFdmVudCA9PiB7XHJcbiAgICAgICAgICAgIGxldCB4ID0gbW91c2VFdmVudC5vZmZzZXRYLCB5ID0gbW91c2VFdmVudC5vZmZzZXRZO1xyXG4gICAgICAgICAgICB0aGlzLmVtaXRIYW5kbGVyKHsgeCwgeSB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnpyLm9uKCdtb3VzZXVwJywgKCkgPT4gdGhpcy5lbWl0RmluaXNoKCkpO1xyXG4gICAgICAgIHRoaXMuZ2xvYmFsU2hhcGUgPSB0aGlzLnJlbmRlcmVyLmdldEdsb2JhbFNoYXBlKCk7XHJcbiAgICB9XHJcbiAgICB0cmlnZ2VyKGV2ZW50KSB7XHJcbiAgICAgICAgbGV0IHggPSBldmVudC5vZmZzZXRYLCB5ID0gZXZlbnQub2Zmc2V0WSwgZHJhZ2dhYmxlTGlzdCA9IHRoaXMub3B0aW9uVmFsdWUsIHNlbGVjdGVkRWxlbWVudHMgPSB0aGlzLmdldERhdGEoJ3NlbGVjdGVkRWxlbWVudHMnKSwgdGFyZ2V0RWxlbWVudHMgPSBbXTtcclxuICAgICAgICBpZiAoc2VsZWN0ZWRFbGVtZW50cykge1xyXG4gICAgICAgICAgICB0YXJnZXRFbGVtZW50cyA9IEFycmF5LmlzQXJyYXkoZHJhZ2dhYmxlTGlzdCkgPyBzZWxlY3RlZEVsZW1lbnRzLmZpbHRlcihpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkcmFnZ2FibGVMaXN0LmZpbmQobmFtZSA9PiBuYW1lID09PSBpdGVtLm5hbWUpO1xyXG4gICAgICAgICAgICB9KSA6IHNlbGVjdGVkRWxlbWVudHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgdGFyZ2V0U2hhcGUgPSBldmVudC50b3BUYXJnZXQsIGVsZW1lbnQgPSB0YXJnZXRTaGFwZSA/IHRhcmdldFNoYXBlLnN2U2hhcGUuZWxlbWVudCA6IG51bGw7XHJcbiAgICAgICAgICAgIC8vIOayoeaciemAieS4reS7u+S9leWbvuW9ou+8jOmAgOWHulxyXG4gICAgICAgICAgICBpZiAodGFyZ2V0U2hhcGUgPT09IG51bGwgfHwgdGFyZ2V0U2hhcGUgPT09IHVuZGVmaW5lZCB8fCBlbGVtZW50ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8g6Iul6YCJ5Lit55qE5Zu+5b2i55qEIGVsZW1lbnQg5LiN5piv6K6+5a6a55qE5Y+v5ouW5ou9IGVsZW1lbnTvvIzpgIDlh7pcclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZHJhZ2dhYmxlTGlzdCkgJiYgZHJhZ2dhYmxlTGlzdC5maW5kKG5hbWUgPT4gbmFtZSA9PT0gZWxlbWVudC5uYW1lKSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGFyZ2V0RWxlbWVudHMgPSBbZWxlbWVudF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRhcmdldEVsZW1lbnRzLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRyYWdnYWJsZVNoYXBlc1tpdGVtLmVsZW1lbnRJZF0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kcmFnZ2FibGVTaGFwZXNbaXRlbS5lbGVtZW50SWRdID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RYOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RZOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IG51bGxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5kcmFnZ2FibGVTaGFwZXNbaXRlbS5lbGVtZW50SWRdLmxhc3RYID0geDtcclxuICAgICAgICAgICAgdGhpcy5kcmFnZ2FibGVTaGFwZXNbaXRlbS5lbGVtZW50SWRdLmxhc3RZID0geTtcclxuICAgICAgICAgICAgdGhpcy5kcmFnZ2FibGVTaGFwZXNbaXRlbS5lbGVtZW50SWRdLmVsZW1lbnQgPSBpdGVtO1xyXG4gICAgICAgICAgICB0aGlzLmN1ckRyYWdnYWJsZVNoYXBlcy5wdXNoKHRoaXMuZHJhZ2dhYmxlU2hhcGVzW2l0ZW0uZWxlbWVudElkXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zZXREYXRhKCdkcmFnZ2luZycsIHRydWUpO1xyXG4gICAgfVxyXG4gICAgaGFuZGxlcihldmVudCkge1xyXG4gICAgICAgIGlmICghdGhpcy5nZXREYXRhKCdkcmFnZ2luZycpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHggPSBldmVudC54LCB5ID0gZXZlbnQueSwgc2NhbGUgPSB0aGlzLmdsb2JhbFNoYXBlLmdldFNjYWxlKCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmN1ckRyYWdnYWJsZVNoYXBlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgY3VyID0gdGhpcy5jdXJEcmFnZ2FibGVTaGFwZXNbaV0sIGR4ID0geCAtIGN1ci5sYXN0WCwgZHkgPSB5IC0gY3VyLmxhc3RZLCBlbGUgPSBjdXIuZWxlbWVudDtcclxuICAgICAgICAgICAgZWxlLnggKz0gZHggLyBzY2FsZVswXTtcclxuICAgICAgICAgICAgZWxlLnkgKz0gZHkgLyBzY2FsZVsxXTtcclxuICAgICAgICAgICAgY3VyLmxhc3RYID0geDtcclxuICAgICAgICAgICAgY3VyLmxhc3RZID0geTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VyRHJhZ2dhYmxlU2hhcGVzLm1hcChpdGVtID0+IGl0ZW0uZWxlbWVudCk7XHJcbiAgICB9XHJcbiAgICBmaW5pc2goKSB7XHJcbiAgICAgICAgdGhpcy5jdXJEcmFnZ2FibGVTaGFwZXMubGVuZ3RoID0gMDtcclxuICAgICAgICB0aGlzLnNldERhdGEoJ2RyYWdnaW5nJywgZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgdHJpZ2dlckNvbmRpdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gIXRoaXMuZ2V0RGF0YSgnZW5hYmxlRnJhbWVTZWxlY3QnKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog6I635Y+W5Y+v5Lul5ouW5ou955qEIHpyZW5kZXIg5Zu+5b2iXHJcbiAgICAgKiBAcGFyYW0gZWxlbWVudExpc3RcclxuICAgICAqL1xyXG4gICAgZ2V0RHJhZ2dhYmxlWnJlbmRlclNoYXBlKGVsZW1lbnRMaXN0LCBvcHRpb25WYWx1ZSkge1xyXG4gICAgICAgIGxldCBlbGVtZW50cyA9IFtdO1xyXG4gICAgICAgIGlmIChvcHRpb25WYWx1ZSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBlbGVtZW50cyA9IGVsZW1lbnRMaXN0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZWxlbWVudExpc3QuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25WYWx1ZS5maW5kKG5hbWUgPT4gbmFtZSA9PT0gaXRlbS5uYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZWxlbWVudHMubWFwKGl0ZW0gPT4gaXRlbS5zaGFwZS56cmVuZGVyU2hhcGUpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuRHJhZyA9IERyYWc7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///32\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst interaction_1 = __webpack_require__(7);\r\nconst util_1 = __webpack_require__(0);\r\nclass Focus extends interaction_1.Interaction {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.lastFocusElements = [];\r\n        this.curFocusElements = [];\r\n    }\r\n    init() {\r\n        this.zr.on('mousedown', mouseEvent => this.emitTrigger(mouseEvent));\r\n    }\r\n    trigger(event) {\r\n        let selectedElements = this.getData('selectedElements');\r\n        if (selectedElements) {\r\n            this.emitHandler(selectedElements);\r\n        }\r\n        else {\r\n            let targetShape = event.target, targetElement = targetShape ? targetShape.svShape.element : null;\r\n            // 点击空白\r\n            if (targetShape === undefined) {\r\n                if (this.curFocusElements.length === 0) {\r\n                    return;\r\n                }\r\n                this.emitHandler(null);\r\n                return;\r\n            }\r\n            // 点击非结点元素\r\n            if (targetElement === null) {\r\n                return;\r\n            }\r\n            // 若现在点击的 element 已经被选了\r\n            if (this.lastFocusElements.length && this.lastFocusElements.find(item => item.element.elementId === targetElement.elementId)) {\r\n                return;\r\n            }\r\n            this.emitHandler([targetElement]);\r\n        }\r\n    }\r\n    handler(targetElements) {\r\n        let elements = [];\r\n        // 失焦\r\n        if (targetElements === null) {\r\n            elements = this.curFocusElements;\r\n            this.restoreLast(elements);\r\n            this.curFocusElements = [];\r\n            this.lastFocusElements = [];\r\n            return elements.map(item => item.element);\r\n        }\r\n        // 聚焦\r\n        else {\r\n            let updateElements = [];\r\n            if (this.lastFocusElements.length) {\r\n                this.restoreLast(this.lastFocusElements);\r\n                updateElements.push(...this.lastFocusElements);\r\n            }\r\n            this.curFocusElements = [];\r\n            targetElements.forEach(item => {\r\n                let targetStyle = this.optionValue;\r\n                this.curFocusElements.push({\r\n                    element: item,\r\n                    originStyle: JSON.stringify(item.style)\r\n                });\r\n                util_1.Util.merge(item.style, targetStyle);\r\n            });\r\n            this.lastFocusElements = this.curFocusElements;\r\n            updateElements.push(...this.curFocusElements);\r\n            return updateElements.map(item => item.element);\r\n        }\r\n    }\r\n    triggerCondition() {\r\n        return !this.getData('enableFrameSelect');\r\n    }\r\n    /**\r\n     * 将 element 样式重置\r\n     * @param restoreElements\r\n     */\r\n    restoreLast(restoreElements) {\r\n        restoreElements.forEach(item => {\r\n            item.element.style = JSON.parse(item.originStyle);\r\n        });\r\n    }\r\n}\r\nexports.Focus = Focus;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9JbnRlcmFjdGlvbi9mb2N1cy5qcz9lZDljIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQThDLGNBQWM7QUFDNUQsc0JBQXNCLG1CQUFPLENBQUMsQ0FBZTtBQUM3QyxlQUFlLG1CQUFPLENBQUMsQ0FBZ0I7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsImZpbGUiOiIzMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGludGVyYWN0aW9uXzEgPSByZXF1aXJlKFwiLi9pbnRlcmFjdGlvblwiKTtcclxuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcIi4uL0NvbW1vbi91dGlsXCIpO1xyXG5jbGFzcyBGb2N1cyBleHRlbmRzIGludGVyYWN0aW9uXzEuSW50ZXJhY3Rpb24ge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuICAgICAgICB0aGlzLmxhc3RGb2N1c0VsZW1lbnRzID0gW107XHJcbiAgICAgICAgdGhpcy5jdXJGb2N1c0VsZW1lbnRzID0gW107XHJcbiAgICB9XHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMuenIub24oJ21vdXNlZG93bicsIG1vdXNlRXZlbnQgPT4gdGhpcy5lbWl0VHJpZ2dlcihtb3VzZUV2ZW50KSk7XHJcbiAgICB9XHJcbiAgICB0cmlnZ2VyKGV2ZW50KSB7XHJcbiAgICAgICAgbGV0IHNlbGVjdGVkRWxlbWVudHMgPSB0aGlzLmdldERhdGEoJ3NlbGVjdGVkRWxlbWVudHMnKTtcclxuICAgICAgICBpZiAoc2VsZWN0ZWRFbGVtZW50cykge1xyXG4gICAgICAgICAgICB0aGlzLmVtaXRIYW5kbGVyKHNlbGVjdGVkRWxlbWVudHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IHRhcmdldFNoYXBlID0gZXZlbnQudGFyZ2V0LCB0YXJnZXRFbGVtZW50ID0gdGFyZ2V0U2hhcGUgPyB0YXJnZXRTaGFwZS5zdlNoYXBlLmVsZW1lbnQgOiBudWxsO1xyXG4gICAgICAgICAgICAvLyDngrnlh7vnqbrnmb1cclxuICAgICAgICAgICAgaWYgKHRhcmdldFNoYXBlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1ckZvY3VzRWxlbWVudHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0SGFuZGxlcihudWxsKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyDngrnlh7vpnZ7nu5PngrnlhYPntKBcclxuICAgICAgICAgICAgaWYgKHRhcmdldEVsZW1lbnQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyDoi6XnjrDlnKjngrnlh7vnmoQgZWxlbWVudCDlt7Lnu4/ooqvpgInkuoZcclxuICAgICAgICAgICAgaWYgKHRoaXMubGFzdEZvY3VzRWxlbWVudHMubGVuZ3RoICYmIHRoaXMubGFzdEZvY3VzRWxlbWVudHMuZmluZChpdGVtID0+IGl0ZW0uZWxlbWVudC5lbGVtZW50SWQgPT09IHRhcmdldEVsZW1lbnQuZWxlbWVudElkKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdEhhbmRsZXIoW3RhcmdldEVsZW1lbnRdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBoYW5kbGVyKHRhcmdldEVsZW1lbnRzKSB7XHJcbiAgICAgICAgbGV0IGVsZW1lbnRzID0gW107XHJcbiAgICAgICAgLy8g5aSx54SmXHJcbiAgICAgICAgaWYgKHRhcmdldEVsZW1lbnRzID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnRzID0gdGhpcy5jdXJGb2N1c0VsZW1lbnRzO1xyXG4gICAgICAgICAgICB0aGlzLnJlc3RvcmVMYXN0KGVsZW1lbnRzKTtcclxuICAgICAgICAgICAgdGhpcy5jdXJGb2N1c0VsZW1lbnRzID0gW107XHJcbiAgICAgICAgICAgIHRoaXMubGFzdEZvY3VzRWxlbWVudHMgPSBbXTtcclxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRzLm1hcChpdGVtID0+IGl0ZW0uZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOiBmueEplxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgdXBkYXRlRWxlbWVudHMgPSBbXTtcclxuICAgICAgICAgICAgaWYgKHRoaXMubGFzdEZvY3VzRWxlbWVudHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3RvcmVMYXN0KHRoaXMubGFzdEZvY3VzRWxlbWVudHMpO1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlRWxlbWVudHMucHVzaCguLi50aGlzLmxhc3RGb2N1c0VsZW1lbnRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmN1ckZvY3VzRWxlbWVudHMgPSBbXTtcclxuICAgICAgICAgICAgdGFyZ2V0RWxlbWVudHMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCB0YXJnZXRTdHlsZSA9IHRoaXMub3B0aW9uVmFsdWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1ckZvY3VzRWxlbWVudHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogaXRlbSxcclxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5TdHlsZTogSlNPTi5zdHJpbmdpZnkoaXRlbS5zdHlsZSlcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdXRpbF8xLlV0aWwubWVyZ2UoaXRlbS5zdHlsZSwgdGFyZ2V0U3R5bGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5sYXN0Rm9jdXNFbGVtZW50cyA9IHRoaXMuY3VyRm9jdXNFbGVtZW50cztcclxuICAgICAgICAgICAgdXBkYXRlRWxlbWVudHMucHVzaCguLi50aGlzLmN1ckZvY3VzRWxlbWVudHMpO1xyXG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlRWxlbWVudHMubWFwKGl0ZW0gPT4gaXRlbS5lbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB0cmlnZ2VyQ29uZGl0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiAhdGhpcy5nZXREYXRhKCdlbmFibGVGcmFtZVNlbGVjdCcpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDlsIYgZWxlbWVudCDmoLflvI/ph43nva5cclxuICAgICAqIEBwYXJhbSByZXN0b3JlRWxlbWVudHNcclxuICAgICAqL1xyXG4gICAgcmVzdG9yZUxhc3QocmVzdG9yZUVsZW1lbnRzKSB7XHJcbiAgICAgICAgcmVzdG9yZUVsZW1lbnRzLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIGl0ZW0uZWxlbWVudC5zdHlsZSA9IEpTT04ucGFyc2UoaXRlbS5vcmlnaW5TdHlsZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5Gb2N1cyA9IEZvY3VzO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///33\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst interaction_1 = __webpack_require__(7);\r\nconst renderer_1 = __webpack_require__(1);\r\nclass Zone extends interaction_1.Interaction {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.selectRect = null;\r\n        this.finishSizing = false;\r\n        this.frameSelecting = false;\r\n        this.enableMoveRect = false;\r\n    }\r\n    init() {\r\n        let container = this.renderer.getContainer();\r\n        container.addEventListener('mousedown', mouseEvent => this.emitTrigger(mouseEvent));\r\n        container.addEventListener('mousemove', mouseEvent => this.emitHandler(mouseEvent));\r\n        container.addEventListener('mouseup', () => this.emitFinish());\r\n        this.globalShape = this.renderer.getGlobalShape();\r\n        this.selectRect = new renderer_1.Renderer.zrender.Rect({\r\n            position: [0, 0],\r\n            shape: {\r\n                x: 0,\r\n                y: 0,\r\n                width: 0,\r\n                height: 0\r\n            },\r\n            style: this.optionValue,\r\n            z: 2\r\n        });\r\n        this.renderer.getZrender().add(this.selectRect);\r\n        this.selectRect.hide();\r\n        this.setData('enableFrameSelect', true);\r\n    }\r\n    update() {\r\n        if (this.optionValue === false || this.optionValue === undefined) {\r\n            this.restoreSelect();\r\n            this.setData('enableFrameSelect', false);\r\n        }\r\n        else {\r\n            this.setData('enableFrameSelect', true);\r\n        }\r\n    }\r\n    trigger(event) {\r\n        let x = event.offsetX, y = event.offsetY;\r\n        if (this.finishSizing) {\r\n            if (this.selectRect.contain(x, y)) {\r\n                this.lastRectX = x;\r\n                this.lastRectY = y;\r\n                this.enableMoveRect = true;\r\n                this.interactionModel.trigger('drag', { offsetX: x, offsetY: y });\r\n                return;\r\n            }\r\n            else {\r\n                this.restoreSelect();\r\n            }\r\n        }\r\n        this.selectRect.attr('shape', { x, y });\r\n        this.selectRect.attr('style', this.optionValue);\r\n        this.downX = x;\r\n        this.downY = y;\r\n        this.selectRect.show();\r\n        this.frameSelecting = true;\r\n    }\r\n    handler(event) {\r\n        if (!this.frameSelecting) {\r\n            return;\r\n        }\r\n        let x = event.offsetX, y = event.offsetY;\r\n        if (this.finishSizing) {\r\n            this.moveRect(x, y);\r\n        }\r\n        else {\r\n            let width = x - this.downX, height = y - this.downY;\r\n            this.selectRect.attr('shape', {\r\n                width,\r\n                height\r\n            });\r\n        }\r\n        return false;\r\n    }\r\n    finish() {\r\n        if (!this.getData('enableFrameSelect')) {\r\n            return;\r\n        }\r\n        if (this.frameSelecting) {\r\n            if (this.finishSizing === false) {\r\n                let selectedElements = this.calcSelectedElements();\r\n                this.finishSizing = true;\r\n                this.setData('selectedElements', selectedElements);\r\n                this.interactionModel.trigger('focus');\r\n            }\r\n        }\r\n        else {\r\n            this.finishSizing = false;\r\n        }\r\n        if (this.enableMoveRect) {\r\n            this.enableMoveRect = false;\r\n        }\r\n    }\r\n    /**\r\n     * 移动框选矩形\r\n     * @param x\r\n     * @param y\r\n     */\r\n    moveRect(x, y) {\r\n        if (!this.enableMoveRect) {\r\n            return;\r\n        }\r\n        let dx = x - this.lastRectX, dy = y - this.lastRectY, rx = this.selectRect.shape.x, ry = this.selectRect.shape.y;\r\n        this.lastRectX = x;\r\n        this.lastRectY = y;\r\n        this.selectRect.attr('shape', {\r\n            x: rx + dx,\r\n            y: ry + dy\r\n        });\r\n        this.interactionModel.handler('drag', { x, y });\r\n    }\r\n    /**\r\n     * 重置数据\r\n     */\r\n    restoreSelect() {\r\n        this.selectRect.hide();\r\n        this.selectRect.attr('shape', {\r\n            width: 0,\r\n            height: 0\r\n        });\r\n        this.finishSizing = false;\r\n        this.frameSelecting = false;\r\n        this.setData('selectedElements', null);\r\n        this.interactionModel.finish('drag');\r\n    }\r\n    /**\r\n     * 计算被选中的图形\r\n     */\r\n    calcSelectedElements() {\r\n        let { x, y, width, height } = this.selectRect.getBoundingRect();\r\n        this.globalShape.getZrenderShape().updateTransform();\r\n        return this.elementList.filter(item => {\r\n            let zShape = item.shape.zrenderShape, bound = null;\r\n            zShape.updateTransform();\r\n            bound = zShape.getBoundingRect();\r\n            bound.applyTransform(zShape.transform);\r\n            return bound.x >= x && bound.y >= y && bound.x + bound.width <= x + width && bound.y + bound.height <= y + height;\r\n        });\r\n    }\r\n}\r\nexports.Zone = Zone;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9JbnRlcmFjdGlvbi96b25lLmpzPzEzN2EiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RCxzQkFBc0IsbUJBQU8sQ0FBQyxDQUFlO0FBQzdDLG1CQUFtQixtQkFBTyxDQUFDLENBQW9CO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQseUJBQXlCO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxPQUFPO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULCtDQUErQyxPQUFPO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHNCQUFzQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJmaWxlIjoiMzQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBpbnRlcmFjdGlvbl8xID0gcmVxdWlyZShcIi4vaW50ZXJhY3Rpb25cIik7XHJcbmNvbnN0IHJlbmRlcmVyXzEgPSByZXF1aXJlKFwiLi8uLi9WaWV3L3JlbmRlcmVyXCIpO1xyXG5jbGFzcyBab25lIGV4dGVuZHMgaW50ZXJhY3Rpb25fMS5JbnRlcmFjdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0UmVjdCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5maW5pc2hTaXppbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmZyYW1lU2VsZWN0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lbmFibGVNb3ZlUmVjdCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICBsZXQgY29udGFpbmVyID0gdGhpcy5yZW5kZXJlci5nZXRDb250YWluZXIoKTtcclxuICAgICAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgbW91c2VFdmVudCA9PiB0aGlzLmVtaXRUcmlnZ2VyKG1vdXNlRXZlbnQpKTtcclxuICAgICAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgbW91c2VFdmVudCA9PiB0aGlzLmVtaXRIYW5kbGVyKG1vdXNlRXZlbnQpKTtcclxuICAgICAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsICgpID0+IHRoaXMuZW1pdEZpbmlzaCgpKTtcclxuICAgICAgICB0aGlzLmdsb2JhbFNoYXBlID0gdGhpcy5yZW5kZXJlci5nZXRHbG9iYWxTaGFwZSgpO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0UmVjdCA9IG5ldyByZW5kZXJlcl8xLlJlbmRlcmVyLnpyZW5kZXIuUmVjdCh7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBbMCwgMF0sXHJcbiAgICAgICAgICAgIHNoYXBlOiB7XHJcbiAgICAgICAgICAgICAgICB4OiAwLFxyXG4gICAgICAgICAgICAgICAgeTogMCxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAwLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAwXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN0eWxlOiB0aGlzLm9wdGlvblZhbHVlLFxyXG4gICAgICAgICAgICB6OiAyXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5nZXRacmVuZGVyKCkuYWRkKHRoaXMuc2VsZWN0UmVjdCk7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RSZWN0LmhpZGUoKTtcclxuICAgICAgICB0aGlzLnNldERhdGEoJ2VuYWJsZUZyYW1lU2VsZWN0JywgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9uVmFsdWUgPT09IGZhbHNlIHx8IHRoaXMub3B0aW9uVmFsdWUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLnJlc3RvcmVTZWxlY3QoKTtcclxuICAgICAgICAgICAgdGhpcy5zZXREYXRhKCdlbmFibGVGcmFtZVNlbGVjdCcsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0RGF0YSgnZW5hYmxlRnJhbWVTZWxlY3QnLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB0cmlnZ2VyKGV2ZW50KSB7XHJcbiAgICAgICAgbGV0IHggPSBldmVudC5vZmZzZXRYLCB5ID0gZXZlbnQub2Zmc2V0WTtcclxuICAgICAgICBpZiAodGhpcy5maW5pc2hTaXppbmcpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0UmVjdC5jb250YWluKHgsIHkpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RSZWN0WCA9IHg7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RSZWN0WSA9IHk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuYWJsZU1vdmVSZWN0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25Nb2RlbC50cmlnZ2VyKCdkcmFnJywgeyBvZmZzZXRYOiB4LCBvZmZzZXRZOiB5IH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXN0b3JlU2VsZWN0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZWxlY3RSZWN0LmF0dHIoJ3NoYXBlJywgeyB4LCB5IH0pO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0UmVjdC5hdHRyKCdzdHlsZScsIHRoaXMub3B0aW9uVmFsdWUpO1xyXG4gICAgICAgIHRoaXMuZG93blggPSB4O1xyXG4gICAgICAgIHRoaXMuZG93blkgPSB5O1xyXG4gICAgICAgIHRoaXMuc2VsZWN0UmVjdC5zaG93KCk7XHJcbiAgICAgICAgdGhpcy5mcmFtZVNlbGVjdGluZyA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBoYW5kbGVyKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmZyYW1lU2VsZWN0aW5nKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHggPSBldmVudC5vZmZzZXRYLCB5ID0gZXZlbnQub2Zmc2V0WTtcclxuICAgICAgICBpZiAodGhpcy5maW5pc2hTaXppbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlUmVjdCh4LCB5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCB3aWR0aCA9IHggLSB0aGlzLmRvd25YLCBoZWlnaHQgPSB5IC0gdGhpcy5kb3duWTtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RSZWN0LmF0dHIoJ3NoYXBlJywge1xyXG4gICAgICAgICAgICAgICAgd2lkdGgsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHRcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGZpbmlzaCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZ2V0RGF0YSgnZW5hYmxlRnJhbWVTZWxlY3QnKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmZyYW1lU2VsZWN0aW5nKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmZpbmlzaFNpemluZyA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGxldCBzZWxlY3RlZEVsZW1lbnRzID0gdGhpcy5jYWxjU2VsZWN0ZWRFbGVtZW50cygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5maW5pc2hTaXppbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXREYXRhKCdzZWxlY3RlZEVsZW1lbnRzJywgc2VsZWN0ZWRFbGVtZW50cyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uTW9kZWwudHJpZ2dlcignZm9jdXMnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5maW5pc2hTaXppbmcgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlTW92ZVJlY3QpIHtcclxuICAgICAgICAgICAgdGhpcy5lbmFibGVNb3ZlUmVjdCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog56e75Yqo5qGG6YCJ55+p5b2iXHJcbiAgICAgKiBAcGFyYW0geFxyXG4gICAgICogQHBhcmFtIHlcclxuICAgICAqL1xyXG4gICAgbW92ZVJlY3QoeCwgeSkge1xyXG4gICAgICAgIGlmICghdGhpcy5lbmFibGVNb3ZlUmVjdCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBkeCA9IHggLSB0aGlzLmxhc3RSZWN0WCwgZHkgPSB5IC0gdGhpcy5sYXN0UmVjdFksIHJ4ID0gdGhpcy5zZWxlY3RSZWN0LnNoYXBlLngsIHJ5ID0gdGhpcy5zZWxlY3RSZWN0LnNoYXBlLnk7XHJcbiAgICAgICAgdGhpcy5sYXN0UmVjdFggPSB4O1xyXG4gICAgICAgIHRoaXMubGFzdFJlY3RZID0geTtcclxuICAgICAgICB0aGlzLnNlbGVjdFJlY3QuYXR0cignc2hhcGUnLCB7XHJcbiAgICAgICAgICAgIHg6IHJ4ICsgZHgsXHJcbiAgICAgICAgICAgIHk6IHJ5ICsgZHlcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmludGVyYWN0aW9uTW9kZWwuaGFuZGxlcignZHJhZycsIHsgeCwgeSB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog6YeN572u5pWw5o2uXHJcbiAgICAgKi9cclxuICAgIHJlc3RvcmVTZWxlY3QoKSB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RSZWN0LmhpZGUoKTtcclxuICAgICAgICB0aGlzLnNlbGVjdFJlY3QuYXR0cignc2hhcGUnLCB7XHJcbiAgICAgICAgICAgIHdpZHRoOiAwLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmZpbmlzaFNpemluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZnJhbWVTZWxlY3RpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNldERhdGEoJ3NlbGVjdGVkRWxlbWVudHMnLCBudWxsKTtcclxuICAgICAgICB0aGlzLmludGVyYWN0aW9uTW9kZWwuZmluaXNoKCdkcmFnJyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOiuoeeul+iiq+mAieS4reeahOWbvuW9olxyXG4gICAgICovXHJcbiAgICBjYWxjU2VsZWN0ZWRFbGVtZW50cygpIHtcclxuICAgICAgICBsZXQgeyB4LCB5LCB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNlbGVjdFJlY3QuZ2V0Qm91bmRpbmdSZWN0KCk7XHJcbiAgICAgICAgdGhpcy5nbG9iYWxTaGFwZS5nZXRacmVuZGVyU2hhcGUoKS51cGRhdGVUcmFuc2Zvcm0oKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50TGlzdC5maWx0ZXIoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIGxldCB6U2hhcGUgPSBpdGVtLnNoYXBlLnpyZW5kZXJTaGFwZSwgYm91bmQgPSBudWxsO1xyXG4gICAgICAgICAgICB6U2hhcGUudXBkYXRlVHJhbnNmb3JtKCk7XHJcbiAgICAgICAgICAgIGJvdW5kID0gelNoYXBlLmdldEJvdW5kaW5nUmVjdCgpO1xyXG4gICAgICAgICAgICBib3VuZC5hcHBseVRyYW5zZm9ybSh6U2hhcGUudHJhbnNmb3JtKTtcclxuICAgICAgICAgICAgcmV0dXJuIGJvdW5kLnggPj0geCAmJiBib3VuZC55ID49IHkgJiYgYm91bmQueCArIGJvdW5kLndpZHRoIDw9IHggKyB3aWR0aCAmJiBib3VuZC55ICsgYm91bmQuaGVpZ2h0IDw9IHkgKyBoZWlnaHQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5ab25lID0gWm9uZTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///34\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst element_1 = __webpack_require__(36);\r\n// 默认配置项\r\nexports.BTOptions = {\r\n    struct: {\r\n        element: element_1.BTNode,\r\n        link: ['child'],\r\n        pointer: ['external']\r\n    },\r\n    view: {\r\n        element: {\r\n            shape: 'dualNode',\r\n            size: [80, 40],\r\n            content: '[id]',\r\n            style: {\r\n                stroke: '#000',\r\n                fill: '#9EB2A1'\r\n            }\r\n        },\r\n        link: {\r\n            child: {\r\n                markers: ['circle', 'arrow'],\r\n                contact: [[3, 0], [1, 0]]\r\n            }\r\n        },\r\n        layout: {\r\n            xInterval: 40,\r\n            yInterval: 30,\r\n            secondaryLinkColor: '#ff2e63',\r\n        },\r\n        animation: {\r\n            duration: 1000\r\n        }\r\n    },\r\n    interact: {\r\n        //zoomView: true,\r\n        //drag: true,\r\n        focus: { fill: 'red' },\r\n    }\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQmluYXJ5VHJlZS9vcHRpb24udHM/ODUxZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE4QyxjQUFjO0FBQzVELGtCQUFrQixtQkFBTyxDQUFDLEVBQVc7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsY0FBYztBQUM5QjtBQUNBIiwiZmlsZSI6IjM1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgZWxlbWVudF8xID0gcmVxdWlyZShcIi4vZWxlbWVudFwiKTtcclxuLy8g6buY6K6k6YWN572u6aG5XHJcbmV4cG9ydHMuQlRPcHRpb25zID0ge1xyXG4gICAgc3RydWN0OiB7XHJcbiAgICAgICAgZWxlbWVudDogZWxlbWVudF8xLkJUTm9kZSxcclxuICAgICAgICBsaW5rOiBbJ2NoaWxkJ10sXHJcbiAgICAgICAgcG9pbnRlcjogWydleHRlcm5hbCddXHJcbiAgICB9LFxyXG4gICAgdmlldzoge1xyXG4gICAgICAgIGVsZW1lbnQ6IHtcclxuICAgICAgICAgICAgc2hhcGU6ICdkdWFsTm9kZScsXHJcbiAgICAgICAgICAgIHNpemU6IFs4MCwgNDBdLFxyXG4gICAgICAgICAgICBjb250ZW50OiAnW2lkXScsXHJcbiAgICAgICAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICBzdHJva2U6ICcjMDAwJyxcclxuICAgICAgICAgICAgICAgIGZpbGw6ICcjOUVCMkExJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBsaW5rOiB7XHJcbiAgICAgICAgICAgIGNoaWxkOiB7XHJcbiAgICAgICAgICAgICAgICBtYXJrZXJzOiBbJ2NpcmNsZScsICdhcnJvdyddLFxyXG4gICAgICAgICAgICAgICAgY29udGFjdDogW1szLCAwXSwgWzEsIDBdXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBsYXlvdXQ6IHtcclxuICAgICAgICAgICAgeEludGVydmFsOiA0MCxcclxuICAgICAgICAgICAgeUludGVydmFsOiAzMCxcclxuICAgICAgICAgICAgc2Vjb25kYXJ5TGlua0NvbG9yOiAnI2ZmMmU2MycsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBhbmltYXRpb246IHtcclxuICAgICAgICAgICAgZHVyYXRpb246IDEwMDBcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgaW50ZXJhY3Q6IHtcclxuICAgICAgICAvL3pvb21WaWV3OiB0cnVlLFxyXG4gICAgICAgIC8vZHJhZzogdHJ1ZSxcclxuICAgICAgICBmb2N1czogeyBmaWxsOiAncmVkJyB9LFxyXG4gICAgfVxyXG59O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///35\n")},function(module,exports,__webpack_require__){"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nconst element_1 = __webpack_require__(6);\r\n/**\r\n * 二叉树结点\r\n */\r\nclass BTNode extends element_1.Element {\r\n    constructor() {\r\n        super(...arguments);\r\n        // 主双亲\r\n        this.parent = null;\r\n        // 次双亲列表\r\n        this.secondaryParents = null;\r\n        // 入度\r\n        this.inDegree = 0;\r\n        // 出度\r\n        this.outDegree = 0;\r\n        // 子树元素组\r\n        this.subTreeGroup = null;\r\n    }\r\n    onLinkTo(targetNode, link) {\r\n        if (link.index === 0) {\r\n            this.style.leftFieldEmpty = false;\r\n        }\r\n        else {\r\n            this.style.rightFieldEmpty = false;\r\n        }\r\n        // 若子节点已经有主双亲，则该节点成为子节点得次双亲\r\n        if (targetNode.parent && targetNode.parent.id !== this.id) {\r\n            targetNode.secondaryParents = this;\r\n            link.style.fill = this.layoutOption.secondaryLinkColor;\r\n        }\r\n        // 否则成为主双亲\r\n        else {\r\n            targetNode.parent = this;\r\n        }\r\n        this.outDegree++;\r\n        targetNode.inDegree++;\r\n    }\r\n    onUnlinkTo() { }\r\n}\r\nexports.BTNode = BTNode;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQmluYXJ5VHJlZS9lbGVtZW50LnRzPzY4YzEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RCxrQkFBa0IsbUJBQU8sQ0FBQyxDQUEwQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQSIsImZpbGUiOiIzNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGVsZW1lbnRfMSA9IHJlcXVpcmUoXCIuLi9TdHJ1Y3RWL01vZGVsL2VsZW1lbnRcIik7XHJcbi8qKlxyXG4gKiDkuozlj4nmoJHnu5PngrlcclxuICovXHJcbmNsYXNzIEJUTm9kZSBleHRlbmRzIGVsZW1lbnRfMS5FbGVtZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgLy8g5Li75Y+M5LqyXHJcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xyXG4gICAgICAgIC8vIOasoeWPjOS6suWIl+ihqFxyXG4gICAgICAgIHRoaXMuc2Vjb25kYXJ5UGFyZW50cyA9IG51bGw7XHJcbiAgICAgICAgLy8g5YWl5bqmXHJcbiAgICAgICAgdGhpcy5pbkRlZ3JlZSA9IDA7XHJcbiAgICAgICAgLy8g5Ye65bqmXHJcbiAgICAgICAgdGhpcy5vdXREZWdyZWUgPSAwO1xyXG4gICAgICAgIC8vIOWtkOagkeWFg+e0oOe7hFxyXG4gICAgICAgIHRoaXMuc3ViVHJlZUdyb3VwID0gbnVsbDtcclxuICAgIH1cclxuICAgIG9uTGlua1RvKHRhcmdldE5vZGUsIGxpbmspIHtcclxuICAgICAgICBpZiAobGluay5pbmRleCA9PT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnN0eWxlLmxlZnRGaWVsZEVtcHR5ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnN0eWxlLnJpZ2h0RmllbGRFbXB0eSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDoi6XlrZDoioLngrnlt7Lnu4/mnInkuLvlj4zkurLvvIzliJnor6XoioLngrnmiJDkuLrlrZDoioLngrnlvpfmrKHlj4zkurJcclxuICAgICAgICBpZiAodGFyZ2V0Tm9kZS5wYXJlbnQgJiYgdGFyZ2V0Tm9kZS5wYXJlbnQuaWQgIT09IHRoaXMuaWQpIHtcclxuICAgICAgICAgICAgdGFyZ2V0Tm9kZS5zZWNvbmRhcnlQYXJlbnRzID0gdGhpcztcclxuICAgICAgICAgICAgbGluay5zdHlsZS5maWxsID0gdGhpcy5sYXlvdXRPcHRpb24uc2Vjb25kYXJ5TGlua0NvbG9yO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDlkKbliJnmiJDkuLrkuLvlj4zkurJcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGFyZ2V0Tm9kZS5wYXJlbnQgPSB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm91dERlZ3JlZSsrO1xyXG4gICAgICAgIHRhcmdldE5vZGUuaW5EZWdyZWUrKztcclxuICAgIH1cclxuICAgIG9uVW5saW5rVG8oKSB7IH1cclxufVxyXG5leHBvcnRzLkJUTm9kZSA9IEJUTm9kZTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///36\n')},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst engine_1 = __webpack_require__(8);\r\nconst util_1 = __webpack_require__(0);\r\nconst composite_1 = __webpack_require__(5);\r\nconst element_1 = __webpack_require__(6);\r\nconst circle_1 = __webpack_require__(13);\r\nconst isogon_1 = __webpack_require__(12);\r\nconst polyLine_1 = __webpack_require__(10);\r\nconst rect_1 = __webpack_require__(11);\r\nconst text_1 = __webpack_require__(9);\r\nconst boundingRect_1 = __webpack_require__(3);\r\nconst arrow_1 = __webpack_require__(38);\r\nconst line_1 = __webpack_require__(39);\r\nconst node_1 = __webpack_require__(40);\r\nconst dualNode_1 = __webpack_require__(41);\r\nconst curve_1 = __webpack_require__(14);\r\nconst vector_1 = __webpack_require__(4);\r\n// 注册图形\r\nengine_1.RegisterShape(composite_1.Composite, 'composite');\r\nengine_1.RegisterShape(circle_1.Circle, 'circle');\r\nengine_1.RegisterShape(isogon_1.Isogon, 'isogon');\r\nengine_1.RegisterShape(polyLine_1.PolyLine, 'polyLine');\r\nengine_1.RegisterShape(rect_1.Rect, 'rect');\r\nengine_1.RegisterShape(text_1.Text, 'text');\r\nengine_1.RegisterShape(arrow_1.Arrow, 'arrow');\r\nengine_1.RegisterShape(curve_1.Curve, 'curve');\r\nengine_1.RegisterShape(line_1.Line, 'line');\r\nengine_1.RegisterShape(node_1.Node, 'node');\r\nengine_1.RegisterShape(dualNode_1.DualNode, 'dualNode');\r\nexports.SV = {\r\n    Engine: engine_1.Engine,\r\n    Util: util_1.Util,\r\n    Bound: boundingRect_1.Bound,\r\n    Vector: vector_1.Vector,\r\n    // Element\r\n    Element: element_1.Element,\r\n    // Shape\r\n    Composite: composite_1.Composite,\r\n    // register\r\n    registerShape: engine_1.RegisterShape,\r\n    /**\r\n     * 创建一个可视化引擎\r\n     * @param container\r\n     * @param engineConstruct\r\n     * @param opt\r\n     */\r\n    create(container, engineConstruct, opt) {\r\n        engineConstruct['id'] = util_1.Util.generateId();\r\n        let engine = new engineConstruct(container);\r\n        if (opt) {\r\n            engine.applyOptions(opt, false);\r\n        }\r\n        return engine;\r\n    }\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9TdHJ1Y3RWLmpzP2IzMjciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RCxpQkFBaUIsbUJBQU8sQ0FBQyxDQUFVO0FBQ25DLGVBQWUsbUJBQU8sQ0FBQyxDQUFlO0FBQ3RDLG9CQUFvQixtQkFBTyxDQUFDLENBQW9CO0FBQ2hELGtCQUFrQixtQkFBTyxDQUFDLENBQWlCO0FBQzNDLGlCQUFpQixtQkFBTyxDQUFDLEVBQWlCO0FBQzFDLGlCQUFpQixtQkFBTyxDQUFDLEVBQWlCO0FBQzFDLG1CQUFtQixtQkFBTyxDQUFDLEVBQW1CO0FBQzlDLGVBQWUsbUJBQU8sQ0FBQyxFQUFlO0FBQ3RDLGVBQWUsbUJBQU8sQ0FBQyxDQUFlO0FBQ3RDLHVCQUF1QixtQkFBTyxDQUFDLENBQXFCO0FBQ3BELGdCQUFnQixtQkFBTyxDQUFDLEVBQWdCO0FBQ3hDLGVBQWUsbUJBQU8sQ0FBQyxFQUF1QjtBQUM5QyxlQUFlLG1CQUFPLENBQUMsRUFBdUI7QUFDOUMsbUJBQW1CLG1CQUFPLENBQUMsRUFBMkI7QUFDdEQsZ0JBQWdCLG1CQUFPLENBQUMsRUFBZ0I7QUFDeEMsaUJBQWlCLG1CQUFPLENBQUMsQ0FBaUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIzNy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGVuZ2luZV8xID0gcmVxdWlyZShcIi4vZW5naW5lXCIpO1xyXG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi9Db21tb24vdXRpbFwiKTtcclxuY29uc3QgY29tcG9zaXRlXzEgPSByZXF1aXJlKFwiLi9TaGFwZXMvY29tcG9zaXRlXCIpO1xyXG5jb25zdCBlbGVtZW50XzEgPSByZXF1aXJlKFwiLi9Nb2RlbC9lbGVtZW50XCIpO1xyXG5jb25zdCBjaXJjbGVfMSA9IHJlcXVpcmUoXCIuL1NoYXBlcy9jaXJjbGVcIik7XHJcbmNvbnN0IGlzb2dvbl8xID0gcmVxdWlyZShcIi4vU2hhcGVzL2lzb2dvblwiKTtcclxuY29uc3QgcG9seUxpbmVfMSA9IHJlcXVpcmUoXCIuL1NoYXBlcy9wb2x5TGluZVwiKTtcclxuY29uc3QgcmVjdF8xID0gcmVxdWlyZShcIi4vU2hhcGVzL3JlY3RcIik7XHJcbmNvbnN0IHRleHRfMSA9IHJlcXVpcmUoXCIuL1NoYXBlcy90ZXh0XCIpO1xyXG5jb25zdCBib3VuZGluZ1JlY3RfMSA9IHJlcXVpcmUoXCIuL1ZpZXcvYm91bmRpbmdSZWN0XCIpO1xyXG5jb25zdCBhcnJvd18xID0gcmVxdWlyZShcIi4vU2hhcGVzL2Fycm93XCIpO1xyXG5jb25zdCBsaW5lXzEgPSByZXF1aXJlKFwiLi9TcGVjaWZpY1NoYXBlcy9saW5lXCIpO1xyXG5jb25zdCBub2RlXzEgPSByZXF1aXJlKFwiLi9TcGVjaWZpY1NoYXBlcy9ub2RlXCIpO1xyXG5jb25zdCBkdWFsTm9kZV8xID0gcmVxdWlyZShcIi4vU3BlY2lmaWNTaGFwZXMvZHVhbE5vZGVcIik7XHJcbmNvbnN0IGN1cnZlXzEgPSByZXF1aXJlKFwiLi9TaGFwZXMvY3VydmVcIik7XHJcbmNvbnN0IHZlY3Rvcl8xID0gcmVxdWlyZShcIi4vQ29tbW9uL3ZlY3RvclwiKTtcclxuLy8g5rOo5YaM5Zu+5b2iXHJcbmVuZ2luZV8xLlJlZ2lzdGVyU2hhcGUoY29tcG9zaXRlXzEuQ29tcG9zaXRlLCAnY29tcG9zaXRlJyk7XHJcbmVuZ2luZV8xLlJlZ2lzdGVyU2hhcGUoY2lyY2xlXzEuQ2lyY2xlLCAnY2lyY2xlJyk7XHJcbmVuZ2luZV8xLlJlZ2lzdGVyU2hhcGUoaXNvZ29uXzEuSXNvZ29uLCAnaXNvZ29uJyk7XHJcbmVuZ2luZV8xLlJlZ2lzdGVyU2hhcGUocG9seUxpbmVfMS5Qb2x5TGluZSwgJ3BvbHlMaW5lJyk7XHJcbmVuZ2luZV8xLlJlZ2lzdGVyU2hhcGUocmVjdF8xLlJlY3QsICdyZWN0Jyk7XHJcbmVuZ2luZV8xLlJlZ2lzdGVyU2hhcGUodGV4dF8xLlRleHQsICd0ZXh0Jyk7XHJcbmVuZ2luZV8xLlJlZ2lzdGVyU2hhcGUoYXJyb3dfMS5BcnJvdywgJ2Fycm93Jyk7XHJcbmVuZ2luZV8xLlJlZ2lzdGVyU2hhcGUoY3VydmVfMS5DdXJ2ZSwgJ2N1cnZlJyk7XHJcbmVuZ2luZV8xLlJlZ2lzdGVyU2hhcGUobGluZV8xLkxpbmUsICdsaW5lJyk7XHJcbmVuZ2luZV8xLlJlZ2lzdGVyU2hhcGUobm9kZV8xLk5vZGUsICdub2RlJyk7XHJcbmVuZ2luZV8xLlJlZ2lzdGVyU2hhcGUoZHVhbE5vZGVfMS5EdWFsTm9kZSwgJ2R1YWxOb2RlJyk7XHJcbmV4cG9ydHMuU1YgPSB7XHJcbiAgICBFbmdpbmU6IGVuZ2luZV8xLkVuZ2luZSxcclxuICAgIFV0aWw6IHV0aWxfMS5VdGlsLFxyXG4gICAgQm91bmQ6IGJvdW5kaW5nUmVjdF8xLkJvdW5kLFxyXG4gICAgVmVjdG9yOiB2ZWN0b3JfMS5WZWN0b3IsXHJcbiAgICAvLyBFbGVtZW50XHJcbiAgICBFbGVtZW50OiBlbGVtZW50XzEuRWxlbWVudCxcclxuICAgIC8vIFNoYXBlXHJcbiAgICBDb21wb3NpdGU6IGNvbXBvc2l0ZV8xLkNvbXBvc2l0ZSxcclxuICAgIC8vIHJlZ2lzdGVyXHJcbiAgICByZWdpc3RlclNoYXBlOiBlbmdpbmVfMS5SZWdpc3RlclNoYXBlLFxyXG4gICAgLyoqXHJcbiAgICAgKiDliJvlu7rkuIDkuKrlj6/op4bljJblvJXmk45cclxuICAgICAqIEBwYXJhbSBjb250YWluZXJcclxuICAgICAqIEBwYXJhbSBlbmdpbmVDb25zdHJ1Y3RcclxuICAgICAqIEBwYXJhbSBvcHRcclxuICAgICAqL1xyXG4gICAgY3JlYXRlKGNvbnRhaW5lciwgZW5naW5lQ29uc3RydWN0LCBvcHQpIHtcclxuICAgICAgICBlbmdpbmVDb25zdHJ1Y3RbJ2lkJ10gPSB1dGlsXzEuVXRpbC5nZW5lcmF0ZUlkKCk7XHJcbiAgICAgICAgbGV0IGVuZ2luZSA9IG5ldyBlbmdpbmVDb25zdHJ1Y3QoY29udGFpbmVyKTtcclxuICAgICAgICBpZiAob3B0KSB7XHJcbiAgICAgICAgICAgIGVuZ2luZS5hcHBseU9wdGlvbnMob3B0LCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlbmdpbmU7XHJcbiAgICB9XHJcbn07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///37\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst shape_1 = __webpack_require__(2);\r\nconst renderer_1 = __webpack_require__(1);\r\n/**\r\n * zrender Arrow shape\r\n */\r\nlet ZrenderArrow = renderer_1.Renderer.zrender.Path.extend({\r\n    type: 'arrow',\r\n    shape: {\r\n        x: 0,\r\n        y: 0,\r\n        width: 0,\r\n        height: 0\r\n    },\r\n    buildPath: function (ctx, shape) {\r\n        var height = shape.height;\r\n        var width = shape.width;\r\n        var x = shape.x;\r\n        var y = shape.y;\r\n        var dx = width / 3 * 2;\r\n        ctx.moveTo(x, y);\r\n        ctx.lineTo(x + dx, y + height);\r\n        ctx.lineTo(x, y + height / 4 * 3);\r\n        ctx.lineTo(x - dx, y + height);\r\n        ctx.lineTo(x, y);\r\n        ctx.closePath();\r\n    }\r\n});\r\nclass Arrow extends shape_1.Shape {\r\n    constructor(id, name, opt) {\r\n        super(id, name, opt);\r\n    }\r\n    createZrenderShape() {\r\n        let zrenderShape = new ZrenderArrow({\r\n            position: [this.x, this.y],\r\n            rotation: this.rotation,\r\n            shape: {\r\n                x: 0,\r\n                y: -this.height / 2,\r\n                width: this.width,\r\n                height: this.height\r\n            },\r\n            style: this.style\r\n        });\r\n        return zrenderShape;\r\n    }\r\n}\r\nexports.Arrow = Arrow;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9TaGFwZXMvYXJyb3cuanM/NjY3MCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE4QyxjQUFjO0FBQzVELGdCQUFnQixtQkFBTyxDQUFDLENBQVM7QUFDakMsbUJBQW1CLG1CQUFPLENBQUMsQ0FBa0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMzguanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBzaGFwZV8xID0gcmVxdWlyZShcIi4vc2hhcGVcIik7XHJcbmNvbnN0IHJlbmRlcmVyXzEgPSByZXF1aXJlKFwiLi4vVmlldy9yZW5kZXJlclwiKTtcclxuLyoqXHJcbiAqIHpyZW5kZXIgQXJyb3cgc2hhcGVcclxuICovXHJcbmxldCBacmVuZGVyQXJyb3cgPSByZW5kZXJlcl8xLlJlbmRlcmVyLnpyZW5kZXIuUGF0aC5leHRlbmQoe1xyXG4gICAgdHlwZTogJ2Fycm93JyxcclxuICAgIHNoYXBlOiB7XHJcbiAgICAgICAgeDogMCxcclxuICAgICAgICB5OiAwLFxyXG4gICAgICAgIHdpZHRoOiAwLFxyXG4gICAgICAgIGhlaWdodDogMFxyXG4gICAgfSxcclxuICAgIGJ1aWxkUGF0aDogZnVuY3Rpb24gKGN0eCwgc2hhcGUpIHtcclxuICAgICAgICB2YXIgaGVpZ2h0ID0gc2hhcGUuaGVpZ2h0O1xyXG4gICAgICAgIHZhciB3aWR0aCA9IHNoYXBlLndpZHRoO1xyXG4gICAgICAgIHZhciB4ID0gc2hhcGUueDtcclxuICAgICAgICB2YXIgeSA9IHNoYXBlLnk7XHJcbiAgICAgICAgdmFyIGR4ID0gd2lkdGggLyAzICogMjtcclxuICAgICAgICBjdHgubW92ZVRvKHgsIHkpO1xyXG4gICAgICAgIGN0eC5saW5lVG8oeCArIGR4LCB5ICsgaGVpZ2h0KTtcclxuICAgICAgICBjdHgubGluZVRvKHgsIHkgKyBoZWlnaHQgLyA0ICogMyk7XHJcbiAgICAgICAgY3R4LmxpbmVUbyh4IC0gZHgsIHkgKyBoZWlnaHQpO1xyXG4gICAgICAgIGN0eC5saW5lVG8oeCwgeSk7XHJcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xyXG4gICAgfVxyXG59KTtcclxuY2xhc3MgQXJyb3cgZXh0ZW5kcyBzaGFwZV8xLlNoYXBlIHtcclxuICAgIGNvbnN0cnVjdG9yKGlkLCBuYW1lLCBvcHQpIHtcclxuICAgICAgICBzdXBlcihpZCwgbmFtZSwgb3B0KTtcclxuICAgIH1cclxuICAgIGNyZWF0ZVpyZW5kZXJTaGFwZSgpIHtcclxuICAgICAgICBsZXQgenJlbmRlclNoYXBlID0gbmV3IFpyZW5kZXJBcnJvdyh7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBbdGhpcy54LCB0aGlzLnldLFxyXG4gICAgICAgICAgICByb3RhdGlvbjogdGhpcy5yb3RhdGlvbixcclxuICAgICAgICAgICAgc2hhcGU6IHtcclxuICAgICAgICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICAgICAgICB5OiAtdGhpcy5oZWlnaHQgLyAyLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN0eWxlOiB0aGlzLnN0eWxlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHpyZW5kZXJTaGFwZTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLkFycm93ID0gQXJyb3c7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///38\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst composite_1 = __webpack_require__(5);\r\nconst util_1 = __webpack_require__(0);\r\nconst curve_1 = __webpack_require__(14);\r\n/**\r\n * 线段\r\n */\r\nclass Line extends composite_1.Composite {\r\n    constructor(id, name, opt) {\r\n        super(id, name, opt);\r\n        this.start = { x: 0, y: 0 };\r\n        this.end = { x: 0, y: 0 };\r\n        let fromMarker, toMarker;\r\n        // 添加marker\r\n        if (this.option.markers) {\r\n            // 若只配置了结尾marker\r\n            if (typeof this.option.markers === 'string') {\r\n                toMarker = this.option.markers;\r\n            }\r\n            // 配置了两端marker\r\n            else {\r\n                fromMarker = this.option.markers[0];\r\n                toMarker = this.option.markers[1];\r\n            }\r\n        }\r\n        this.addSubShape({\r\n            line: {\r\n                shapeName: this.option.curveness ? 'curve' : 'polyLine',\r\n                init: (option, style) => ({\r\n                    style: {\r\n                        stroke: style.fill,\r\n                        fill: null\r\n                    }\r\n                }),\r\n                draw: (parent, line) => {\r\n                    let start = parent.start, end = parent.end;\r\n                    line.path = [[start.x, start.y], [end.x, end.y]];\r\n                    if (line instanceof curve_1.Curve) {\r\n                        line.controlPoint = line.calcControlPoint(start, end);\r\n                    }\r\n                }\r\n            },\r\n            fromMarker: fromMarker ? {\r\n                shapeName: fromMarker,\r\n                init: () => ({\r\n                    zIndex: 2\r\n                }),\r\n                draw: (parent, marker) => {\r\n                    let start = parent.start;\r\n                    marker.x = start.x;\r\n                    marker.y = start.y;\r\n                    marker.rotation = parent.tangentAt(0) + Math.PI;\r\n                    marker.width = parent.getSubShape('line').style.lineWidth + 5;\r\n                    marker.height = marker.width;\r\n                }\r\n            } : null,\r\n            toMarker: toMarker ? {\r\n                shapeName: toMarker,\r\n                init: () => ({\r\n                    zIndex: 2\r\n                }),\r\n                draw: (parent, marker) => {\r\n                    let end = parent.end;\r\n                    marker.x = end.x;\r\n                    marker.y = end.y;\r\n                    marker.rotation = parent.tangentAt(1);\r\n                    marker.width = parent.getSubShape('line').style.lineWidth + 5;\r\n                    marker.height = marker.width;\r\n                }\r\n            } : null\r\n        });\r\n    }\r\n    defaultOption(baseOption) {\r\n        return Object.assign({}, baseOption, { \r\n            // 曲率\r\n            curveness: 0, \r\n            // 线段两端图案\r\n            markers: '', zIndex: 0 });\r\n    }\r\n    defaultStyle(baseStyle) {\r\n        return Object.assign({}, baseStyle, { \r\n            // 线段平缓程度\r\n            smooth: 0, \r\n            // 虚线样式\r\n            lineDash: null });\r\n        ;\r\n    }\r\n    /**\r\n     * 求在线段某个位置的坐标点\r\n     * @param percent\r\n     */\r\n    pointAt(percent) {\r\n        let line = this.getSubShape('line'), startX = this.start.x, startY = this.start.y, endX = this.end.x, endY = this.end.y;\r\n        if (line.name === 'polyLine') {\r\n            return [\r\n                startX * (1 - percent) + endX * percent,\r\n                startY * (1 - percent) + endY * percent\r\n            ];\r\n        }\r\n        // 线段为二次贝塞尔\r\n        if (line.name === 'curve') {\r\n            let [cpx, cpy] = line.calcControlPoint(this.start, this.end);\r\n            return [\r\n                (1 - percent) * ((1 - percent) * startX + 2 * percent * cpx) + Math.pow(percent, 2) * endX,\r\n                (1 - percent) * ((1 - percent) * startY + 2 * percent * cpy) + Math.pow(percent, 2) * endY\r\n            ];\r\n        }\r\n    }\r\n    /**\r\n     * 获取线段在某个位置的斜率\r\n     * @param percent\r\n     */\r\n    tangentAt(percent) {\r\n        let line = this.getSubShape('line'), startX = this.start.x, startY = this.start.y, endX = this.end.x, endY = this.end.y;\r\n        // 若线段为直线\r\n        if (line.name === 'polyLine') {\r\n            if (endX === startX) {\r\n                return startY < endY ? Math.PI : -Math.PI;\r\n            }\r\n            else {\r\n                let k = Math.atan((endY - startY) / (endX - startX));\r\n                return -k + util_1.Util.sign(startX - endX) * 0.5 * Math.PI;\r\n            }\r\n        }\r\n        // 线段为二次贝塞尔\r\n        if (line.name === 'curve') {\r\n            let [cpx, cpy] = line.calcControlPoint(this.start, this.end), derivativeX = 2 * ((1 - percent) * (cpx - startX) + percent * (endX - cpx)), derivativeY = 2 * ((1 - percent) * (cpy - startY) + percent * (endY - cpy));\r\n            return Math.PI * 1.5 - Math.atan2(derivativeY, derivativeX);\r\n        }\r\n    }\r\n}\r\nexports.Line = Line;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9TcGVjaWZpY1NoYXBlcy9saW5lLmpzPzQ4NDQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RCxvQkFBb0IsbUJBQU8sQ0FBQyxDQUFxQjtBQUNqRCxlQUFlLG1CQUFPLENBQUMsQ0FBZ0I7QUFDdkMsZ0JBQWdCLG1CQUFPLENBQUMsRUFBaUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EsK0JBQStCLGU7QUFDL0I7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQSwrQkFBK0IsYztBQUMvQjtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIzOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGNvbXBvc2l0ZV8xID0gcmVxdWlyZShcIi4uL1NoYXBlcy9jb21wb3NpdGVcIik7XHJcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuLi9Db21tb24vdXRpbFwiKTtcclxuY29uc3QgY3VydmVfMSA9IHJlcXVpcmUoXCIuLi9TaGFwZXMvY3VydmVcIik7XHJcbi8qKlxyXG4gKiDnur/mrrVcclxuICovXHJcbmNsYXNzIExpbmUgZXh0ZW5kcyBjb21wb3NpdGVfMS5Db21wb3NpdGUge1xyXG4gICAgY29uc3RydWN0b3IoaWQsIG5hbWUsIG9wdCkge1xyXG4gICAgICAgIHN1cGVyKGlkLCBuYW1lLCBvcHQpO1xyXG4gICAgICAgIHRoaXMuc3RhcnQgPSB7IHg6IDAsIHk6IDAgfTtcclxuICAgICAgICB0aGlzLmVuZCA9IHsgeDogMCwgeTogMCB9O1xyXG4gICAgICAgIGxldCBmcm9tTWFya2VyLCB0b01hcmtlcjtcclxuICAgICAgICAvLyDmt7vliqBtYXJrZXJcclxuICAgICAgICBpZiAodGhpcy5vcHRpb24ubWFya2Vycykge1xyXG4gICAgICAgICAgICAvLyDoi6Xlj6rphY3nva7kuobnu5PlsL5tYXJrZXJcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbi5tYXJrZXJzID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgdG9NYXJrZXIgPSB0aGlzLm9wdGlvbi5tYXJrZXJzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIOmFjee9ruS6huS4pOerr21hcmtlclxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZyb21NYXJrZXIgPSB0aGlzLm9wdGlvbi5tYXJrZXJzWzBdO1xyXG4gICAgICAgICAgICAgICAgdG9NYXJrZXIgPSB0aGlzLm9wdGlvbi5tYXJrZXJzWzFdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYWRkU3ViU2hhcGUoe1xyXG4gICAgICAgICAgICBsaW5lOiB7XHJcbiAgICAgICAgICAgICAgICBzaGFwZU5hbWU6IHRoaXMub3B0aW9uLmN1cnZlbmVzcyA/ICdjdXJ2ZScgOiAncG9seUxpbmUnLFxyXG4gICAgICAgICAgICAgICAgaW5pdDogKG9wdGlvbiwgc3R5bGUpID0+ICh7XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlOiBzdHlsZS5maWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsOiBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICBkcmF3OiAocGFyZW50LCBsaW5lKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXJ0ID0gcGFyZW50LnN0YXJ0LCBlbmQgPSBwYXJlbnQuZW5kO1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmUucGF0aCA9IFtbc3RhcnQueCwgc3RhcnQueV0sIFtlbmQueCwgZW5kLnldXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobGluZSBpbnN0YW5jZW9mIGN1cnZlXzEuQ3VydmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZS5jb250cm9sUG9pbnQgPSBsaW5lLmNhbGNDb250cm9sUG9pbnQoc3RhcnQsIGVuZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmcm9tTWFya2VyOiBmcm9tTWFya2VyID8ge1xyXG4gICAgICAgICAgICAgICAgc2hhcGVOYW1lOiBmcm9tTWFya2VyLFxyXG4gICAgICAgICAgICAgICAgaW5pdDogKCkgPT4gKHtcclxuICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IDJcclxuICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgZHJhdzogKHBhcmVudCwgbWFya2VyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXJ0ID0gcGFyZW50LnN0YXJ0O1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlci54ID0gc3RhcnQueDtcclxuICAgICAgICAgICAgICAgICAgICBtYXJrZXIueSA9IHN0YXJ0Lnk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyLnJvdGF0aW9uID0gcGFyZW50LnRhbmdlbnRBdCgwKSArIE1hdGguUEk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyLndpZHRoID0gcGFyZW50LmdldFN1YlNoYXBlKCdsaW5lJykuc3R5bGUubGluZVdpZHRoICsgNTtcclxuICAgICAgICAgICAgICAgICAgICBtYXJrZXIuaGVpZ2h0ID0gbWFya2VyLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IDogbnVsbCxcclxuICAgICAgICAgICAgdG9NYXJrZXI6IHRvTWFya2VyID8ge1xyXG4gICAgICAgICAgICAgICAgc2hhcGVOYW1lOiB0b01hcmtlcixcclxuICAgICAgICAgICAgICAgIGluaXQ6ICgpID0+ICh7XHJcbiAgICAgICAgICAgICAgICAgICAgekluZGV4OiAyXHJcbiAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgIGRyYXc6IChwYXJlbnQsIG1hcmtlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBlbmQgPSBwYXJlbnQuZW5kO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlci54ID0gZW5kLng7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyLnkgPSBlbmQueTtcclxuICAgICAgICAgICAgICAgICAgICBtYXJrZXIucm90YXRpb24gPSBwYXJlbnQudGFuZ2VudEF0KDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlci53aWR0aCA9IHBhcmVudC5nZXRTdWJTaGFwZSgnbGluZScpLnN0eWxlLmxpbmVXaWR0aCArIDU7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyLmhlaWdodCA9IG1hcmtlci53aWR0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSA6IG51bGxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGRlZmF1bHRPcHRpb24oYmFzZU9wdGlvbikge1xyXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBiYXNlT3B0aW9uLCB7IFxyXG4gICAgICAgICAgICAvLyDmm7LnjodcclxuICAgICAgICAgICAgY3VydmVuZXNzOiAwLCBcclxuICAgICAgICAgICAgLy8g57q/5q615Lik56uv5Zu+5qGIXHJcbiAgICAgICAgICAgIG1hcmtlcnM6ICcnLCB6SW5kZXg6IDAgfSk7XHJcbiAgICB9XHJcbiAgICBkZWZhdWx0U3R5bGUoYmFzZVN0eWxlKSB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGJhc2VTdHlsZSwgeyBcclxuICAgICAgICAgICAgLy8g57q/5q615bmz57yT56iL5bqmXHJcbiAgICAgICAgICAgIHNtb290aDogMCwgXHJcbiAgICAgICAgICAgIC8vIOiZmue6v+agt+W8j1xyXG4gICAgICAgICAgICBsaW5lRGFzaDogbnVsbCB9KTtcclxuICAgICAgICA7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOaxguWcqOe6v+auteafkOS4quS9jee9rueahOWdkOagh+eCuVxyXG4gICAgICogQHBhcmFtIHBlcmNlbnRcclxuICAgICAqL1xyXG4gICAgcG9pbnRBdChwZXJjZW50KSB7XHJcbiAgICAgICAgbGV0IGxpbmUgPSB0aGlzLmdldFN1YlNoYXBlKCdsaW5lJyksIHN0YXJ0WCA9IHRoaXMuc3RhcnQueCwgc3RhcnRZID0gdGhpcy5zdGFydC55LCBlbmRYID0gdGhpcy5lbmQueCwgZW5kWSA9IHRoaXMuZW5kLnk7XHJcbiAgICAgICAgaWYgKGxpbmUubmFtZSA9PT0gJ3BvbHlMaW5lJykge1xyXG4gICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgc3RhcnRYICogKDEgLSBwZXJjZW50KSArIGVuZFggKiBwZXJjZW50LFxyXG4gICAgICAgICAgICAgICAgc3RhcnRZICogKDEgLSBwZXJjZW50KSArIGVuZFkgKiBwZXJjZW50XHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOe6v+auteS4uuS6jOasoei0neWhnuWwlFxyXG4gICAgICAgIGlmIChsaW5lLm5hbWUgPT09ICdjdXJ2ZScpIHtcclxuICAgICAgICAgICAgbGV0IFtjcHgsIGNweV0gPSBsaW5lLmNhbGNDb250cm9sUG9pbnQodGhpcy5zdGFydCwgdGhpcy5lbmQpO1xyXG4gICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgKDEgLSBwZXJjZW50KSAqICgoMSAtIHBlcmNlbnQpICogc3RhcnRYICsgMiAqIHBlcmNlbnQgKiBjcHgpICsgTWF0aC5wb3cocGVyY2VudCwgMikgKiBlbmRYLFxyXG4gICAgICAgICAgICAgICAgKDEgLSBwZXJjZW50KSAqICgoMSAtIHBlcmNlbnQpICogc3RhcnRZICsgMiAqIHBlcmNlbnQgKiBjcHkpICsgTWF0aC5wb3cocGVyY2VudCwgMikgKiBlbmRZXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5bnur/mrrXlnKjmn5DkuKrkvY3nva7nmoTmlpznjodcclxuICAgICAqIEBwYXJhbSBwZXJjZW50XHJcbiAgICAgKi9cclxuICAgIHRhbmdlbnRBdChwZXJjZW50KSB7XHJcbiAgICAgICAgbGV0IGxpbmUgPSB0aGlzLmdldFN1YlNoYXBlKCdsaW5lJyksIHN0YXJ0WCA9IHRoaXMuc3RhcnQueCwgc3RhcnRZID0gdGhpcy5zdGFydC55LCBlbmRYID0gdGhpcy5lbmQueCwgZW5kWSA9IHRoaXMuZW5kLnk7XHJcbiAgICAgICAgLy8g6Iul57q/5q615Li655u057q/XHJcbiAgICAgICAgaWYgKGxpbmUubmFtZSA9PT0gJ3BvbHlMaW5lJykge1xyXG4gICAgICAgICAgICBpZiAoZW5kWCA9PT0gc3RhcnRYKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhcnRZIDwgZW5kWSA/IE1hdGguUEkgOiAtTWF0aC5QSTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxldCBrID0gTWF0aC5hdGFuKChlbmRZIC0gc3RhcnRZKSAvIChlbmRYIC0gc3RhcnRYKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gLWsgKyB1dGlsXzEuVXRpbC5zaWduKHN0YXJ0WCAtIGVuZFgpICogMC41ICogTWF0aC5QSTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDnur/mrrXkuLrkuozmrKHotJ3loZ7lsJRcclxuICAgICAgICBpZiAobGluZS5uYW1lID09PSAnY3VydmUnKSB7XHJcbiAgICAgICAgICAgIGxldCBbY3B4LCBjcHldID0gbGluZS5jYWxjQ29udHJvbFBvaW50KHRoaXMuc3RhcnQsIHRoaXMuZW5kKSwgZGVyaXZhdGl2ZVggPSAyICogKCgxIC0gcGVyY2VudCkgKiAoY3B4IC0gc3RhcnRYKSArIHBlcmNlbnQgKiAoZW5kWCAtIGNweCkpLCBkZXJpdmF0aXZlWSA9IDIgKiAoKDEgLSBwZXJjZW50KSAqIChjcHkgLSBzdGFydFkpICsgcGVyY2VudCAqIChlbmRZIC0gY3B5KSk7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLlBJICogMS41IC0gTWF0aC5hdGFuMihkZXJpdmF0aXZlWSwgZGVyaXZhdGl2ZVgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLkxpbmUgPSBMaW5lO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///39\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst composite_1 = __webpack_require__(5);\r\n/**\r\n * 单侧（右）连接结点\r\n */\r\nclass Node extends composite_1.Composite {\r\n    constructor(id, name, opt) {\r\n        super(id, name, opt);\r\n        this.addSubShape({\r\n            block: {\r\n                shapeName: 'rect',\r\n                draw: (parent, block) => {\r\n                    let widthPart = parent.width / 6;\r\n                    block.y = parent.y;\r\n                    block.x = parent.x - widthPart;\r\n                    block.height = parent.height;\r\n                    block.width = 4 * widthPart;\r\n                }\r\n            },\r\n            fieldBlock: {\r\n                shapeName: 'rect',\r\n                init: (option, style) => ({\r\n                    zIndex: -1,\r\n                    content: '^',\r\n                    style: {\r\n                        fill: style.fieldColor,\r\n                        textFill: style.fieldEmpty ? '#000' : 'rgba(0, 0, 0, 0)'\r\n                    }\r\n                }),\r\n                draw: (parent, block) => {\r\n                    let part = parent.width / 6;\r\n                    block.y = parent.y;\r\n                    block.x = parent.x + 2 * part;\r\n                    block.width = parent.width / 3;\r\n                    block.height = parent.height;\r\n                }\r\n            }\r\n        });\r\n    }\r\n    defaultStyle(baseStyle) {\r\n        return Object.assign({}, baseStyle, { \r\n            // 外层容器颜色\r\n            fieldColor: '#eee', fieldEmpty: true });\r\n    }\r\n    defaultAnchors(baseAnchors, w) {\r\n        return Object.assign({}, baseAnchors, { 1: [w / 3, 0] });\r\n    }\r\n}\r\nexports.Node = Node;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9TcGVjaWZpY1NoYXBlcy9ub2RlLmpzP2ExMGIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RCxvQkFBb0IsbUJBQU8sQ0FBQyxDQUFxQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsK0JBQStCLGM7QUFDL0I7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBLCtCQUErQixnQkFBZ0IsZ0JBQWdCO0FBQy9EO0FBQ0E7QUFDQSIsImZpbGUiOiI0MC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGNvbXBvc2l0ZV8xID0gcmVxdWlyZShcIi4uL1NoYXBlcy9jb21wb3NpdGVcIik7XHJcbi8qKlxyXG4gKiDljZXkvqfvvIjlj7PvvInov57mjqXnu5PngrlcclxuICovXHJcbmNsYXNzIE5vZGUgZXh0ZW5kcyBjb21wb3NpdGVfMS5Db21wb3NpdGUge1xyXG4gICAgY29uc3RydWN0b3IoaWQsIG5hbWUsIG9wdCkge1xyXG4gICAgICAgIHN1cGVyKGlkLCBuYW1lLCBvcHQpO1xyXG4gICAgICAgIHRoaXMuYWRkU3ViU2hhcGUoe1xyXG4gICAgICAgICAgICBibG9jazoge1xyXG4gICAgICAgICAgICAgICAgc2hhcGVOYW1lOiAncmVjdCcsXHJcbiAgICAgICAgICAgICAgICBkcmF3OiAocGFyZW50LCBibG9jaykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB3aWR0aFBhcnQgPSBwYXJlbnQud2lkdGggLyA2O1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLnkgPSBwYXJlbnQueTtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay54ID0gcGFyZW50LnggLSB3aWR0aFBhcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2suaGVpZ2h0ID0gcGFyZW50LmhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay53aWR0aCA9IDQgKiB3aWR0aFBhcnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZpZWxkQmxvY2s6IHtcclxuICAgICAgICAgICAgICAgIHNoYXBlTmFtZTogJ3JlY3QnLFxyXG4gICAgICAgICAgICAgICAgaW5pdDogKG9wdGlvbiwgc3R5bGUpID0+ICh7XHJcbiAgICAgICAgICAgICAgICAgICAgekluZGV4OiAtMSxcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnXicsXHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsbDogc3R5bGUuZmllbGRDb2xvcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEZpbGw6IHN0eWxlLmZpZWxkRW1wdHkgPyAnIzAwMCcgOiAncmdiYSgwLCAwLCAwLCAwKSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgIGRyYXc6IChwYXJlbnQsIGJsb2NrKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhcnQgPSBwYXJlbnQud2lkdGggLyA2O1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLnkgPSBwYXJlbnQueTtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay54ID0gcGFyZW50LnggKyAyICogcGFydDtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay53aWR0aCA9IHBhcmVudC53aWR0aCAvIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2suaGVpZ2h0ID0gcGFyZW50LmhlaWdodDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZGVmYXVsdFN0eWxlKGJhc2VTdHlsZSkge1xyXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBiYXNlU3R5bGUsIHsgXHJcbiAgICAgICAgICAgIC8vIOWkluWxguWuueWZqOminOiJslxyXG4gICAgICAgICAgICBmaWVsZENvbG9yOiAnI2VlZScsIGZpZWxkRW1wdHk6IHRydWUgfSk7XHJcbiAgICB9XHJcbiAgICBkZWZhdWx0QW5jaG9ycyhiYXNlQW5jaG9ycywgdykge1xyXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBiYXNlQW5jaG9ycywgeyAxOiBbdyAvIDMsIDBdIH0pO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuTm9kZSA9IE5vZGU7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///40\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst composite_1 = __webpack_require__(5);\r\nconst fieldBlockOption = {\r\n    shapeName: 'rect',\r\n    init: (option, style) => ({\r\n        zIndex: -1,\r\n        content: '^',\r\n        style: {\r\n            fill: '#eee',\r\n            textFill: style.leftFieldEmpty ? '#000' : 'rgba(0, 0, 0, 0)'\r\n        }\r\n    }),\r\n    draw: (parent, block) => {\r\n        let part = parent.width / 8;\r\n        block.y = parent.y;\r\n        block.x = parent.x - 3 * part;\r\n        block.width = parent.width / 4;\r\n        block.height = parent.height;\r\n    }\r\n};\r\n/**\r\n * 双侧连接结点\r\n */\r\nclass DualNode extends composite_1.Composite {\r\n    constructor(id, name, opt) {\r\n        super(id, name, opt);\r\n        this.addSubShape({\r\n            block: {\r\n                shapeName: 'rect',\r\n                draw: (parent, block) => {\r\n                    let widthPart = parent.width / 4;\r\n                    block.y = parent.y;\r\n                    block.x = parent.x;\r\n                    block.height = parent.height;\r\n                    block.width = 2 * widthPart;\r\n                }\r\n            },\r\n            leftFieldBlock: Object.assign({}, fieldBlockOption),\r\n            rightFieldBlock: Object.assign({}, fieldBlockOption, { init: (option, style) => ({\r\n                    zIndex: -1,\r\n                    content: '^',\r\n                    style: {\r\n                        fill: style.fieldColor,\r\n                        textFill: style.rightFieldEmpty ? '#000' : 'rgba(0, 0, 0, 0)'\r\n                    }\r\n                }), draw: (parent, block) => {\r\n                    let part = parent.width / 8;\r\n                    block.y = parent.y;\r\n                    block.x = parent.x + 3 * part;\r\n                    block.width = parent.width / 4;\r\n                    block.height = parent.height;\r\n                } })\r\n        });\r\n    }\r\n    defaultStyle(baseStyle) {\r\n        return Object.assign({}, baseStyle, { \r\n            // 外层容器颜色\r\n            fieldColor: '#eee', leftFieldEmpty: true, rightFieldEmpty: true });\r\n    }\r\n    defaultAnchors(baseAnchors, w) {\r\n        return Object.assign({}, baseAnchors, { 1: [w * (3 / 8), 0], 3: [-w * (3 / 8), 0] });\r\n    }\r\n}\r\nexports.DualNode = DualNode;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RydWN0Vi9TcGVjaWZpY1NoYXBlcy9kdWFsTm9kZS5qcz81ZWUyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQThDLGNBQWM7QUFDNUQsb0JBQW9CLG1CQUFPLENBQUMsQ0FBcUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYiw0Q0FBNEM7QUFDNUMsNkNBQTZDLHFCQUFxQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixFQUFFO0FBQ25CLFNBQVM7QUFDVDtBQUNBO0FBQ0EsK0JBQStCLGM7QUFDL0I7QUFDQSw2RUFBNkU7QUFDN0U7QUFDQTtBQUNBLCtCQUErQixnQkFBZ0IsNENBQTRDO0FBQzNGO0FBQ0E7QUFDQSIsImZpbGUiOiI0MS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGNvbXBvc2l0ZV8xID0gcmVxdWlyZShcIi4uL1NoYXBlcy9jb21wb3NpdGVcIik7XHJcbmNvbnN0IGZpZWxkQmxvY2tPcHRpb24gPSB7XHJcbiAgICBzaGFwZU5hbWU6ICdyZWN0JyxcclxuICAgIGluaXQ6IChvcHRpb24sIHN0eWxlKSA9PiAoe1xyXG4gICAgICAgIHpJbmRleDogLTEsXHJcbiAgICAgICAgY29udGVudDogJ14nLFxyXG4gICAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgICAgIGZpbGw6ICcjZWVlJyxcclxuICAgICAgICAgICAgdGV4dEZpbGw6IHN0eWxlLmxlZnRGaWVsZEVtcHR5ID8gJyMwMDAnIDogJ3JnYmEoMCwgMCwgMCwgMCknXHJcbiAgICAgICAgfVxyXG4gICAgfSksXHJcbiAgICBkcmF3OiAocGFyZW50LCBibG9jaykgPT4ge1xyXG4gICAgICAgIGxldCBwYXJ0ID0gcGFyZW50LndpZHRoIC8gODtcclxuICAgICAgICBibG9jay55ID0gcGFyZW50Lnk7XHJcbiAgICAgICAgYmxvY2sueCA9IHBhcmVudC54IC0gMyAqIHBhcnQ7XHJcbiAgICAgICAgYmxvY2sud2lkdGggPSBwYXJlbnQud2lkdGggLyA0O1xyXG4gICAgICAgIGJsb2NrLmhlaWdodCA9IHBhcmVudC5oZWlnaHQ7XHJcbiAgICB9XHJcbn07XHJcbi8qKlxyXG4gKiDlj4zkvqfov57mjqXnu5PngrlcclxuICovXHJcbmNsYXNzIER1YWxOb2RlIGV4dGVuZHMgY29tcG9zaXRlXzEuQ29tcG9zaXRlIHtcclxuICAgIGNvbnN0cnVjdG9yKGlkLCBuYW1lLCBvcHQpIHtcclxuICAgICAgICBzdXBlcihpZCwgbmFtZSwgb3B0KTtcclxuICAgICAgICB0aGlzLmFkZFN1YlNoYXBlKHtcclxuICAgICAgICAgICAgYmxvY2s6IHtcclxuICAgICAgICAgICAgICAgIHNoYXBlTmFtZTogJ3JlY3QnLFxyXG4gICAgICAgICAgICAgICAgZHJhdzogKHBhcmVudCwgYmxvY2spID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgd2lkdGhQYXJ0ID0gcGFyZW50LndpZHRoIC8gNDtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay55ID0gcGFyZW50Lnk7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2sueCA9IHBhcmVudC54O1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLmhlaWdodCA9IHBhcmVudC5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2sud2lkdGggPSAyICogd2lkdGhQYXJ0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsZWZ0RmllbGRCbG9jazogT2JqZWN0LmFzc2lnbih7fSwgZmllbGRCbG9ja09wdGlvbiksXHJcbiAgICAgICAgICAgIHJpZ2h0RmllbGRCbG9jazogT2JqZWN0LmFzc2lnbih7fSwgZmllbGRCbG9ja09wdGlvbiwgeyBpbml0OiAob3B0aW9uLCBzdHlsZSkgPT4gKHtcclxuICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IC0xLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICdeJyxcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsOiBzdHlsZS5maWVsZENvbG9yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0RmlsbDogc3R5bGUucmlnaHRGaWVsZEVtcHR5ID8gJyMwMDAnIDogJ3JnYmEoMCwgMCwgMCwgMCknXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSksIGRyYXc6IChwYXJlbnQsIGJsb2NrKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhcnQgPSBwYXJlbnQud2lkdGggLyA4O1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLnkgPSBwYXJlbnQueTtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay54ID0gcGFyZW50LnggKyAzICogcGFydDtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay53aWR0aCA9IHBhcmVudC53aWR0aCAvIDQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2suaGVpZ2h0ID0gcGFyZW50LmhlaWdodDtcclxuICAgICAgICAgICAgICAgIH0gfSlcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGRlZmF1bHRTdHlsZShiYXNlU3R5bGUpIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgYmFzZVN0eWxlLCB7IFxyXG4gICAgICAgICAgICAvLyDlpJblsYLlrrnlmajpopzoibJcclxuICAgICAgICAgICAgZmllbGRDb2xvcjogJyNlZWUnLCBsZWZ0RmllbGRFbXB0eTogdHJ1ZSwgcmlnaHRGaWVsZEVtcHR5OiB0cnVlIH0pO1xyXG4gICAgfVxyXG4gICAgZGVmYXVsdEFuY2hvcnMoYmFzZUFuY2hvcnMsIHcpIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgYmFzZUFuY2hvcnMsIHsgMTogW3cgKiAoMyAvIDgpLCAwXSwgMzogWy13ICogKDMgLyA4KSwgMF0gfSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5EdWFsTm9kZSA9IER1YWxOb2RlO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///41\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst engine_1 = __webpack_require__(8);\r\nconst option_1 = __webpack_require__(43);\r\nconst element_1 = __webpack_require__(15);\r\n/**\r\n * 单链表\r\n */\r\nclass LinkList extends engine_1.Engine {\r\n    constructor(container, config = null) {\r\n        super(container, config || {\r\n            name: 'LinkList',\r\n            element: element_1.Node,\r\n            defaultOption: option_1.LOptions\r\n        });\r\n    }\r\n    /**\r\n     * 对子树进行递归布局\r\n     * @param node\r\n     * @param parent\r\n     */\r\n    layoutItem(node, prev) {\r\n        let { layout } = this.viewOption;\r\n        // 次双亲不进行布局\r\n        if (!node || (node.secondaryParents && node.secondaryParents === prev)) {\r\n            return null;\r\n        }\r\n        let w = node.width;\r\n        if (prev) {\r\n            node.y = prev.y;\r\n            node.x = prev.x + layout.xInterval + w;\r\n        }\r\n        if (node.next) {\r\n            this.layoutItem(node.next, node);\r\n        }\r\n    }\r\n    render(elements) {\r\n        let nodes = elements, rootNodes = [], root, node, { layout } = this.viewOption, i;\r\n        for (i = 0; i < nodes.length; i++) {\r\n            node = nodes[i];\r\n            if (node.root) {\r\n                rootNodes.push(node);\r\n            }\r\n        }\r\n        for (i = 0; i < rootNodes.length; i++) {\r\n            root = rootNodes[i];\r\n            root.y += i * (layout.yInterval + root.height);\r\n            this.layoutItem(root, null);\r\n        }\r\n    }\r\n}\r\nexports.LinkList = LinkList;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvTGlua0xpc3QvZW5naW5lLnRzPzU0MDAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RCxpQkFBaUIsbUJBQU8sQ0FBQyxDQUFtQjtBQUM1QyxpQkFBaUIsbUJBQU8sQ0FBQyxFQUFVO0FBQ25DLGtCQUFrQixtQkFBTyxDQUFDLEVBQVc7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsU0FBUztBQUNwRSxtQkFBbUIsa0JBQWtCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsc0JBQXNCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjQyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgZW5naW5lXzEgPSByZXF1aXJlKFwiLi4vU3RydWN0Vi9lbmdpbmVcIik7XHJcbmNvbnN0IG9wdGlvbl8xID0gcmVxdWlyZShcIi4vb3B0aW9uXCIpO1xyXG5jb25zdCBlbGVtZW50XzEgPSByZXF1aXJlKFwiLi9lbGVtZW50XCIpO1xyXG4vKipcclxuICog5Y2V6ZO+6KGoXHJcbiAqL1xyXG5jbGFzcyBMaW5rTGlzdCBleHRlbmRzIGVuZ2luZV8xLkVuZ2luZSB7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIsIGNvbmZpZyA9IG51bGwpIHtcclxuICAgICAgICBzdXBlcihjb250YWluZXIsIGNvbmZpZyB8fCB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdMaW5rTGlzdCcsXHJcbiAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnRfMS5Ob2RlLFxyXG4gICAgICAgICAgICBkZWZhdWx0T3B0aW9uOiBvcHRpb25fMS5MT3B0aW9uc1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDlr7nlrZDmoJHov5vooYzpgJLlvZLluIPlsYBcclxuICAgICAqIEBwYXJhbSBub2RlXHJcbiAgICAgKiBAcGFyYW0gcGFyZW50XHJcbiAgICAgKi9cclxuICAgIGxheW91dEl0ZW0obm9kZSwgcHJldikge1xyXG4gICAgICAgIGxldCB7IGxheW91dCB9ID0gdGhpcy52aWV3T3B0aW9uO1xyXG4gICAgICAgIC8vIOasoeWPjOS6suS4jei/m+ihjOW4g+WxgFxyXG4gICAgICAgIGlmICghbm9kZSB8fCAobm9kZS5zZWNvbmRhcnlQYXJlbnRzICYmIG5vZGUuc2Vjb25kYXJ5UGFyZW50cyA9PT0gcHJldikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB3ID0gbm9kZS53aWR0aDtcclxuICAgICAgICBpZiAocHJldikge1xyXG4gICAgICAgICAgICBub2RlLnkgPSBwcmV2Lnk7XHJcbiAgICAgICAgICAgIG5vZGUueCA9IHByZXYueCArIGxheW91dC54SW50ZXJ2YWwgKyB3O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobm9kZS5uZXh0KSB7XHJcbiAgICAgICAgICAgIHRoaXMubGF5b3V0SXRlbShub2RlLm5leHQsIG5vZGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlbmRlcihlbGVtZW50cykge1xyXG4gICAgICAgIGxldCBub2RlcyA9IGVsZW1lbnRzLCByb290Tm9kZXMgPSBbXSwgcm9vdCwgbm9kZSwgeyBsYXlvdXQgfSA9IHRoaXMudmlld09wdGlvbiwgaTtcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbm9kZSA9IG5vZGVzW2ldO1xyXG4gICAgICAgICAgICBpZiAobm9kZS5yb290KSB7XHJcbiAgICAgICAgICAgICAgICByb290Tm9kZXMucHVzaChub2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcm9vdE5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHJvb3QgPSByb290Tm9kZXNbaV07XHJcbiAgICAgICAgICAgIHJvb3QueSArPSBpICogKGxheW91dC55SW50ZXJ2YWwgKyByb290LmhlaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMubGF5b3V0SXRlbShyb290LCBudWxsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5MaW5rTGlzdCA9IExpbmtMaXN0O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///42\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst element_1 = __webpack_require__(15);\r\n// 默认配置项\r\nexports.LOptions = {\r\n    struct: {\r\n        element: element_1.Node,\r\n        link: ['next'],\r\n        pointer: ['external']\r\n    },\r\n    view: {\r\n        element: {\r\n            shape: 'node',\r\n            size: [80, 40],\r\n            content: '[id]',\r\n            style: {\r\n                fill: '#c1c0b9',\r\n                stroke: '#000'\r\n            }\r\n        },\r\n        link: {\r\n            next: {\r\n                markers: ['circle', 'arrow'],\r\n                contact: [1, 3]\r\n            }\r\n        },\r\n        layout: {\r\n            secondaryLinkColor: '#ff2e63',\r\n            xInterval: 40,\r\n            yInterval: 60,\r\n            translate: 'auto',\r\n            scale: 'auto'\r\n        }\r\n    },\r\n    interact: {\r\n        focus: { fill: 'red' },\r\n    }\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvTGlua0xpc3Qvb3B0aW9uLnRzPzI0NjMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RCxrQkFBa0IsbUJBQU8sQ0FBQyxFQUFXO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGdCQUFnQixjQUFjO0FBQzlCO0FBQ0EiLCJmaWxlIjoiNDMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBlbGVtZW50XzEgPSByZXF1aXJlKFwiLi9lbGVtZW50XCIpO1xyXG4vLyDpu5jorqTphY3nva7poblcclxuZXhwb3J0cy5MT3B0aW9ucyA9IHtcclxuICAgIHN0cnVjdDoge1xyXG4gICAgICAgIGVsZW1lbnQ6IGVsZW1lbnRfMS5Ob2RlLFxyXG4gICAgICAgIGxpbms6IFsnbmV4dCddLFxyXG4gICAgICAgIHBvaW50ZXI6IFsnZXh0ZXJuYWwnXVxyXG4gICAgfSxcclxuICAgIHZpZXc6IHtcclxuICAgICAgICBlbGVtZW50OiB7XHJcbiAgICAgICAgICAgIHNoYXBlOiAnbm9kZScsXHJcbiAgICAgICAgICAgIHNpemU6IFs4MCwgNDBdLFxyXG4gICAgICAgICAgICBjb250ZW50OiAnW2lkXScsXHJcbiAgICAgICAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICBmaWxsOiAnI2MxYzBiOScsXHJcbiAgICAgICAgICAgICAgICBzdHJva2U6ICcjMDAwJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBsaW5rOiB7XHJcbiAgICAgICAgICAgIG5leHQ6IHtcclxuICAgICAgICAgICAgICAgIG1hcmtlcnM6IFsnY2lyY2xlJywgJ2Fycm93J10sXHJcbiAgICAgICAgICAgICAgICBjb250YWN0OiBbMSwgM11cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbGF5b3V0OiB7XHJcbiAgICAgICAgICAgIHNlY29uZGFyeUxpbmtDb2xvcjogJyNmZjJlNjMnLFxyXG4gICAgICAgICAgICB4SW50ZXJ2YWw6IDQwLFxyXG4gICAgICAgICAgICB5SW50ZXJ2YWw6IDYwLFxyXG4gICAgICAgICAgICB0cmFuc2xhdGU6ICdhdXRvJyxcclxuICAgICAgICAgICAgc2NhbGU6ICdhdXRvJ1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBpbnRlcmFjdDoge1xyXG4gICAgICAgIGZvY3VzOiB7IGZpbGw6ICdyZWQnIH0sXHJcbiAgICB9XHJcbn07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///43\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst engine_1 = __webpack_require__(8);\r\nconst option_1 = __webpack_require__(45);\r\nconst vector_1 = __webpack_require__(4);\r\n/**\r\n * 有向图\r\n */\r\nclass DirectedGraph extends engine_1.Engine {\r\n    constructor(container) {\r\n        super(container, {\r\n            name: 'DirectedGraph',\r\n            defaultOption: option_1.DGOptions\r\n        });\r\n    }\r\n    render(elements) {\r\n        let nodes = elements, { layout } = this.viewOption, radius = layout.radius, intervalAngle = 2 * Math.PI / nodes.length, i;\r\n        for (i = 0; i < nodes.length; i++) {\r\n            let [x, y] = vector_1.Vector.rotation(-intervalAngle * i, [0, -radius]);\r\n            nodes[i].x = x;\r\n            nodes[i].y = y;\r\n        }\r\n    }\r\n}\r\nexports.DirectedGraph = DirectedGraph;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvRGlyZWN0ZWRHcmFwaC9lbmdpbmUudHM/NGI3MCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE4QyxjQUFjO0FBQzVELGlCQUFpQixtQkFBTyxDQUFDLENBQW1CO0FBQzVDLGlCQUFpQixtQkFBTyxDQUFDLEVBQVU7QUFDbkMsaUJBQWlCLG1CQUFPLENBQUMsQ0FBMEI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsK0JBQStCLFNBQVM7QUFDeEMsbUJBQW1CLGtCQUFrQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiI0NC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGVuZ2luZV8xID0gcmVxdWlyZShcIi4uL1N0cnVjdFYvZW5naW5lXCIpO1xyXG5jb25zdCBvcHRpb25fMSA9IHJlcXVpcmUoXCIuL29wdGlvblwiKTtcclxuY29uc3QgdmVjdG9yXzEgPSByZXF1aXJlKFwiLi4vU3RydWN0Vi9Db21tb24vdmVjdG9yXCIpO1xyXG4vKipcclxuICog5pyJ5ZCR5Zu+XHJcbiAqL1xyXG5jbGFzcyBEaXJlY3RlZEdyYXBoIGV4dGVuZHMgZW5naW5lXzEuRW5naW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcikge1xyXG4gICAgICAgIHN1cGVyKGNvbnRhaW5lciwge1xyXG4gICAgICAgICAgICBuYW1lOiAnRGlyZWN0ZWRHcmFwaCcsXHJcbiAgICAgICAgICAgIGRlZmF1bHRPcHRpb246IG9wdGlvbl8xLkRHT3B0aW9uc1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKGVsZW1lbnRzKSB7XHJcbiAgICAgICAgbGV0IG5vZGVzID0gZWxlbWVudHMsIHsgbGF5b3V0IH0gPSB0aGlzLnZpZXdPcHRpb24sIHJhZGl1cyA9IGxheW91dC5yYWRpdXMsIGludGVydmFsQW5nbGUgPSAyICogTWF0aC5QSSAvIG5vZGVzLmxlbmd0aCwgaTtcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IFt4LCB5XSA9IHZlY3Rvcl8xLlZlY3Rvci5yb3RhdGlvbigtaW50ZXJ2YWxBbmdsZSAqIGksIFswLCAtcmFkaXVzXSk7XHJcbiAgICAgICAgICAgIG5vZGVzW2ldLnggPSB4O1xyXG4gICAgICAgICAgICBub2Rlc1tpXS55ID0geTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5EaXJlY3RlZEdyYXBoID0gRGlyZWN0ZWRHcmFwaDtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///44\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// 默认配置项\r\nexports.DGOptions = {\r\n    struct: {\r\n        link: ['links', 'clinks']\r\n    },\r\n    view: {\r\n        element: {\r\n            shape: 'circle',\r\n            size: 60,\r\n            content: '[id]',\r\n            style: {\r\n                fill: '#913175',\r\n                stroke: '#000'\r\n            }\r\n        },\r\n        link: {\r\n            links: {\r\n                markers: 'arrow',\r\n                style: {\r\n                    fill: '#000',\r\n                    lineWidth: 2\r\n                }\r\n            },\r\n            clinks: {\r\n                curveness: 0.2,\r\n                markers: 'arrow',\r\n                style: {\r\n                    fill: '#000',\r\n                    lineWidth: 2\r\n                }\r\n            }\r\n        },\r\n        layout: {\r\n            radius: 150,\r\n        }\r\n    },\r\n    interact: {}\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvRGlyZWN0ZWRHcmFwaC9vcHRpb24udHM/OTZmMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBIiwiZmlsZSI6IjQ1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLy8g6buY6K6k6YWN572u6aG5XHJcbmV4cG9ydHMuREdPcHRpb25zID0ge1xyXG4gICAgc3RydWN0OiB7XHJcbiAgICAgICAgbGluazogWydsaW5rcycsICdjbGlua3MnXVxyXG4gICAgfSxcclxuICAgIHZpZXc6IHtcclxuICAgICAgICBlbGVtZW50OiB7XHJcbiAgICAgICAgICAgIHNoYXBlOiAnY2lyY2xlJyxcclxuICAgICAgICAgICAgc2l6ZTogNjAsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6ICdbaWRdJyxcclxuICAgICAgICAgICAgc3R5bGU6IHtcclxuICAgICAgICAgICAgICAgIGZpbGw6ICcjOTEzMTc1JyxcclxuICAgICAgICAgICAgICAgIHN0cm9rZTogJyMwMDAnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGxpbms6IHtcclxuICAgICAgICAgICAgbGlua3M6IHtcclxuICAgICAgICAgICAgICAgIG1hcmtlcnM6ICdhcnJvdycsXHJcbiAgICAgICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbGw6ICcjMDAwJyxcclxuICAgICAgICAgICAgICAgICAgICBsaW5lV2lkdGg6IDJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY2xpbmtzOiB7XHJcbiAgICAgICAgICAgICAgICBjdXJ2ZW5lc3M6IDAuMixcclxuICAgICAgICAgICAgICAgIG1hcmtlcnM6ICdhcnJvdycsXHJcbiAgICAgICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbGw6ICcjMDAwJyxcclxuICAgICAgICAgICAgICAgICAgICBsaW5lV2lkdGg6IDJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbGF5b3V0OiB7XHJcbiAgICAgICAgICAgIHJhZGl1czogMTUwLFxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBpbnRlcmFjdDoge31cclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///45\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst engine_1 = __webpack_require__(8);\r\nconst option_1 = __webpack_require__(47);\r\nconst vector_1 = __webpack_require__(4);\r\n/**\r\n * 二叉树\r\n */\r\nclass Graph extends engine_1.Engine {\r\n    constructor(container) {\r\n        super(container, {\r\n            name: 'Graph',\r\n            defaultOption: option_1.GOptions\r\n        });\r\n    }\r\n    render(elements) {\r\n        let nodes = elements, { layout } = this.viewOption, radius = layout.radius, intervalAngle = 2 * Math.PI / nodes.length, i;\r\n        for (i = 0; i < nodes.length; i++) {\r\n            let [x, y] = vector_1.Vector.rotation(-intervalAngle * i, [0, -radius]);\r\n            nodes[i].x = x;\r\n            nodes[i].y = y;\r\n        }\r\n    }\r\n}\r\nexports.Graph = Graph;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvR3JhcGgvZW5naW5lLnRzP2YzNTYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RCxpQkFBaUIsbUJBQU8sQ0FBQyxDQUFtQjtBQUM1QyxpQkFBaUIsbUJBQU8sQ0FBQyxFQUFVO0FBQ25DLGlCQUFpQixtQkFBTyxDQUFDLENBQTBCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLCtCQUErQixTQUFTO0FBQ3hDLG1CQUFtQixrQkFBa0I7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiNDYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBlbmdpbmVfMSA9IHJlcXVpcmUoXCIuLi9TdHJ1Y3RWL2VuZ2luZVwiKTtcclxuY29uc3Qgb3B0aW9uXzEgPSByZXF1aXJlKFwiLi9vcHRpb25cIik7XHJcbmNvbnN0IHZlY3Rvcl8xID0gcmVxdWlyZShcIi4uL1N0cnVjdFYvQ29tbW9uL3ZlY3RvclwiKTtcclxuLyoqXHJcbiAqIOS6jOWPieagkVxyXG4gKi9cclxuY2xhc3MgR3JhcGggZXh0ZW5kcyBlbmdpbmVfMS5FbmdpbmUge1xyXG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyKSB7XHJcbiAgICAgICAgc3VwZXIoY29udGFpbmVyLCB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdHcmFwaCcsXHJcbiAgICAgICAgICAgIGRlZmF1bHRPcHRpb246IG9wdGlvbl8xLkdPcHRpb25zXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZW5kZXIoZWxlbWVudHMpIHtcclxuICAgICAgICBsZXQgbm9kZXMgPSBlbGVtZW50cywgeyBsYXlvdXQgfSA9IHRoaXMudmlld09wdGlvbiwgcmFkaXVzID0gbGF5b3V0LnJhZGl1cywgaW50ZXJ2YWxBbmdsZSA9IDIgKiBNYXRoLlBJIC8gbm9kZXMubGVuZ3RoLCBpO1xyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgW3gsIHldID0gdmVjdG9yXzEuVmVjdG9yLnJvdGF0aW9uKC1pbnRlcnZhbEFuZ2xlICogaSwgWzAsIC1yYWRpdXNdKTtcclxuICAgICAgICAgICAgbm9kZXNbaV0ueCA9IHg7XHJcbiAgICAgICAgICAgIG5vZGVzW2ldLnkgPSB5O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLkdyYXBoID0gR3JhcGg7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///46\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// 默认配置项\r\nexports.GOptions = {\r\n    struct: {\r\n        link: ['links']\r\n    },\r\n    view: {\r\n        element: {\r\n            shape: 'circle',\r\n            size: 60,\r\n            content: '[id]',\r\n            style: {\r\n                fill: '#8785a2',\r\n                stroke: '#000'\r\n            }\r\n        },\r\n        link: {\r\n            links: {\r\n                label: '[weight]',\r\n                markers: null,\r\n                contact: [4, 4],\r\n                labelStyle: {\r\n                    textBackgroundColor: 'rgba(0, 0, 0, 0.6)',\r\n                    textFill: '#fff'\r\n                },\r\n                style: {\r\n                    fill: '#000',\r\n                    lineWidth: 2\r\n                }\r\n            }\r\n        },\r\n        layout: {\r\n            radius: 150,\r\n        },\r\n        animation: {\r\n            duration: 500\r\n        }\r\n    },\r\n    interact: {}\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvR3JhcGgvb3B0aW9uLnRzPzJiMzAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EiLCJmaWxlIjoiNDcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vLyDpu5jorqTphY3nva7poblcclxuZXhwb3J0cy5HT3B0aW9ucyA9IHtcclxuICAgIHN0cnVjdDoge1xyXG4gICAgICAgIGxpbms6IFsnbGlua3MnXVxyXG4gICAgfSxcclxuICAgIHZpZXc6IHtcclxuICAgICAgICBlbGVtZW50OiB7XHJcbiAgICAgICAgICAgIHNoYXBlOiAnY2lyY2xlJyxcclxuICAgICAgICAgICAgc2l6ZTogNjAsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6ICdbaWRdJyxcclxuICAgICAgICAgICAgc3R5bGU6IHtcclxuICAgICAgICAgICAgICAgIGZpbGw6ICcjODc4NWEyJyxcclxuICAgICAgICAgICAgICAgIHN0cm9rZTogJyMwMDAnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGxpbms6IHtcclxuICAgICAgICAgICAgbGlua3M6IHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnW3dlaWdodF0nLFxyXG4gICAgICAgICAgICAgICAgbWFya2VyczogbnVsbCxcclxuICAgICAgICAgICAgICAgIGNvbnRhY3Q6IFs0LCA0XSxcclxuICAgICAgICAgICAgICAgIGxhYmVsU3R5bGU6IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0QmFja2dyb3VuZENvbG9yOiAncmdiYSgwLCAwLCAwLCAwLjYpJyxcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0RmlsbDogJyNmZmYnXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc3R5bGU6IHtcclxuICAgICAgICAgICAgICAgICAgICBmaWxsOiAnIzAwMCcsXHJcbiAgICAgICAgICAgICAgICAgICAgbGluZVdpZHRoOiAyXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGxheW91dDoge1xyXG4gICAgICAgICAgICByYWRpdXM6IDE1MCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFuaW1hdGlvbjoge1xyXG4gICAgICAgICAgICBkdXJhdGlvbjogNTAwXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGludGVyYWN0OiB7fVxyXG59O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///47\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst engine_1 = __webpack_require__(8);\r\nconst option_1 = __webpack_require__(49);\r\nconst vector_1 = __webpack_require__(4);\r\n/**\r\n * 星形\r\n */\r\nclass Star extends engine_1.Engine {\r\n    constructor(container) {\r\n        super(container, {\r\n            name: 'Star',\r\n            defaultOption: option_1.SOptions\r\n        });\r\n    }\r\n    render(elements) {\r\n        let nodes = elements.node, radius = this.viewOption.layout.radius, intervalAngle = 2 * Math.PI / nodes.length, i;\r\n        for (i = 0; i < nodes.length; i++) {\r\n            let [x, y] = vector_1.Vector.rotation(-intervalAngle * i, [0, -radius]), node = nodes[i];\r\n            node.x = x;\r\n            node.y = y;\r\n            if (i > 0) {\r\n                //this.link(node, nodes[i - 1], 'contract');\r\n            }\r\n            if (node.id === 2) {\r\n                //this.refer(node, 'external', 'head');\r\n            }\r\n            if (node.big) {\r\n                node.width = 120;\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.Star = Star;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3Rhci9lbmdpbmUudHM/ZThkNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE4QyxjQUFjO0FBQzVELGlCQUFpQixtQkFBTyxDQUFDLENBQW1CO0FBQzVDLGlCQUFpQixtQkFBTyxDQUFDLEVBQVU7QUFDbkMsaUJBQWlCLG1CQUFPLENBQUMsQ0FBMEI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsa0JBQWtCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjQ4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgZW5naW5lXzEgPSByZXF1aXJlKFwiLi4vU3RydWN0Vi9lbmdpbmVcIik7XHJcbmNvbnN0IG9wdGlvbl8xID0gcmVxdWlyZShcIi4vb3B0aW9uXCIpO1xyXG5jb25zdCB2ZWN0b3JfMSA9IHJlcXVpcmUoXCIuLi9TdHJ1Y3RWL0NvbW1vbi92ZWN0b3JcIik7XHJcbi8qKlxyXG4gKiDmmJ/lvaJcclxuICovXHJcbmNsYXNzIFN0YXIgZXh0ZW5kcyBlbmdpbmVfMS5FbmdpbmUge1xyXG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyKSB7XHJcbiAgICAgICAgc3VwZXIoY29udGFpbmVyLCB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdTdGFyJyxcclxuICAgICAgICAgICAgZGVmYXVsdE9wdGlvbjogb3B0aW9uXzEuU09wdGlvbnNcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJlbmRlcihlbGVtZW50cykge1xyXG4gICAgICAgIGxldCBub2RlcyA9IGVsZW1lbnRzLm5vZGUsIHJhZGl1cyA9IHRoaXMudmlld09wdGlvbi5sYXlvdXQucmFkaXVzLCBpbnRlcnZhbEFuZ2xlID0gMiAqIE1hdGguUEkgLyBub2Rlcy5sZW5ndGgsIGk7XHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBbeCwgeV0gPSB2ZWN0b3JfMS5WZWN0b3Iucm90YXRpb24oLWludGVydmFsQW5nbGUgKiBpLCBbMCwgLXJhZGl1c10pLCBub2RlID0gbm9kZXNbaV07XHJcbiAgICAgICAgICAgIG5vZGUueCA9IHg7XHJcbiAgICAgICAgICAgIG5vZGUueSA9IHk7XHJcbiAgICAgICAgICAgIGlmIChpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgLy90aGlzLmxpbmsobm9kZSwgbm9kZXNbaSAtIDFdLCAnY29udHJhY3QnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobm9kZS5pZCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgLy90aGlzLnJlZmVyKG5vZGUsICdleHRlcm5hbCcsICdoZWFkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG5vZGUuYmlnKSB7XHJcbiAgICAgICAgICAgICAgICBub2RlLndpZHRoID0gMTIwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuU3RhciA9IFN0YXI7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///48\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// 默认配置项\r\nexports.SOptions = {\r\n    struct: {\r\n        link: ['radiate', 'contract'],\r\n        pointer: ['external']\r\n    },\r\n    view: {\r\n        element: {\r\n            center: {\r\n                shape: 'isogon',\r\n                size: 120,\r\n                edges: 6,\r\n                content: 'C',\r\n                style: {\r\n                    fill: '#f1c40f',\r\n                    stroke: '#000'\r\n                }\r\n            },\r\n            node: {\r\n                shape: 'circle',\r\n                size: 60,\r\n                content: '[id]',\r\n                style: {\r\n                    fill: '#f1c40f',\r\n                    stroke: '#000'\r\n                }\r\n            },\r\n        },\r\n        link: {\r\n            radiate: {\r\n                markers: 'arrow',\r\n                curveness: 0.2\r\n            },\r\n            contract: {\r\n                markers: 'arrow',\r\n                curveness: 0.2,\r\n                style: {\r\n                    lineDash: [4, 4]\r\n                }\r\n            }\r\n        },\r\n        layout: {\r\n            radius: 200,\r\n        }\r\n    },\r\n    interact: {\r\n        drag: true\r\n    }\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3Rhci9vcHRpb24udHM/ODg0OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiNDkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vLyDpu5jorqTphY3nva7poblcclxuZXhwb3J0cy5TT3B0aW9ucyA9IHtcclxuICAgIHN0cnVjdDoge1xyXG4gICAgICAgIGxpbms6IFsncmFkaWF0ZScsICdjb250cmFjdCddLFxyXG4gICAgICAgIHBvaW50ZXI6IFsnZXh0ZXJuYWwnXVxyXG4gICAgfSxcclxuICAgIHZpZXc6IHtcclxuICAgICAgICBlbGVtZW50OiB7XHJcbiAgICAgICAgICAgIGNlbnRlcjoge1xyXG4gICAgICAgICAgICAgICAgc2hhcGU6ICdpc29nb24nLFxyXG4gICAgICAgICAgICAgICAgc2l6ZTogMTIwLFxyXG4gICAgICAgICAgICAgICAgZWRnZXM6IDYsXHJcbiAgICAgICAgICAgICAgICBjb250ZW50OiAnQycsXHJcbiAgICAgICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbGw6ICcjZjFjNDBmJyxcclxuICAgICAgICAgICAgICAgICAgICBzdHJva2U6ICcjMDAwJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBub2RlOiB7XHJcbiAgICAgICAgICAgICAgICBzaGFwZTogJ2NpcmNsZScsXHJcbiAgICAgICAgICAgICAgICBzaXplOiA2MCxcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICdbaWRdJyxcclxuICAgICAgICAgICAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsbDogJyNmMWM0MGYnLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZTogJyMwMDAnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBsaW5rOiB7XHJcbiAgICAgICAgICAgIHJhZGlhdGU6IHtcclxuICAgICAgICAgICAgICAgIG1hcmtlcnM6ICdhcnJvdycsXHJcbiAgICAgICAgICAgICAgICBjdXJ2ZW5lc3M6IDAuMlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjb250cmFjdDoge1xyXG4gICAgICAgICAgICAgICAgbWFya2VyczogJ2Fycm93JyxcclxuICAgICAgICAgICAgICAgIGN1cnZlbmVzczogMC4yLFxyXG4gICAgICAgICAgICAgICAgc3R5bGU6IHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5lRGFzaDogWzQsIDRdXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGxheW91dDoge1xyXG4gICAgICAgICAgICByYWRpdXM6IDIwMCxcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgaW50ZXJhY3Q6IHtcclxuICAgICAgICBkcmFnOiB0cnVlXHJcbiAgICB9XHJcbn07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///49\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst engine_1 = __webpack_require__(8);\r\nconst option_1 = __webpack_require__(51);\r\nclass Array extends engine_1.Engine {\r\n    constructor(container) {\r\n        super(container, {\r\n            name: 'Array',\r\n            defaultOption: option_1.AOption\r\n        });\r\n    }\r\n    render(elements) {\r\n        let arr = elements;\r\n        for (let i = 0; i < arr.length; i++) {\r\n            let width = arr[i].width;\r\n            if (i > 0) {\r\n                arr[i].x = arr[i - 1].x + width;\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.Array = Array;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQXJyYXkvZW5naW5lLnRzP2I4ZTQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RCxpQkFBaUIsbUJBQU8sQ0FBQyxDQUFtQjtBQUM1QyxpQkFBaUIsbUJBQU8sQ0FBQyxFQUFVO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGdCQUFnQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjUwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgZW5naW5lXzEgPSByZXF1aXJlKFwiLi4vU3RydWN0Vi9lbmdpbmVcIik7XHJcbmNvbnN0IG9wdGlvbl8xID0gcmVxdWlyZShcIi4vb3B0aW9uXCIpO1xyXG5jbGFzcyBBcnJheSBleHRlbmRzIGVuZ2luZV8xLkVuZ2luZSB7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIpIHtcclxuICAgICAgICBzdXBlcihjb250YWluZXIsIHtcclxuICAgICAgICAgICAgbmFtZTogJ0FycmF5JyxcclxuICAgICAgICAgICAgZGVmYXVsdE9wdGlvbjogb3B0aW9uXzEuQU9wdGlvblxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKGVsZW1lbnRzKSB7XHJcbiAgICAgICAgbGV0IGFyciA9IGVsZW1lbnRzO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCB3aWR0aCA9IGFycltpXS53aWR0aDtcclxuICAgICAgICAgICAgaWYgKGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBhcnJbaV0ueCA9IGFycltpIC0gMV0ueCArIHdpZHRoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuQXJyYXkgPSBBcnJheTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///50\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AOption = {\r\n    struct: {},\r\n    view: {\r\n        element: {\r\n            shape: 'rect',\r\n            size: [60, 40],\r\n            content: '[id]',\r\n            show: 'fadeRight',\r\n            style: {\r\n                fill: '#86A7AB',\r\n                stroke: '#000'\r\n            }\r\n        },\r\n        layout: {\r\n            curItemColor: '#ff2e63',\r\n        },\r\n    },\r\n    interact: {}\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQXJyYXkvb3B0aW9uLnRzP2YyYjkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBIiwiZmlsZSI6IjUxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5BT3B0aW9uID0ge1xyXG4gICAgc3RydWN0OiB7fSxcclxuICAgIHZpZXc6IHtcclxuICAgICAgICBlbGVtZW50OiB7XHJcbiAgICAgICAgICAgIHNoYXBlOiAncmVjdCcsXHJcbiAgICAgICAgICAgIHNpemU6IFs2MCwgNDBdLFxyXG4gICAgICAgICAgICBjb250ZW50OiAnW2lkXScsXHJcbiAgICAgICAgICAgIHNob3c6ICdmYWRlUmlnaHQnLFxyXG4gICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgZmlsbDogJyM4NkE3QUInLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMCdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbGF5b3V0OiB7XHJcbiAgICAgICAgICAgIGN1ckl0ZW1Db2xvcjogJyNmZjJlNjMnLFxyXG4gICAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAgaW50ZXJhY3Q6IHt9XHJcbn07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///51\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst engine_1 = __webpack_require__(8);\r\nconst option_1 = __webpack_require__(53);\r\nclass Stack extends engine_1.Engine {\r\n    constructor(container) {\r\n        super(container, {\r\n            name: 'Stack',\r\n            defaultOption: option_1.SOption\r\n        });\r\n    }\r\n    render(elements) {\r\n        let blocks = elements, i, height;\r\n        for (i = 0; i < blocks.length; i++) {\r\n            height = blocks[i].height;\r\n            if (i > 0) {\r\n                blocks[i].y = blocks[i - 1].y + height;\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.Stack = Stack;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RhY2svZW5naW5lLnRzP2IyMWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RCxpQkFBaUIsbUJBQU8sQ0FBQyxDQUFtQjtBQUM1QyxpQkFBaUIsbUJBQU8sQ0FBQyxFQUFVO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG1CQUFtQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjUyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgZW5naW5lXzEgPSByZXF1aXJlKFwiLi4vU3RydWN0Vi9lbmdpbmVcIik7XHJcbmNvbnN0IG9wdGlvbl8xID0gcmVxdWlyZShcIi4vb3B0aW9uXCIpO1xyXG5jbGFzcyBTdGFjayBleHRlbmRzIGVuZ2luZV8xLkVuZ2luZSB7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIpIHtcclxuICAgICAgICBzdXBlcihjb250YWluZXIsIHtcclxuICAgICAgICAgICAgbmFtZTogJ1N0YWNrJyxcclxuICAgICAgICAgICAgZGVmYXVsdE9wdGlvbjogb3B0aW9uXzEuU09wdGlvblxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKGVsZW1lbnRzKSB7XHJcbiAgICAgICAgbGV0IGJsb2NrcyA9IGVsZW1lbnRzLCBpLCBoZWlnaHQ7XHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGJsb2Nrcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBoZWlnaHQgPSBibG9ja3NbaV0uaGVpZ2h0O1xyXG4gICAgICAgICAgICBpZiAoaSA+IDApIHtcclxuICAgICAgICAgICAgICAgIGJsb2Nrc1tpXS55ID0gYmxvY2tzW2kgLSAxXS55ICsgaGVpZ2h0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuU3RhY2sgPSBTdGFjaztcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///52\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst element_1 = __webpack_require__(54);\r\nexports.SOption = {\r\n    struct: {\r\n        element: element_1.Block,\r\n        pointer: ['current']\r\n    },\r\n    view: {\r\n        element: {\r\n            shape: 'rect',\r\n            size: [80, 40],\r\n            content: '[id]',\r\n            show: 'fadeLeft',\r\n            style: {\r\n                fill: '#364f6b',\r\n                stroke: '#000'\r\n            }\r\n        },\r\n        pointer: {\r\n            current: {\r\n                position: 'right'\r\n            }\r\n        },\r\n        layout: {\r\n            curItemColor: '#ff2e63',\r\n        }\r\n    },\r\n    interact: {}\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RhY2svb3B0aW9uLnRzP2MzY2EiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RCxrQkFBa0IsbUJBQU8sQ0FBQyxFQUFXO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBIiwiZmlsZSI6IjUzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgZWxlbWVudF8xID0gcmVxdWlyZShcIi4vZWxlbWVudFwiKTtcclxuZXhwb3J0cy5TT3B0aW9uID0ge1xyXG4gICAgc3RydWN0OiB7XHJcbiAgICAgICAgZWxlbWVudDogZWxlbWVudF8xLkJsb2NrLFxyXG4gICAgICAgIHBvaW50ZXI6IFsnY3VycmVudCddXHJcbiAgICB9LFxyXG4gICAgdmlldzoge1xyXG4gICAgICAgIGVsZW1lbnQ6IHtcclxuICAgICAgICAgICAgc2hhcGU6ICdyZWN0JyxcclxuICAgICAgICAgICAgc2l6ZTogWzgwLCA0MF0sXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6ICdbaWRdJyxcclxuICAgICAgICAgICAgc2hvdzogJ2ZhZGVMZWZ0JyxcclxuICAgICAgICAgICAgc3R5bGU6IHtcclxuICAgICAgICAgICAgICAgIGZpbGw6ICcjMzY0ZjZiJyxcclxuICAgICAgICAgICAgICAgIHN0cm9rZTogJyMwMDAnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHBvaW50ZXI6IHtcclxuICAgICAgICAgICAgY3VycmVudDoge1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246ICdyaWdodCdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbGF5b3V0OiB7XHJcbiAgICAgICAgICAgIGN1ckl0ZW1Db2xvcjogJyNmZjJlNjMnLFxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBpbnRlcmFjdDoge31cclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///53\n")},function(module,exports,__webpack_require__){"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nconst element_1 = __webpack_require__(6);\r\nclass Block extends element_1.Element {\r\n    onRefer() {\r\n        this.style.fill = this.layoutOption.curItemColor;\r\n    }\r\n}\r\nexports.Block = Block;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RhY2svZWxlbWVudC50cz9hMTJhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQThDLGNBQWM7QUFDNUQsa0JBQWtCLG1CQUFPLENBQUMsQ0FBMEI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjU0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgZWxlbWVudF8xID0gcmVxdWlyZShcIi4uL1N0cnVjdFYvTW9kZWwvZWxlbWVudFwiKTtcclxuY2xhc3MgQmxvY2sgZXh0ZW5kcyBlbGVtZW50XzEuRWxlbWVudCB7XHJcbiAgICBvblJlZmVyKCkge1xyXG4gICAgICAgIHRoaXMuc3R5bGUuZmlsbCA9IHRoaXMubGF5b3V0T3B0aW9uLmN1ckl0ZW1Db2xvcjtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLkJsb2NrID0gQmxvY2s7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///54\n')},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst option_1 = __webpack_require__(56);\r\nconst engine_1 = __webpack_require__(42);\r\n/**\r\n * 双向链表\r\n */\r\nclass TwoWayLinkList extends engine_1.LinkList {\r\n    constructor(container) {\r\n        super(container, {\r\n            name: 'TwoWayLinkList',\r\n            defaultOption: option_1.TWLOptions\r\n        });\r\n    }\r\n}\r\nexports.TwoWayLinkList = TwoWayLinkList;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvVHdvV2F5TGlua0xpc3QvZW5naW5lLnRzP2I0MjQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RCxpQkFBaUIsbUJBQU8sQ0FBQyxFQUFVO0FBQ25DLGlCQUFpQixtQkFBTyxDQUFDLEVBQW9CO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBIiwiZmlsZSI6IjU1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3Qgb3B0aW9uXzEgPSByZXF1aXJlKFwiLi9vcHRpb25cIik7XHJcbmNvbnN0IGVuZ2luZV8xID0gcmVxdWlyZShcIi4uL0xpbmtMaXN0L2VuZ2luZVwiKTtcclxuLyoqXHJcbiAqIOWPjOWQkemTvuihqFxyXG4gKi9cclxuY2xhc3MgVHdvV2F5TGlua0xpc3QgZXh0ZW5kcyBlbmdpbmVfMS5MaW5rTGlzdCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIpIHtcclxuICAgICAgICBzdXBlcihjb250YWluZXIsIHtcclxuICAgICAgICAgICAgbmFtZTogJ1R3b1dheUxpbmtMaXN0JyxcclxuICAgICAgICAgICAgZGVmYXVsdE9wdGlvbjogb3B0aW9uXzEuVFdMT3B0aW9uc1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuVHdvV2F5TGlua0xpc3QgPSBUd29XYXlMaW5rTGlzdDtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///55\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst element_1 = __webpack_require__(57);\r\nlet color = '#d4a5a5';\r\n// 默认配置项\r\nexports.TWLOptions = {\r\n    struct: {\r\n        element: element_1.TWNode,\r\n        pointer: ['external'],\r\n        link: ['next', 'prev']\r\n    },\r\n    view: {\r\n        element: {\r\n            shape: 'dualNode',\r\n            size: [80, 40],\r\n            content: '[id]',\r\n            style: {\r\n                fill: color,\r\n                stroke: '#000'\r\n            }\r\n        },\r\n        link: {\r\n            next: {\r\n                markers: ['circle', 'arrow'],\r\n                contact: [1, 3]\r\n            },\r\n            prev: {\r\n                markers: ['circle', 'arrow'],\r\n                contact: [3, 1]\r\n            }\r\n        },\r\n        layout: {\r\n            xInterval: 40,\r\n            yInterval: 40,\r\n        }\r\n    },\r\n    interact: {}\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvVHdvV2F5TGlua0xpc3Qvb3B0aW9uLnRzPzk5NjYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RCxrQkFBa0IsbUJBQU8sQ0FBQyxFQUFXO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBIiwiZmlsZSI6IjU2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgZWxlbWVudF8xID0gcmVxdWlyZShcIi4vZWxlbWVudFwiKTtcclxubGV0IGNvbG9yID0gJyNkNGE1YTUnO1xyXG4vLyDpu5jorqTphY3nva7poblcclxuZXhwb3J0cy5UV0xPcHRpb25zID0ge1xyXG4gICAgc3RydWN0OiB7XHJcbiAgICAgICAgZWxlbWVudDogZWxlbWVudF8xLlRXTm9kZSxcclxuICAgICAgICBwb2ludGVyOiBbJ2V4dGVybmFsJ10sXHJcbiAgICAgICAgbGluazogWyduZXh0JywgJ3ByZXYnXVxyXG4gICAgfSxcclxuICAgIHZpZXc6IHtcclxuICAgICAgICBlbGVtZW50OiB7XHJcbiAgICAgICAgICAgIHNoYXBlOiAnZHVhbE5vZGUnLFxyXG4gICAgICAgICAgICBzaXplOiBbODAsIDQwXSxcclxuICAgICAgICAgICAgY29udGVudDogJ1tpZF0nLFxyXG4gICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgZmlsbDogY29sb3IsXHJcbiAgICAgICAgICAgICAgICBzdHJva2U6ICcjMDAwJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBsaW5rOiB7XHJcbiAgICAgICAgICAgIG5leHQ6IHtcclxuICAgICAgICAgICAgICAgIG1hcmtlcnM6IFsnY2lyY2xlJywgJ2Fycm93J10sXHJcbiAgICAgICAgICAgICAgICBjb250YWN0OiBbMSwgM11cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcHJldjoge1xyXG4gICAgICAgICAgICAgICAgbWFya2VyczogWydjaXJjbGUnLCAnYXJyb3cnXSxcclxuICAgICAgICAgICAgICAgIGNvbnRhY3Q6IFszLCAxXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBsYXlvdXQ6IHtcclxuICAgICAgICAgICAgeEludGVydmFsOiA0MCxcclxuICAgICAgICAgICAgeUludGVydmFsOiA0MCxcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgaW50ZXJhY3Q6IHt9XHJcbn07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///56\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst element_1 = __webpack_require__(6);\r\nclass TWNode extends element_1.Element {\r\n    onLinkTo(targetNode, link) {\r\n        if (link.name === 'prev') {\r\n            this.style.leftFieldEmpty = false;\r\n        }\r\n        else {\r\n            this.style.rightFieldEmpty = false;\r\n        }\r\n    }\r\n}\r\nexports.TWNode = TWNode;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvVHdvV2F5TGlua0xpc3QvZWxlbWVudC50cz9lZWMyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQThDLGNBQWM7QUFDNUQsa0JBQWtCLG1CQUFPLENBQUMsQ0FBMEI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiI1Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGVsZW1lbnRfMSA9IHJlcXVpcmUoXCIuLi9TdHJ1Y3RWL01vZGVsL2VsZW1lbnRcIik7XHJcbmNsYXNzIFRXTm9kZSBleHRlbmRzIGVsZW1lbnRfMS5FbGVtZW50IHtcclxuICAgIG9uTGlua1RvKHRhcmdldE5vZGUsIGxpbmspIHtcclxuICAgICAgICBpZiAobGluay5uYW1lID09PSAncHJldicpIHtcclxuICAgICAgICAgICAgdGhpcy5zdHlsZS5sZWZ0RmllbGRFbXB0eSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zdHlsZS5yaWdodEZpZWxkRW1wdHkgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5UV05vZGUgPSBUV05vZGU7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///57\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst composite_1 = __webpack_require__(5);\r\nclass TwoCellBlock extends composite_1.Composite {\r\n    constructor(id, name, opt) {\r\n        super(id, name, opt);\r\n        this.addSubShape({\r\n            cell1: {\r\n                shapeName: 'rect',\r\n                init: option => ({\r\n                    content: option.content[0],\r\n                }),\r\n                draw: (parent, block) => {\r\n                    let widthPart = parent.width / 2;\r\n                    block.y = parent.y;\r\n                    block.x = parent.x - widthPart / 2;\r\n                    block.height = parent.height;\r\n                    block.width = widthPart;\r\n                }\r\n            },\r\n            cell2: {\r\n                shapeName: 'rect',\r\n                init: option => ({\r\n                    content: option.content[1],\r\n                    zIndex: -1,\r\n                    style: {\r\n                        fill: '#eee'\r\n                    }\r\n                }),\r\n                draw: (parent, block) => {\r\n                    let widthPart = parent.width / 2;\r\n                    block.y = parent.y;\r\n                    block.x = parent.x + widthPart / 2;\r\n                    block.height = parent.height - block.style.lineWidth;\r\n                    block.width = widthPart;\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.TwoCellBlock = TwoCellBlock;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvR2VuZXJhbGl6ZWRMaXN0L3R3b0NlbGxCbG9jay50cz83ZDBmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQThDLGNBQWM7QUFDNUQsb0JBQW9CLG1CQUFPLENBQUMsQ0FBNkI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBIiwiZmlsZSI6IjU4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgY29tcG9zaXRlXzEgPSByZXF1aXJlKFwiLi4vU3RydWN0Vi9TaGFwZXMvY29tcG9zaXRlXCIpO1xyXG5jbGFzcyBUd29DZWxsQmxvY2sgZXh0ZW5kcyBjb21wb3NpdGVfMS5Db21wb3NpdGUge1xyXG4gICAgY29uc3RydWN0b3IoaWQsIG5hbWUsIG9wdCkge1xyXG4gICAgICAgIHN1cGVyKGlkLCBuYW1lLCBvcHQpO1xyXG4gICAgICAgIHRoaXMuYWRkU3ViU2hhcGUoe1xyXG4gICAgICAgICAgICBjZWxsMToge1xyXG4gICAgICAgICAgICAgICAgc2hhcGVOYW1lOiAncmVjdCcsXHJcbiAgICAgICAgICAgICAgICBpbml0OiBvcHRpb24gPT4gKHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBvcHRpb24uY29udGVudFswXSxcclxuICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgZHJhdzogKHBhcmVudCwgYmxvY2spID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgd2lkdGhQYXJ0ID0gcGFyZW50LndpZHRoIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay55ID0gcGFyZW50Lnk7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2sueCA9IHBhcmVudC54IC0gd2lkdGhQYXJ0IC8gMjtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay5oZWlnaHQgPSBwYXJlbnQuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLndpZHRoID0gd2lkdGhQYXJ0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjZWxsMjoge1xyXG4gICAgICAgICAgICAgICAgc2hhcGVOYW1lOiAncmVjdCcsXHJcbiAgICAgICAgICAgICAgICBpbml0OiBvcHRpb24gPT4gKHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBvcHRpb24uY29udGVudFsxXSxcclxuICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IC0xLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw6ICcjZWVlJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgZHJhdzogKHBhcmVudCwgYmxvY2spID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgd2lkdGhQYXJ0ID0gcGFyZW50LndpZHRoIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay55ID0gcGFyZW50Lnk7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2sueCA9IHBhcmVudC54ICsgd2lkdGhQYXJ0IC8gMjtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay5oZWlnaHQgPSBwYXJlbnQuaGVpZ2h0IC0gYmxvY2suc3R5bGUubGluZVdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLndpZHRoID0gd2lkdGhQYXJ0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5Ud29DZWxsQmxvY2sgPSBUd29DZWxsQmxvY2s7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///58\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst engine_1 = __webpack_require__(8);\r\nconst option_1 = __webpack_require__(60);\r\nclass GeneralizedList extends engine_1.Engine {\r\n    constructor(container) {\r\n        super(container, {\r\n            name: 'GeneralizedList',\r\n            defaultOption: option_1.GLOption\r\n        });\r\n    }\r\n    /**\r\n     * 对子树进行递归布局\r\n     * @param node\r\n     * @param parent\r\n     */\r\n    layoutItem(node, prev) {\r\n        let w = node.width;\r\n        if (prev) {\r\n            node.y = prev.y;\r\n            node.x = prev.x + this.viewOption.layout.xInterval + w;\r\n        }\r\n        if (node.next) {\r\n            this.layoutItem(node.next, node);\r\n        }\r\n        // 存在子节点\r\n        if (node.sub) {\r\n            node.sub.y = node.y + this.viewOption.layout.yInterval + node.height;\r\n            node.sub.x = node.x;\r\n            // 子结点还是广义表\r\n            if (node.sub.tag === 1) {\r\n                this.layoutItem(node.sub, null);\r\n            }\r\n        }\r\n    }\r\n    render(elements) {\r\n        let tableNodes = elements.tableNode, tableRootNode = null;\r\n        for (let i = 0; i < tableNodes.length; i++) {\r\n            if (tableNodes[i].root) {\r\n                tableRootNode = tableNodes[i];\r\n                break;\r\n            }\r\n        }\r\n        if (tableRootNode) {\r\n            this.layoutItem(tableRootNode, null);\r\n        }\r\n    }\r\n}\r\nexports.GeneralizedList = GeneralizedList;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvR2VuZXJhbGl6ZWRMaXN0L2VuZ2luZS50cz9jYjY1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQThDLGNBQWM7QUFDNUQsaUJBQWlCLG1CQUFPLENBQUMsQ0FBbUI7QUFDNUMsaUJBQWlCLG1CQUFPLENBQUMsRUFBVTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix1QkFBdUI7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiI1OS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGVuZ2luZV8xID0gcmVxdWlyZShcIi4uL1N0cnVjdFYvZW5naW5lXCIpO1xyXG5jb25zdCBvcHRpb25fMSA9IHJlcXVpcmUoXCIuL29wdGlvblwiKTtcclxuY2xhc3MgR2VuZXJhbGl6ZWRMaXN0IGV4dGVuZHMgZW5naW5lXzEuRW5naW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcikge1xyXG4gICAgICAgIHN1cGVyKGNvbnRhaW5lciwge1xyXG4gICAgICAgICAgICBuYW1lOiAnR2VuZXJhbGl6ZWRMaXN0JyxcclxuICAgICAgICAgICAgZGVmYXVsdE9wdGlvbjogb3B0aW9uXzEuR0xPcHRpb25cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5a+55a2Q5qCR6L+b6KGM6YCS5b2S5biD5bGAXHJcbiAgICAgKiBAcGFyYW0gbm9kZVxyXG4gICAgICogQHBhcmFtIHBhcmVudFxyXG4gICAgICovXHJcbiAgICBsYXlvdXRJdGVtKG5vZGUsIHByZXYpIHtcclxuICAgICAgICBsZXQgdyA9IG5vZGUud2lkdGg7XHJcbiAgICAgICAgaWYgKHByZXYpIHtcclxuICAgICAgICAgICAgbm9kZS55ID0gcHJldi55O1xyXG4gICAgICAgICAgICBub2RlLnggPSBwcmV2LnggKyB0aGlzLnZpZXdPcHRpb24ubGF5b3V0LnhJbnRlcnZhbCArIHc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChub2RlLm5leHQpIHtcclxuICAgICAgICAgICAgdGhpcy5sYXlvdXRJdGVtKG5vZGUubmV4dCwgbm9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOWtmOWcqOWtkOiKgueCuVxyXG4gICAgICAgIGlmIChub2RlLnN1Yikge1xyXG4gICAgICAgICAgICBub2RlLnN1Yi55ID0gbm9kZS55ICsgdGhpcy52aWV3T3B0aW9uLmxheW91dC55SW50ZXJ2YWwgKyBub2RlLmhlaWdodDtcclxuICAgICAgICAgICAgbm9kZS5zdWIueCA9IG5vZGUueDtcclxuICAgICAgICAgICAgLy8g5a2Q57uT54K56L+Y5piv5bm/5LmJ6KGoXHJcbiAgICAgICAgICAgIGlmIChub2RlLnN1Yi50YWcgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubGF5b3V0SXRlbShub2RlLnN1YiwgbnVsbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZW5kZXIoZWxlbWVudHMpIHtcclxuICAgICAgICBsZXQgdGFibGVOb2RlcyA9IGVsZW1lbnRzLnRhYmxlTm9kZSwgdGFibGVSb290Tm9kZSA9IG51bGw7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YWJsZU5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0YWJsZU5vZGVzW2ldLnJvb3QpIHtcclxuICAgICAgICAgICAgICAgIHRhYmxlUm9vdE5vZGUgPSB0YWJsZU5vZGVzW2ldO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRhYmxlUm9vdE5vZGUpIHtcclxuICAgICAgICAgICAgdGhpcy5sYXlvdXRJdGVtKHRhYmxlUm9vdE5vZGUsIG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLkdlbmVyYWxpemVkTGlzdCA9IEdlbmVyYWxpemVkTGlzdDtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///59\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst threeCellBlock_1 = __webpack_require__(61);\r\nconst twoCellBlock_1 = __webpack_require__(58);\r\nlet color = '#1fab89';\r\nexports.GLOption = {\r\n    struct: {\r\n        link: ['next', 'sub']\r\n    },\r\n    view: {\r\n        element: {\r\n            tableNode: {\r\n                shape: threeCellBlock_1.ThreeCellBlock,\r\n                size: [120, 40],\r\n                content: '[tag]',\r\n                anchors: {\r\n                    1: [120 / 3, 0]\r\n                },\r\n                style: {\r\n                    stroke: '#000',\r\n                    fill: color\r\n                }\r\n            },\r\n            atomNode: {\r\n                shape: twoCellBlock_1.TwoCellBlock,\r\n                size: [60, 30],\r\n                content: ['[tag]', '[data]'],\r\n                anchors: {\r\n                    1: [60 / 4, 0]\r\n                },\r\n                style: {\r\n                    stroke: '#000',\r\n                    fill: color\r\n                }\r\n            }\r\n        },\r\n        link: {\r\n            next: {\r\n                markers: ['circle', 'arrow'],\r\n                contact: [1, 3]\r\n            },\r\n            sub: {\r\n                markers: ['circle', 'arrow'],\r\n                contact: [4, 0]\r\n            }\r\n        },\r\n        layout: {\r\n            xInterval: 40,\r\n            yInterval: 20,\r\n        }\r\n    },\r\n    interact: {}\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvR2VuZXJhbGl6ZWRMaXN0L29wdGlvbi50cz9iNTkzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQThDLGNBQWM7QUFDNUQseUJBQXlCLG1CQUFPLENBQUMsRUFBa0I7QUFDbkQsdUJBQXVCLG1CQUFPLENBQUMsRUFBZ0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBIiwiZmlsZSI6IjYwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgdGhyZWVDZWxsQmxvY2tfMSA9IHJlcXVpcmUoXCIuL3RocmVlQ2VsbEJsb2NrXCIpO1xyXG5jb25zdCB0d29DZWxsQmxvY2tfMSA9IHJlcXVpcmUoXCIuL3R3b0NlbGxCbG9ja1wiKTtcclxubGV0IGNvbG9yID0gJyMxZmFiODknO1xyXG5leHBvcnRzLkdMT3B0aW9uID0ge1xyXG4gICAgc3RydWN0OiB7XHJcbiAgICAgICAgbGluazogWyduZXh0JywgJ3N1YiddXHJcbiAgICB9LFxyXG4gICAgdmlldzoge1xyXG4gICAgICAgIGVsZW1lbnQ6IHtcclxuICAgICAgICAgICAgdGFibGVOb2RlOiB7XHJcbiAgICAgICAgICAgICAgICBzaGFwZTogdGhyZWVDZWxsQmxvY2tfMS5UaHJlZUNlbGxCbG9jayxcclxuICAgICAgICAgICAgICAgIHNpemU6IFsxMjAsIDQwXSxcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICdbdGFnXScsXHJcbiAgICAgICAgICAgICAgICBhbmNob3JzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgMTogWzEyMCAvIDMsIDBdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc3R5bGU6IHtcclxuICAgICAgICAgICAgICAgICAgICBzdHJva2U6ICcjMDAwJyxcclxuICAgICAgICAgICAgICAgICAgICBmaWxsOiBjb2xvclxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhdG9tTm9kZToge1xyXG4gICAgICAgICAgICAgICAgc2hhcGU6IHR3b0NlbGxCbG9ja18xLlR3b0NlbGxCbG9jayxcclxuICAgICAgICAgICAgICAgIHNpemU6IFs2MCwgMzBdLFxyXG4gICAgICAgICAgICAgICAgY29udGVudDogWydbdGFnXScsICdbZGF0YV0nXSxcclxuICAgICAgICAgICAgICAgIGFuY2hvcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAxOiBbNjAgLyA0LCAwXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsbDogY29sb3JcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbGluazoge1xyXG4gICAgICAgICAgICBuZXh0OiB7XHJcbiAgICAgICAgICAgICAgICBtYXJrZXJzOiBbJ2NpcmNsZScsICdhcnJvdyddLFxyXG4gICAgICAgICAgICAgICAgY29udGFjdDogWzEsIDNdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN1Yjoge1xyXG4gICAgICAgICAgICAgICAgbWFya2VyczogWydjaXJjbGUnLCAnYXJyb3cnXSxcclxuICAgICAgICAgICAgICAgIGNvbnRhY3Q6IFs0LCAwXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBsYXlvdXQ6IHtcclxuICAgICAgICAgICAgeEludGVydmFsOiA0MCxcclxuICAgICAgICAgICAgeUludGVydmFsOiAyMCxcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgaW50ZXJhY3Q6IHt9XHJcbn07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///60\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst twoCellBlock_1 = __webpack_require__(58);\r\nclass ThreeCellBlock extends twoCellBlock_1.TwoCellBlock {\r\n    constructor(id, name, opt) {\r\n        super(id, name, opt);\r\n        this.addSubShape({\r\n            cell1: {\r\n                init: option => ({\r\n                    content: option.content,\r\n                }),\r\n                draw: (parent, block) => {\r\n                    let widthPart = parent.width / 3;\r\n                    block.y = parent.y;\r\n                    block.x = parent.x - widthPart;\r\n                    block.height = parent.height;\r\n                    block.width = widthPart;\r\n                }\r\n            },\r\n            cell2: {\r\n                init: () => ({\r\n                    content: null,\r\n                    zIndex: -1,\r\n                    style: {\r\n                        fill: '#eee'\r\n                    }\r\n                }),\r\n                draw: (parent, block) => {\r\n                    block.y = parent.y;\r\n                    block.x = parent.x;\r\n                    block.height = parent.height - block.style.lineWidth;\r\n                    block.width = parent.width / 3;\r\n                }\r\n            },\r\n            cell3: {\r\n                shapeName: 'rect',\r\n                init: () => ({\r\n                    content: null,\r\n                    zIndex: -1,\r\n                    style: {\r\n                        fill: '#eee'\r\n                    }\r\n                }),\r\n                draw: (parent, block) => {\r\n                    let widthPart = parent.width / 3;\r\n                    block.y = parent.y;\r\n                    block.x = parent.x + widthPart;\r\n                    block.height = parent.height - block.style.lineWidth;\r\n                    block.width = widthPart;\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.ThreeCellBlock = ThreeCellBlock;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvR2VuZXJhbGl6ZWRMaXN0L3RocmVlQ2VsbEJsb2NrLnRzPzE5N2UiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RCx1QkFBdUIsbUJBQU8sQ0FBQyxFQUFnQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsImZpbGUiOiI2MS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IHR3b0NlbGxCbG9ja18xID0gcmVxdWlyZShcIi4vdHdvQ2VsbEJsb2NrXCIpO1xyXG5jbGFzcyBUaHJlZUNlbGxCbG9jayBleHRlbmRzIHR3b0NlbGxCbG9ja18xLlR3b0NlbGxCbG9jayB7XHJcbiAgICBjb25zdHJ1Y3RvcihpZCwgbmFtZSwgb3B0KSB7XHJcbiAgICAgICAgc3VwZXIoaWQsIG5hbWUsIG9wdCk7XHJcbiAgICAgICAgdGhpcy5hZGRTdWJTaGFwZSh7XHJcbiAgICAgICAgICAgIGNlbGwxOiB7XHJcbiAgICAgICAgICAgICAgICBpbml0OiBvcHRpb24gPT4gKHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBvcHRpb24uY29udGVudCxcclxuICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgZHJhdzogKHBhcmVudCwgYmxvY2spID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgd2lkdGhQYXJ0ID0gcGFyZW50LndpZHRoIC8gMztcclxuICAgICAgICAgICAgICAgICAgICBibG9jay55ID0gcGFyZW50Lnk7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2sueCA9IHBhcmVudC54IC0gd2lkdGhQYXJ0O1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLmhlaWdodCA9IHBhcmVudC5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2sud2lkdGggPSB3aWR0aFBhcnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNlbGwyOiB7XHJcbiAgICAgICAgICAgICAgICBpbml0OiAoKSA9PiAoe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgekluZGV4OiAtMSxcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsOiAnI2VlZSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgIGRyYXc6IChwYXJlbnQsIGJsb2NrKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2sueSA9IHBhcmVudC55O1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLnggPSBwYXJlbnQueDtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay5oZWlnaHQgPSBwYXJlbnQuaGVpZ2h0IC0gYmxvY2suc3R5bGUubGluZVdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLndpZHRoID0gcGFyZW50LndpZHRoIC8gMztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY2VsbDM6IHtcclxuICAgICAgICAgICAgICAgIHNoYXBlTmFtZTogJ3JlY3QnLFxyXG4gICAgICAgICAgICAgICAgaW5pdDogKCkgPT4gKHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIHpJbmRleDogLTEsXHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsbDogJyNlZWUnXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICBkcmF3OiAocGFyZW50LCBibG9jaykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB3aWR0aFBhcnQgPSBwYXJlbnQud2lkdGggLyAzO1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLnkgPSBwYXJlbnQueTtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay54ID0gcGFyZW50LnggKyB3aWR0aFBhcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2suaGVpZ2h0ID0gcGFyZW50LmhlaWdodCAtIGJsb2NrLnN0eWxlLmxpbmVXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay53aWR0aCA9IHdpZHRoUGFydDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuVGhyZWVDZWxsQmxvY2sgPSBUaHJlZUNlbGxCbG9jaztcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///61\n")}])}));